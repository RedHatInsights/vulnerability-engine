#!/usr/bin/env python3
"""
vulnerability-manager-admin
"""
import os

from common.logging import init_logging, get_logger

from .main import create_app, DEFAULT_ROUTE

LOGGER = get_logger(__name__)


init_logging(num_servers=int(os.getenv("GUNICORN_WORKERS", "4")))
#  gunicorn expects an object called 'application' hence the pylint disable
application = create_app({DEFAULT_ROUTE: 'manager.admin.spec.yaml',  # pylint: disable=invalid-name
                          '': 'manager.healthz.spec.yaml'})

if __name__ == '__main__':
    application.run(host='0.0.0.0', port=8000)
