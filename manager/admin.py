#!/usr/bin/env python3
"""
vulnerability-manager-admin
"""
from .main import create_app
from common.config import Config
from common.logging import get_logger
from common.logging import init_logging

LOGGER = get_logger(__name__)
CFG = Config()


init_logging(num_servers=CFG.gunicorn_workers)
#  gunicorn expects an object called "application" hence the pylint disable
application = create_app({CFG.default_route: "manager.admin.spec.yaml",  # pylint: disable=invalid-name
                          "": "manager.healthz.spec.yaml"})

if __name__ == "__main__":
    application.run(host="0.0.0.0", port=CFG.private_port)
