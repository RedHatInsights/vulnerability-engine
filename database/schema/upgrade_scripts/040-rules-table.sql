-- insights rule table
CREATE TABLE IF NOT EXISTS insights_rule (
  id SERIAL,
  name TEXT NOT NULL UNIQUE, CHECK (NOT empty(name)),
  PRIMARY KEY (id)
) TABLESPACE pg_default;

GRANT SELECT, INSERT ON insights_rule TO ve_db_user_advisor_listener;
GRANT SELECT ON insights_rule TO ve_db_user_evaluator;
GRANT SELECT ON insights_rule TO ve_db_user_listener;
GRANT SELECT ON insights_rule TO ve_db_user_manager;
GRANT SELECT ON insights_rule TO ve_db_user_vmaas_sync;
GRANT SELECT ON insights_rule TO ve_db_user_metrics;
GRANT SELECT ON insights_rule TO ve_db_user_taskomatic;

GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA public TO ve_db_user_evaluator;
GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA public TO ve_db_user_listener;
GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA public TO ve_db_user_manager;
GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA public TO ve_db_user_vmaas_sync;
GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA public TO ve_db_user_metrics;
GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA public TO ve_db_user_taskomatic;
GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA public TO ve_db_user_advisor_listener;