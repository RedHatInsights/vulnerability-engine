FROM docker.io/centos/postgresql-12-centos7

ENV POSTGRESQL_USER 've_db_admin'
ENV POSTGRESQL_PASSWORD 've_db_admin_pwd'
ENV POSTGRESQL_DATABASE 'vulnerability'
ENV POSTGRESQL_MAX_CONNECTIONS '500'
ENV VE_DB_USER_MANAGER_PASSWORD 've_db_user_manager_pwd'
ENV VE_DB_USER_EVALUATOR_PASSWORD 've_db_user_evaluator_pwd'
ENV VE_DB_USER_LISTENER_PASSWORD 've_db_user_listener_pwd'
ENV VE_DB_USER_VMAAS_SYNC_PASSWORD 've_db_user_vmaas_sync_pwd'
ENV VE_DB_USER_METRICS_PASSWORD 've_db_user_metrics_pwd'
ENV VE_DB_USER_TASKOMATIC_PASSWORD 've_db_user_taskomatic_pwd'
ENV VE_DB_USER_ADVISOR_LISTENER_PASSWORD 've_db_user_advisor_listener_pwd'
ENV CYNDI_DB_ADMIN_PASSWORD 'cyndi_db_admin_pwd'

ADD database/schema/ve_db_postgresql.sql ${CONTAINER_SCRIPTS_PATH}/start/
ADD database/schema/ve_db_user_create_postgresql.sql ${CONTAINER_SCRIPTS_PATH}/start/
ADD database/schema/init_schema.sh ${CONTAINER_SCRIPTS_PATH}/start/
ADD database/schema/ve_db_dev_cyndi.sql ${CONTAINER_SCRIPTS_PATH}/start/
