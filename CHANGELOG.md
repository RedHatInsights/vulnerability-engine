# CHANGELOG

## v2.39.0 (2024-08-06)

### Feature

* feat(vmaas-sync): cleanup old recalc events

RHINENG-10107 ([`bb2bc00`](https://github.com/RedHatInsights/vulnerability-engine/commit/bb2bc0061f7ad02ea6b375bf5cfd3ade5851ca73))

* feat(vmaas-sync): save updated packages to the DB to be re-used in evaluator later

RHINENG-10107 ([`5d895e0`](https://github.com/RedHatInsights/vulnerability-engine/commit/5d895e05d3ac2c6be36d9e5e58e671e15c2d76b3))

* feat(database): table for storing recalc events

RHINENG-10107 ([`13b871b`](https://github.com/RedHatInsights/vulnerability-engine/commit/13b871b5b2d78f69ea0d83216292c498ef46af0c))

### Fix

* fix(vmaas-sync): need to increase timeout due to large responses with changed pkgs

RHINENG-10107 ([`a016204`](https://github.com/RedHatInsights/vulnerability-engine/commit/a016204673571679136b5c1f67aa6e54af6e916d))

### Refactor

* refactor(vmaas-sync): remove feature flag to disable repo-based recalc ([`199283c`](https://github.com/RedHatInsights/vulnerability-engine/commit/199283c6f26c2c1dfaa755aae5f6539af4d122a1))

## v2.38.10 (2024-07-30)

### Chore

* chore: add grafana dashboard for evaluation duration metrics ([`de0860b`](https://github.com/RedHatInsights/vulnerability-engine/commit/de0860b163a5c1bac9b34bf6f520569596ba9ad4))

* chore: observe duration of async functions ([`64b30a7`](https://github.com/RedHatInsights/vulnerability-engine/commit/64b30a7998fda19296618b5a82064f56ebbdec26))

* chore: add prometheus-async ([`38a5ba7`](https://github.com/RedHatInsights/vulnerability-engine/commit/38a5ba734cf518585bbdeff4eea4224c5d2dd69f))

* chore: extend evaluation metrics

RHINENG-11508 ([`f189b4b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f189b4bcf2cccb2042d8cd66374f209ba466857a))

### Fix

* fix(manager): advisory detail is never returned

RHINENG-11586 ([`bda337a`](https://github.com/RedHatInsights/vulnerability-engine/commit/bda337a02d278c30443de79256b269c883b7bdf8))

## v2.38.9 (2024-07-18)

### Fix

* fix: add cve_account_data rh_account_id index ([`5f8bdf9`](https://github.com/RedHatInsights/vulnerability-engine/commit/5f8bdf98874568da38b1f2e9a63370d55728d08b))

## v2.38.8 (2024-07-17)

### Fix

* fix(evaluator): limit number of linked vulnerable packages to a system ([`bb9b5fc`](https://github.com/RedHatInsights/vulnerability-engine/commit/bb9b5fcaa1276f3c55d184d6a5babeae8e568983))

## v2.38.7 (2024-07-08)

### Chore

* chore: update deps ([`fb7a8fc`](https://github.com/RedHatInsights/vulnerability-engine/commit/fb7a8fcfb3cccb2861f4ddd3284aeb3aa424b3df))

### Fix

* fix(manager): add missing DISTINCTs

RHINENG-11221 ([`66953f7`](https://github.com/RedHatInsights/vulnerability-engine/commit/66953f711357fd895cca9718d3976df2136ac394))

## v2.38.6 (2024-07-03)

### Fix

* fix(evaluator): use module information from VMaaS response

RHINENG-11179 ([`cf749c4`](https://github.com/RedHatInsights/vulnerability-engine/commit/cf749c44816db8b4e6fb34491c32b318223b508c))

* fix(database): add module information to vulnerable_package table

RHINENG-11179 ([`c9fd444`](https://github.com/RedHatInsights/vulnerability-engine/commit/c9fd44407b32591f46edde0bb624bc369bf95491))

## v2.38.5 (2024-06-27)

### Fix

* fix(vmaas_sync): Revert recalc system with updated packages in repos

Additional work needs to be done, reverting the change to not block release to prod.

RHINENG-10107
RHINENG-10893

This reverts commit a776d33be63e166b3cff93a68248bd15af6fe1a6.
This reverts commit 97e9354a5953b949b15e4d07c408a07983e45272.
This reverts commit d8cef5a5b3b373bb0761481bfbdbff78580cbc1d.
This reverts commit 8422f755e34a99b321fcaf99d06a527d6a3feae4. ([`a469448`](https://github.com/RedHatInsights/vulnerability-engine/commit/a469448184f4442d7d975815cc932bd220826785))

## v2.38.4 (2024-06-26)

### Fix

* fix: udpated_repos keyerror in vmaas-sync

RHINENG-10893 ([`a776d33`](https://github.com/RedHatInsights/vulnerability-engine/commit/a776d33be63e166b3cff93a68248bd15af6fe1a6))

## v2.38.3 (2024-06-25)

### Fix

* fix: increase memory requests for vmaas-sync

RHINENG-10893 ([`60a3229`](https://github.com/RedHatInsights/vulnerability-engine/commit/60a3229b3eabf34a248edf1ddc3fba6da3324fc0))

## v2.38.2 (2024-06-25)

### Fix

* fix: use show_packages to get updated_package_names from vmaas

RHINENG-10893 ([`97e9354`](https://github.com/RedHatInsights/vulnerability-engine/commit/97e9354a5953b949b15e4d07c408a07983e45272))

* fix: keyerror in vmaas-sync

RHINENG-10893 ([`d8cef5a`](https://github.com/RedHatInsights/vulnerability-engine/commit/d8cef5a5b3b373bb0761481bfbdbff78580cbc1d))

## v2.38.1 (2024-06-20)

### Chore

* chore: update deps and lock all of them only to major version

RHINENG-10652 ([`34208ee`](https://github.com/RedHatInsights/vulnerability-engine/commit/34208eebcbf25f141ff60f039f070fea55d29647))

### Fix

* fix: string formatting in CloudWatch

RHINENG-8336 ([`33a3e53`](https://github.com/RedHatInsights/vulnerability-engine/commit/33a3e53b98538639995b5b60c176f51ab631b775))

### Unknown

* Enable GH Jenkins Security Scan Job ([`7e618e9`](https://github.com/RedHatInsights/vulnerability-engine/commit/7e618e90d95cfdadaf5c6ea914bc5c4a81cc3cb2))

## v2.38.0 (2024-06-10)

### Feature

* feat(vmaas_sync): Recalc system with updated packages in repos

RHINENG-10107 ([`8422f75`](https://github.com/RedHatInsights/vulnerability-engine/commit/8422f755e34a99b321fcaf99d06a527d6a3feae4))

## v2.37.8 (2024-06-07)

### Fix

* fix(build): update it-root-ca

RHINENG-10539 ([`4899219`](https://github.com/RedHatInsights/vulnerability-engine/commit/4899219fadf056d581c2d08dab828875aed34ddb))

## v2.37.7 (2024-06-06)

### Chore

* chore: waive CVE-2019-8341 jinja2 (old CVE, we&#39;re using latest version, false positive?) ([`e26ae1e`](https://github.com/RedHatInsights/vulnerability-engine/commit/e26ae1e3c900f646601834f13a357ebe1b11355c))

* chore: Centos 8 Stream was removed, install postgresql from COPR ([`d510f31`](https://github.com/RedHatInsights/vulnerability-engine/commit/d510f3151fe40c0f448ca2f5b2d5db2463ea018c))

* chore: update dependencies

RHINENG-10047 ([`8569134`](https://github.com/RedHatInsights/vulnerability-engine/commit/856913444aa57028ca78d3c41851c7af86f586c9))

### Fix

* fix: include levelname in CW logs from python code

RHINENG-8336 ([`a881b68`](https://github.com/RedHatInsights/vulnerability-engine/commit/a881b6839fb4fe47f6dcf8f3e5e66c47bc4a83b6))

## v2.37.6 (2024-04-25)

### Fix

* fix(build_deploy): only create sc tag when building sc branch ([`bb55383`](https://github.com/RedHatInsights/vulnerability-engine/commit/bb55383ee087491c6deae3189ffb010bb9c6f79a))

## v2.37.5 (2024-04-23)

### Chore

* chore: force using bash due to syntax error ([`cbc6637`](https://github.com/RedHatInsights/vulnerability-engine/commit/cbc6637e9ecb791d0766eaabffea00f04813ebe8))

* chore: upgrade to latest gunicorn and idna

RHINENG-9574 ([`8d315d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/8d315d0ac5a9ffb07dac2942c30c63975e103d32))

### Fix

* fix(taskomatic): use org_id for metrics because account_number can be empty ([`768fa7d`](https://github.com/RedHatInsights/vulnerability-engine/commit/768fa7d99f03e7f972f9fa343438a4045211867e))

## v2.37.4 (2024-04-18)

### Fix

* fix(database): vulnerable_package_cve(cve) index is useful for cve/affected_systems query ([`98206e5`](https://github.com/RedHatInsights/vulnerability-engine/commit/98206e51ecfa6256c74a10a05f400dd3a482f019))

## v2.37.3 (2024-04-17)

### Fix

* fix(manager): uvicorn worker overrides gunicorn logging settings ([`068dd08`](https://github.com/RedHatInsights/vulnerability-engine/commit/068dd0868349294bd6cfa4413a06e5675cd17277))

## v2.37.2 (2024-04-17)

### Chore

* chore: log there are missing secrets for read replica ([`f994fb3`](https://github.com/RedHatInsights/vulnerability-engine/commit/f994fb38a1beab8ccc66728a404c467c3a76692e))

### Fix

* fix(manager): set specific models for possible RW operations instead of changing peewee internals ([`b937f1a`](https://github.com/RedHatInsights/vulnerability-engine/commit/b937f1a37d249959f0dbd110a19e8a7bf9b1dbb4))

### Unknown

* Fix artifact collection on tests failure

 - refactor CI scripts, simplify Jenkinsfile ([`c072c93`](https://github.com/RedHatInsights/vulnerability-engine/commit/c072c933fa53479fc20b09dcfa191e07b1636d8f))

## v2.37.1 (2024-03-15)

### Chore

* chore: upgrade peewee ([`5b552df`](https://github.com/RedHatInsights/vulnerability-engine/commit/5b552df1b7f5aa750443ba6401ec7cb871999d55))

* chore(manager): upgrade to connexion 3 (keep flask)

RHINENG-7677 ([`197f578`](https://github.com/RedHatInsights/vulnerability-engine/commit/197f57805eb7b7ca42dc6d427a5ea3188e247cf0))

* chore: --verify has been deprecated ([`6dd38a4`](https://github.com/RedHatInsights/vulnerability-engine/commit/6dd38a492c16f74c9cec5c92adf2282226266d16))

* chore: upgrade to py 3.11 in test container ([`145b372`](https://github.com/RedHatInsights/vulnerability-engine/commit/145b372c61f99c36e69b0c8c9cd6d97cbd8f846d))

* chore(platform-mock): update kafka url ([`1878c87`](https://github.com/RedHatInsights/vulnerability-engine/commit/1878c8779e5ce0edfbd56edbe988c4ce700ff2cb))

### Fix

* fix(manager): selected wait_event_type and wait_event can be NULL ([`6116b8c`](https://github.com/RedHatInsights/vulnerability-engine/commit/6116b8ce5974371d4ec061d0032f6bf13ff0b3a2))

* fix(manager): pin a2wsgi due to bug

https://github.com/spec-first/connexion/issues/1894 ([`0939141`](https://github.com/RedHatInsights/vulnerability-engine/commit/093914130025c824d0fa0355d740e4d1777dcdf0))

### Test

* test: current query is now actually selected ([`ff0ab5f`](https://github.com/RedHatInsights/vulnerability-engine/commit/ff0ab5f0b0c55ec6c38bcfa799a14f06af444ec3))

## v2.37.0 (2024-02-26)

### Chore

* chore(deps): update aiohttp to fix cve

poetry also updates other packages which are not pinned
RHINENG-7857 ([`2fe50f8`](https://github.com/RedHatInsights/vulnerability-engine/commit/2fe50f8d17f32e76d45c6d0c3608b68a8b4999e8))

* chore: update dev setup info in README ([`48136f3`](https://github.com/RedHatInsights/vulnerability-engine/commit/48136f33c2943386edd2d5c6b75dc02220cb3b8e))

### Feature

* feat(taskomatic): inherit global CVE status for generated caches

RHINENG-2381 ([`d1f16e0`](https://github.com/RedHatInsights/vulnerability-engine/commit/d1f16e03ed4a1a10f5430b096d377b4e2c49d2d2))

* feat(manager): inherit global CVE status in case CVE-system override is not set

RHINENG-2381 ([`3c672b2`](https://github.com/RedHatInsights/vulnerability-engine/commit/3c672b29409e1de46f4d03a51202cdc13873d878))

* feat(manager): add status ID cache

RHINENG-2381 ([`7222df6`](https://github.com/RedHatInsights/vulnerability-engine/commit/7222df6042b7eb67b54611cc51c97adc48b4d689))

## v2.36.0 (2024-02-13)

### Feature

* feat: delete edge_parity feature flag

RHINENG-2179 ([`205e35a`](https://github.com/RedHatInsights/vulnerability-engine/commit/205e35a730f3b697218ab350ca9be8019a4227b8))

## v2.35.0 (2024-02-05)

### Feature

* feat: support multiple kafka brokers

RHINENG-3748 ([`4bc728e`](https://github.com/RedHatInsights/vulnerability-engine/commit/4bc728e80fb7c05ff25659e845f248847c8ff950))

## v2.34.8 (2024-02-02)

### Chore

* chore: use --no-remove-resources for vulnerability-engine

manage worker processes are getting killed in ephemeral env
[2024-01-24 15:29:01 +0000] [1] [ERROR] Worker (pid:1307) was sent SIGKILL! Perhaps out of memory? ([`6eb10ac`](https://github.com/RedHatInsights/vulnerability-engine/commit/6eb10ac7e77ad73fd7414cedc76e9754d7b0eabd))

* chore: update python version

RHINENG-7728 ([`96f24e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/96f24e6b2895b74c9c5fab24ba60f13947b69ebc))

### Fix

* fix(clowdapp): fix listener resource requests ([`1def2a7`](https://github.com/RedHatInsights/vulnerability-engine/commit/1def2a7c4785b78fe039790c98474c75a8eaa17f))

## v2.34.7 (2024-01-26)

### Fix

* fix(floorist): try to run with chunksize to lower memory requirements ([`b821fcd`](https://github.com/RedHatInsights/vulnerability-engine/commit/b821fcd3b8fc50da65208432d4d0592d79e4a280))

## v2.34.6 (2024-01-08)

### Fix

* fix: store biggest latest_repo_change not just timestamp from last page ([`332590c`](https://github.com/RedHatInsights/vulnerability-engine/commit/332590c9f520cf1b73dcab65e5431be12f622c86))

### Unknown

* Add CRCD secrets ([`0ef5c14`](https://github.com/RedHatInsights/vulnerability-engine/commit/0ef5c1498d2e5ff13f24640879db27c13cd04592))

* jenkinsfile migration for pr checks ([`9b5dd4e`](https://github.com/RedHatInsights/vulnerability-engine/commit/9b5dd4e35dc4ff0b04403b7b2ba5ed9989d48d52))

## v2.34.5 (2023-12-15)

### Chore

* chore: service account support in 3scale-mock ([`cb01f87`](https://github.com/RedHatInsights/vulnerability-engine/commit/cb01f87dccd36cd3b86c529c95a3ac4ebd5507b3))

### Fix

* fix(manager): display service account username in logs

RHINENG-6121 ([`ef6e2e1`](https://github.com/RedHatInsights/vulnerability-engine/commit/ef6e2e1d44678b3c42de4138bed012d72e5822e5))

## v2.34.4 (2023-12-11)

### Fix

* fix(manager): return query after applying where to make it work

RHINENG-5472 ([`567ff23`](https://github.com/RedHatInsights/vulnerability-engine/commit/567ff23264ca53c5b56c6d9068740966650ecaed))

## v2.34.3 (2023-12-07)

### Fix

* fix(manager): use inner join when possible with affecting_host_type param

RHINENG-5256 ([`d03a4f4`](https://github.com/RedHatInsights/vulnerability-engine/commit/d03a4f44c9eab9369a5b321dc25b9bfe9ccb1a5b))

* fix: &#39;yupana&#39; is going to be deprecated in favor of &#39;satellite&#39; and &#39;discovery&#39; ([`3e1b031`](https://github.com/RedHatInsights/vulnerability-engine/commit/3e1b0316d3bd3175c38b59e3666a36ecf64b5f26))

## v2.34.2 (2023-12-07)

### Fix

* fix(manager): use limiter only in 3scale proxy calls ([`024a811`](https://github.com/RedHatInsights/vulnerability-engine/commit/024a8117196d80ca0aa098ab62c540300eb9d2ab))

## v2.34.1 (2023-12-06)

### Fix

* fix(manager): systems_affected columns should never be NULL when applying filters

...and for some reason postgresql executes the query faster

RHINENG-5256 ([`0156188`](https://github.com/RedHatInsights/vulnerability-engine/commit/015618866f859a86d0cb089ef0c2479a6180c285))

## v2.34.0 (2023-12-06)

### Feature

* feat: enable edge_parity feature flag ([`5baee7d`](https://github.com/RedHatInsights/vulnerability-engine/commit/5baee7da04bea38b60052949f40f95388f725d18))

## v2.33.0 (2023-12-05)

### Chore

* chore: check init.py in separate workflow step ([`cef6a89`](https://github.com/RedHatInsights/vulnerability-engine/commit/cef6a89269caa6282d10cae9af8593eb971f34c0))

### Feature

* feat(manager): add system_count_per_type counts in /vulnerabilities/cves

RHINENG-5885 ([`5ab3fa8`](https://github.com/RedHatInsights/vulnerability-engine/commit/5ab3fa8822aa201ed00e28a30879d7e858976e8b))

## v2.32.2 (2023-11-30)

### Chore

* chore: add gabi script collecting cve stats ([`d9aca04`](https://github.com/RedHatInsights/vulnerability-engine/commit/d9aca0478c694dbfb321f8b9eaefe63b0d63b3b7))

### Fix

* fix(manager): referer should only check redhat DNS domain ([`f61daa3`](https://github.com/RedHatInsights/vulnerability-engine/commit/f61daa34ad4e8a8b558c6c2cb9bfed5a229cd611))

## v2.32.1 (2023-11-29)

### Fix

* fix(manager): fix exec report to use new cache

RHINENG-5256 ([`07c0ab3`](https://github.com/RedHatInsights/vulnerability-engine/commit/07c0ab3af8d0bc2f5e6697bb005c5f2e81b46c16))

* fix(manager): fix dashboard to use new cache

RHINENG-5256 ([`b8f8638`](https://github.com/RedHatInsights/vulnerability-engine/commit/b8f8638780c4132c835609decb00d24757507b8d))

* fix(manager): fix dashbar to use new cache

RHINENG-5256 ([`a49db16`](https://github.com/RedHatInsights/vulnerability-engine/commit/a49db16bd072ad6ef31131c763bdda91360e1432))

## v2.32.0 (2023-11-29)

### Feature

* feat(manager): use edge caches for vulnerabilities endpoint

RHINENG-5256 ([`9e7f8df`](https://github.com/RedHatInsights/vulnerability-engine/commit/9e7f8df05b5d939449219131da576ec442c185ae))

* feat(cacheman): start counting edge systems inside cache

RHINENG-5256 ([`e4de48f`](https://github.com/RedHatInsights/vulnerability-engine/commit/e4de48fb65a28e166eedfa71a6927dbf8b8bbc79))

## v2.31.0 (2023-11-29)

### Chore

* chore: split tests job into separate tasks ([`f7ab21d`](https://github.com/RedHatInsights/vulnerability-engine/commit/f7ab21d8d09071fd4e47d397ed71aa87d5fdd1b1))

### Feature

* feat(manager): add API throttling ([`ae2d84d`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae2d84d9f0f6149638d19cb92f4e678f8e9b74b7))

## v2.30.1 (2023-11-27)

### Fix

* fix(manager): allow UI referer to be other envs ([`abd185a`](https://github.com/RedHatInsights/vulnerability-engine/commit/abd185a63087da6bb63595e5bf7f39665e07b0bd))

## v2.30.0 (2023-11-27)

### Feature

* feat(manager): limit page size to 100 ([`9404052`](https://github.com/RedHatInsights/vulnerability-engine/commit/9404052e3c9b8a77c48342c601c073c6f2e0096a))

## v2.29.0 (2023-11-24)

### Chore

* chore: log debug insert/delete vulnerable pkg-cve ([`eb4dc1b`](https://github.com/RedHatInsights/vulnerability-engine/commit/eb4dc1b1097078b1dd094b0e6a25e7ee1ecb38b3))

### Feature

* feat(evaluator): skip old kafka evaluation messages ([`33f8e98`](https://github.com/RedHatInsights/vulnerability-engine/commit/33f8e98f3a0494b1322cd520addd3dfd38ebbbca))

## v2.28.0 (2023-11-23)

### Feature

* feat(manager): introduce NA score CVEs as 0 in vuln/cves POST

RHINENG-3260 ([`5401490`](https://github.com/RedHatInsights/vulnerability-engine/commit/540149083df9b0cb992b78985dda9145b12687e9))

* feat(manager): introduce NA score CVEs as 0 in executive

RHINENG-3260 ([`87a1dd6`](https://github.com/RedHatInsights/vulnerability-engine/commit/87a1dd6e9488f5eb5234a42089d6a6c2dd5a875a))

* feat(manager): introduce NA score CVEs as 0 in dashboard

RHINENG-3260 ([`622f52a`](https://github.com/RedHatInsights/vulnerability-engine/commit/622f52a9dc3536da3ebc8417492becbb01c0828c))

## v2.27.0 (2023-11-23)

### Chore

* chore: update dependencies ([`f160f5d`](https://github.com/RedHatInsights/vulnerability-engine/commit/f160f5de23e0ced52b5d2e2d8e963f688bf059bf))

* chore(manager): limit API request size ([`3f8e37f`](https://github.com/RedHatInsights/vulnerability-engine/commit/3f8e37f6d0c66ac976235c5a151d5f470f3a4970))

### Feature

* feat(manager): executive report to feature system count by host types

RHINENG-3332 ([`49dcd6c`](https://github.com/RedHatInsights/vulnerability-engine/commit/49dcd6c9dbefb81aa719edb407f54794dcafbf1f))

## v2.26.0 (2023-11-10)

### Feature

* feat(vmaas_sync): fetch paginated vmaas values differently

RHINENG-2609 ([`c7f54d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/c7f54d0f4cd1b9dd7a8a170e1d0165b602725608))

## v2.25.3 (2023-11-09)

### Fix

* fix: mitigate CVE-2023-61657, CVE-2023-61661 ([`b95d0b4`](https://github.com/RedHatInsights/vulnerability-engine/commit/b95d0b4d387e30a0c85d72e7e7a5829bcbf3a8eb))

## v2.25.2 (2023-11-08)

### Chore

* chore: add type annotations and use named tuples ([`6283173`](https://github.com/RedHatInsights/vulnerability-engine/commit/6283173e3428bb30527ab5440a0b88b6f4a46340))

### Fix

* fix(manager): randomize unleash tmp path for each gunicorn process ([`f35e2f9`](https://github.com/RedHatInsights/vulnerability-engine/commit/f35e2f910fb0da30356579ed7b068932beb98ccb))

### Refactor

* refactor: change selects to use the system_cve_data table

RHINENG-2328 ([`81384d3`](https://github.com/RedHatInsights/vulnerability-engine/commit/81384d3f8241357474040f0bf6b4bf9caf8f3f13))

* refactor: re-write status_handler to use the system_cve_data table

RHINENG-2328 ([`880d51d`](https://github.com/RedHatInsights/vulnerability-engine/commit/880d51ded17fb3716ec11760a4f6f5408e58dde1))

* refactor: migrate status values from system_vulnerabilities to system_cve_data

RHINENG-2328 ([`c381cba`](https://github.com/RedHatInsights/vulnerability-engine/commit/c381cbad698d5cf3b1f7aa4c8e643a6a64849163))

* refactor: add separate table to store system-cve statuses

RHINENG-2328 ([`8aa973a`](https://github.com/RedHatInsights/vulnerability-engine/commit/8aa973a1f89ad1d666512204c96567c2d67beb89))

## v2.25.1 (2023-11-07)

### Fix

* fix(manager): fix print ([`a18601d`](https://github.com/RedHatInsights/vulnerability-engine/commit/a18601d7e6206b7d3b90206691b9c5d621f8389f))

## v2.25.0 (2023-11-07)

### Feature

* feat: enable cyndi filters on ephemeral ([`8a46f09`](https://github.com/RedHatInsights/vulnerability-engine/commit/8a46f09c1c285f328ac25115276cfa9b06a8df3c))

### Fix

* fix: mitigate CVE-2023-43804 and bump subdependencies ([`edb7154`](https://github.com/RedHatInsights/vulnerability-engine/commit/edb71545a099a48d4a3ecd5ff951b7fce87a49e1))

## v2.24.0 (2023-11-07)

### Feature

* feat(manager): add overall affected systems count to /cve/id

RHINENG-2824 ([`d6554c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/d6554c675f4e8fa3fa264d38bde76f546191becf))

## v2.23.0 (2023-11-02)

### Feature

* feat(manager): return RPMDNF systems by default from affected_systems

RHINENG-1640 ([`73e3b2a`](https://github.com/RedHatInsights/vulnerability-engine/commit/73e3b2a3b592b30a4aea57e61a788370aa87acc7))

## v2.22.0 (2023-11-02)

### Feature

* feat(manager): allow customer to delete his received notifications

VULN-2833 ([`40c244a`](https://github.com/RedHatInsights/vulnerability-engine/commit/40c244a83840ce3b2a4f1d3f876189d0a71c6fe0))

## v2.21.5 (2023-11-01)

### Fix

* fix(taskomatic): don&#39;t hide stale_warning systems

VULN-2825 ([`8a74ba9`](https://github.com/RedHatInsights/vulnerability-engine/commit/8a74ba9640ea2aa2be038023e37be5c61a0fb05e))

## v2.21.4 (2023-10-30)

### Fix

* fix(vmaas_sync): use new last change timestamp for repo based evaluation

RHINENG-2609 ([`0adc117`](https://github.com/RedHatInsights/vulnerability-engine/commit/0adc117a95b52c2e6911aa7ece37a8ac65b407ff))

### Unknown

* Re enable dashboard and report tests in pr check ([`7f58f27`](https://github.com/RedHatInsights/vulnerability-engine/commit/7f58f27ce007e3d3bc319e825534b12517461d4a))

## v2.21.3 (2023-10-18)

### Fix

* fix: url returns 404 ([`8d051d8`](https://github.com/RedHatInsights/vulnerability-engine/commit/8d051d85ce2f446e7a2b849d28886a1fa36a96e9))

## v2.21.2 (2023-10-18)

### Chore

* chore: upgrade aiokafka to 0.8.1 ([`23b8805`](https://github.com/RedHatInsights/vulnerability-engine/commit/23b88058274a16ed4d67c7369ba6e282f9846c17))

### Fix

* fix(manager): fix inventory filters query ([`cad9376`](https://github.com/RedHatInsights/vulnerability-engine/commit/cad9376fc5ab64b2d5db09c92c26f6333af53764))

### Unknown

* feature: reverting to placeholder jenkinsfile ([`6fbba8f`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fbba8f2d07f34bc4987ebe2e264ce79e3979271))

## v2.21.1 (2023-10-10)

### Fix

* fix(evaluator): Revert - always set none remediation for rule hits without playbook

This reverts commit fad7272735ac5512e90a949742ee794b243a4e33. ([`3f66b56`](https://github.com/RedHatInsights/vulnerability-engine/commit/3f66b5605765276f0c6b854f7869040d977e5fb9))

## v2.21.0 (2023-10-09)

### Feature

* feat(common): introduce db pool timeout and enlarge it to 5 minutes ([`8bc63e8`](https://github.com/RedHatInsights/vulnerability-engine/commit/8bc63e8b43c4427076ecd5fa2d439274aa105650))

## v2.20.2 (2023-10-06)

### Fix

* fix(manager): fix sorting by fields in affected_systems endpoint ([`d4a159b`](https://github.com/RedHatInsights/vulnerability-engine/commit/d4a159ba41ca29278f262a516ec2ba0ceab271de))

* fix(manager): fix sorting by fields in cves/ids endpoint ([`93c6201`](https://github.com/RedHatInsights/vulnerability-engine/commit/93c620124b4731913e1d8fefe1e7749220e7011e))

## v2.20.1 (2023-10-05)

### Fix

* fix(manager): advisory_available flag in unfixed only query ([`31efe16`](https://github.com/RedHatInsights/vulnerability-engine/commit/31efe16feade4cedb728b45ed8208ce13d819036))

## v2.20.0 (2023-10-05)

### Feature

* feat(manager): systems sortable by groups

RHINENG-1837 ([`993a8d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/993a8d09eaeb2c1e476e6cba7c201cf8b444461e))

### Fix

* fix(taskomatic): exclude rule hits without remediation from advisory_available list

move them to advisory_available=false list

VULN-2790 ([`08fe830`](https://github.com/RedHatInsights/vulnerability-engine/commit/08fe8307016b3d6338fc1483ab087783ad66b28a))

* fix(evaluator): exclude rule hits without remediation from total system CVE count

VULN-2790 ([`b77a01f`](https://github.com/RedHatInsights/vulnerability-engine/commit/b77a01f18cf761aa7f2d0d7ca9fb1316905ab428))

* fix(manager): exclude rule hits without remediation from advisory_available list

move them to advisory_available=false list

VULN-2790 ([`f7837d6`](https://github.com/RedHatInsights/vulnerability-engine/commit/f7837d67df94b59a5f4e1506c1f8c3ecb96e18f4))

### Test

* test: set playbook remediation in test data ([`958d687`](https://github.com/RedHatInsights/vulnerability-engine/commit/958d6872b33ff9ae45b786f23f1f7f5477c023e7))

## v2.19.5 (2023-10-02)

### Fix

* fix(evaluator): always set none remediation for rule hits without playbook

VULN-2790 ([`fad7272`](https://github.com/RedHatInsights/vulnerability-engine/commit/fad7272735ac5512e90a949742ee794b243a4e33))

## v2.19.4 (2023-10-02)

### Fix

* fix(manager): display only fixed cves in exec report ([`24f7cee`](https://github.com/RedHatInsights/vulnerability-engine/commit/24f7cee48b2f9894c8b41880b9e0820ad541c6e4))

* fix(manager): display only fixed cves in dashboard ([`2ef21fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/2ef21fed1f66b01267e45f33caf5818560dd8c85))

* fix(manager): display only fixed cves in dashbar ([`e700e8c`](https://github.com/RedHatInsights/vulnerability-engine/commit/e700e8c6e305f1b0d064d71d30c8b936c056b96c))

### Unknown

* Update manager.spec.yaml

(docs) Change summary to start with a verb for consistency. ([`31ca6c9`](https://github.com/RedHatInsights/vulnerability-engine/commit/31ca6c93e9d405aa0617c96d5ae0d8f10d3f2ec1))

## v2.19.3 (2023-09-29)

### Chore

* chore: enable all local/ephemeral feature flags ([`41b7807`](https://github.com/RedHatInsights/vulnerability-engine/commit/41b7807cb42d9ce37cd803662e8957f192f70bc4))

* chore: update tests to work with cves_without_errata unleash ([`7991773`](https://github.com/RedHatInsights/vulnerability-engine/commit/79917735f627de7dabd5caa67a55b6c5cd492b3e))

### Fix

* fix: add unleash env var to clowdapp ([`b763531`](https://github.com/RedHatInsights/vulnerability-engine/commit/b763531e89a3d1c64c7c9b65ab3a6f7909b6e789))

* fix: add vulnerability.account_cache unleash ff ([`18df6d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/18df6d0cfc10fdf68227f8ae5a9754de67e8f38c))

* fix: add vulnerability.inventory_groups unleash ff ([`17c7c6d`](https://github.com/RedHatInsights/vulnerability-engine/commit/17c7c6d69755c04bf2474ffb53fa5ea701ba0ac0))

* fix: use unleash to set up cves_without_errata feature ([`d53dafd`](https://github.com/RedHatInsights/vulnerability-engine/commit/d53dafdf488cae75592dcebd35125edbf6fb0d8e))

## v2.19.2 (2023-09-29)

### Fix

* fix(listener): raise InvalidAdvisorMsg which will be catched ([`0a00488`](https://github.com/RedHatInsights/vulnerability-engine/commit/0a004887102e040e3758aa488959826c21b4b96e))

## v2.19.1 (2023-09-27)

### Fix

* fix(manager): verify that cached groups and fetched groups have same
type ([`ba2becd`](https://github.com/RedHatInsights/vulnerability-engine/commit/ba2becddf50bbe29eed430f03e05ba1d65362ed8))

## v2.19.0 (2023-09-27)

### Feature

* feat(cacheman): start generating cache based on cached groups ([`382fe13`](https://github.com/RedHatInsights/vulnerability-engine/commit/382fe136376dbd7638e0f21013ce06e42adb4c59))

* feat(manager): start inserting inventory groups into cache ([`7b6dff7`](https://github.com/RedHatInsights/vulnerability-engine/commit/7b6dff7691d5b7a5aded8a6a163a46a7dd5cc51e))

### Refactor

* refactor(manager): use accountdata dataclass ([`3bf1f50`](https://github.com/RedHatInsights/vulnerability-engine/commit/3bf1f508e18adaebb96a7ef96294285b8ecca5f0))

## v2.18.8 (2023-09-27)

### Fix

* fix(manager): include cves without cvss score in cvss filter

VULN-2810 ([`9640a05`](https://github.com/RedHatInsights/vulnerability-engine/commit/9640a05adce264fd2bc0765950d341b0854a9037))

## v2.18.7 (2023-09-26)

### Fix

* fix(manager): re-introduce bool_or to avoid CVE duplication

VULN-2821 ([`6ce651e`](https://github.com/RedHatInsights/vulnerability-engine/commit/6ce651e00125f232cc80f9179a7b03c614d18978))

## v2.18.6 (2023-09-26)

### Fix

* fix(manager): fix the condition to show unfixed CVEs in current env

VULN-2821 ([`1f47c25`](https://github.com/RedHatInsights/vulnerability-engine/commit/1f47c255b4ff7015ed0749124414eeeb86cfac4a))

### Unknown

* Revert &#34;fix(manager): do not show advisory_available=true when filter is false and CVE has 0 affecting systems&#34;

The workaround should no longer be needed.

This reverts commit 4f08fa3e132d6d962f7ff379e4b8daec6f2731ff.
This reverts commit d7416ee6c17e19dcf9cad4105187562a67544e60. ([`8976963`](https://github.com/RedHatInsights/vulnerability-engine/commit/89769633fd6e8b556103e4bbaf157cd1cee0a228))

## v2.18.5 (2023-09-25)

### Fix

* fix(manager): fix the condition

VULN-2789 ([`4f08fa3`](https://github.com/RedHatInsights/vulnerability-engine/commit/4f08fa3e132d6d962f7ff379e4b8daec6f2731ff))

## v2.18.4 (2023-09-25)

### Fix

* fix(manager): do not show advisory_available=true when filter is false and CVE has 0 affecting systems

VULN-2789 ([`d7416ee`](https://github.com/RedHatInsights/vulnerability-engine/commit/d7416ee6c17e19dcf9cad4105187562a67544e60))

## v2.18.3 (2023-09-25)

### Chore

* chore: update gitpython to fix vulnerabilities ([`e510f40`](https://github.com/RedHatInsights/vulnerability-engine/commit/e510f401b9e8958e7ec95b6529af9c21a841afad))

### Fix

* fix(manager): check static advisory list instead of default true

fixes bug when all CVEs with 0 affecting systems are displaing Advisory Available
VULN-2789 ([`d8a77ac`](https://github.com/RedHatInsights/vulnerability-engine/commit/d8a77ac312cba466a842cf7cd5a5e91979b67da5))

### Unknown

* Adding Security-Compliance Branch Build and Tagging Support ([`439cfd7`](https://github.com/RedHatInsights/vulnerability-engine/commit/439cfd791cf096cda9d236612662205b051f5bf0))

* &lt;docs&gt;: Updates to Vulnerability Management API

&lt;Edited the summary and description sections. Added a use case to each description&gt;. ([`7fa0e91`](https://github.com/RedHatInsights/vulnerability-engine/commit/7fa0e916e8f604c355d9495073e9a0696c5892fa))

## v2.18.2 (2023-09-21)

### Fix

* fix(manager): improve advisory_available without affecting filter

VULN-2789

advisory_available=true,false or null:
display all CVEs

advisory_available=true:
display CVEs having at least 1 advisory + CVEs with advisories affecting current env
(should be a subset but non necessarily due to rules)

advisory_available=false:
display CVEs having 0 advisory + CVEs marked as unfixed in current env ([`fe11141`](https://github.com/RedHatInsights/vulnerability-engine/commit/fe11141c0fc2a485bc812d608dc7e22094090e23))

## v2.18.1 (2023-09-21)

### Fix

* fix(manager): correctly sum statuses from both subqueries ([`c79c0af`](https://github.com/RedHatInsights/vulnerability-engine/commit/c79c0af07a25d1cffddee88bdaf3d5897fcb587e))

* fix(manager): display all CVEs when no advisory_available filter is specified

VULN-2807 ([`9f4732f`](https://github.com/RedHatInsights/vulnerability-engine/commit/9f4732fae93fca6c1f738a276275395e6d765c97))

## v2.18.0 (2023-09-21)

### Feature

* feat(listener): skip non-rhel systems for advisor message

RHINENG-2199 ([`86a372e`](https://github.com/RedHatInsights/vulnerability-engine/commit/86a372ec651eb5428243fb0cc3335c10b5b69fb5))

* feat(listener): skip non-rhel systems for inventory message

RHINENG-2199 ([`549bc83`](https://github.com/RedHatInsights/vulnerability-engine/commit/549bc8337fa58321342769df2c606c3de3ce37f1))

* feat(platform_mock): start sending mocked rhel version

RHINENG-2199 ([`47362e3`](https://github.com/RedHatInsights/vulnerability-engine/commit/47362e30a3fcb897fb1daadd9f42206fd06dd3b2))

## v2.17.6 (2023-09-21)

### Fix

* fix(evaluator): correct evaluation of remediation type

RHINENG-2224 ([`827eaa4`](https://github.com/RedHatInsights/vulnerability-engine/commit/827eaa44cb9bdce42d6cea6480fc4940ce4a0b22))

## v2.17.5 (2023-09-20)

### Fix

* fix(manager): fix of a distinct count, need to do in more complicated way

VULN-2799 ([`3bbfa15`](https://github.com/RedHatInsights/vulnerability-engine/commit/3bbfa15f880197c09762a9799c4cc6399cb68ca5))

## v2.17.4 (2023-09-20)

### Chore

* chore(manager): return cves_without_errata flag in dashbar meta

VULN-2796 ([`ec038d4`](https://github.com/RedHatInsights/vulnerability-engine/commit/ec038d4e7d100956b3b4a4a277a292bcf7b3d2d9))

### Fix

* fix(manager): fix a case when there are more vulnerable packages associated with a system

and triggering the same CVE
VULN-2799 ([`84c21c8`](https://github.com/RedHatInsights/vulnerability-engine/commit/84c21c85823f4be3116107199c6c467956474b5f))

## v2.17.3 (2023-09-19)

### Fix

* fix(manager): apply non-empty advisories list filter consistently in all APIs

like it&#39;s filtered in /vulnerabilities/cves API

this is a workaround for discrepancies in CVE data causing incorrect counts between different endpoints
some fixable CVE like CVE-2018-20217 has empty advisory list even if it shouldn&#39;t have

this should be fixed properly later (the exclusion based on empty advisories_list removed)

VULN-2791 ([`67c97bd`](https://github.com/RedHatInsights/vulnerability-engine/commit/67c97bdf0f001bd8647cc509b40ade2479cd1648))

## v2.17.2 (2023-09-19)

### Fix

* fix(manager): affecting filter should take edge systems into account ([`795a84a`](https://github.com/RedHatInsights/vulnerability-engine/commit/795a84ae7a427e39f4dffd71b77587e7a1f30b27))

## v2.17.1 (2023-09-19)

### Fix

* fix(manager): always join with inventory.hosts even if there are no args

some extra systems (e.g. centos) can persist in system_platform

and also because of inventory groups

VULN-2791 ([`764966c`](https://github.com/RedHatInsights/vulnerability-engine/commit/764966cc826818a0e10e3d7b846988b9170cd589))

## v2.17.0 (2023-09-18)

### Feature

* feat(manager): add affecting host types filter for vulnerabilities/cves

RHINENG-1857 ([`69a2563`](https://github.com/RedHatInsights/vulnerability-engine/commit/69a25633307c3db50af7713a55fc8149be322be5))

* feat(manager): start counting edge systems in vulnerabilities/cves

RHINENG-1857 ([`d7143f6`](https://github.com/RedHatInsights/vulnerability-engine/commit/d7143f63e5c40204016162da98a61fc5540d18fa))

## v2.16.0 (2023-09-15)

### Feature

* feat(manager): implement new host_type filter for affected_systems

RHINENG-1640 ([`91246b5`](https://github.com/RedHatInsights/vulnerability-engine/commit/91246b598eae4c1355f3fba41fb3c167a0dcd42c))

## v2.15.0 (2023-09-14)

### Feature

* feat(cacheman): count edge systems in caches

Count all host types, incl. edge systems, in CVE and rule caches,
when enabled by `vulnerability.edge_parity` feature flag.

RHINENG-1699 ([`a10a1a9`](https://github.com/RedHatInsights/vulnerability-engine/commit/a10a1a9e020d321db0476e6b1519d5bba4b2240a))

* feat(taskomatic): initialize Unleash

RHINENG-1699 ([`8dec467`](https://github.com/RedHatInsights/vulnerability-engine/commit/8dec467a7864673826ba54801cbafe40a67a0b46))

* feat(tests): reset Unleash in test cases

RHINENG-1699 ([`0930b4f`](https://github.com/RedHatInsights/vulnerability-engine/commit/0930b4fd65a65167c562950bccdecb6fd34516fe))

### Fix

* fix(tests): prevent Unleash warnings in tests

RHINENG-1699 ([`b183ab5`](https://github.com/RedHatInsights/vulnerability-engine/commit/b183ab50e25033685581f55766075653e458b7a4))

### Refactor

* refactor(cacheman): split inner select queries

RHINENG-1699 ([`6e704cb`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e704cbd9f077a793ac187476a335ab33b8ba6b6))

## v2.14.0 (2023-09-11)

### Feature

* feat(manager): dashboard counting edge

Count all host types in Dashboard for edge parity when
vulnerability.edge_parity feature flag is enabled.

VULN-2765 ([`1cc4c35`](https://github.com/RedHatInsights/vulnerability-engine/commit/1cc4c35030a2b953df4bf0da039a46f916e75f9d))

* feat(manager): dashbar counting edge

Count all host types in Dashbar for edge parity when
vulnerability.edge_parity feature flag is enabled.

VULN-2765 ([`5376d85`](https://github.com/RedHatInsights/vulnerability-engine/commit/5376d85b18228dd13c0db7772c89c43404c3b786))

* feat(manager): systems_affected edge included in cve details

Count all host types in systems_affected counter in CVE details
for edge parity when vulnerability.edge_parity feature flag
is enabled.

VULN-2776 ([`61ad593`](https://github.com/RedHatInsights/vulnerability-engine/commit/61ad5939a1c7c3f0d6dae4b9385570c6919bf907))

* feat(manager): systems_affected edge included in vuns &amp; reports

Count all host types in systems_affected counter in vulnerablities and
reports APIs for edge parity when vulnerability.edge_parity feature flag
is enabled.

VULN-2776 ([`6736407`](https://github.com/RedHatInsights/vulnerability-engine/commit/673640714044c85500c05e190a2e428bd69dc8fe))

* feat(manager): systems_affected in rules for all host types

Count all host types in rule&#39;s systems_affected counter for edge parity
when vulnerability.edge_parity feature flag is enabled.

VULN-2776 ([`ba1fbdf`](https://github.com/RedHatInsights/vulnerability-engine/commit/ba1fbdf15cab90b26a407e99013a9e79476a2cf8))

* feat(manager): initialize unleash

VULN-2776 ([`c05f21b`](https://github.com/RedHatInsights/vulnerability-engine/commit/c05f21b7c5b47b1b67bf611803c247b00095f1c5))

* feat: create edge parity feature flag

Adds vulnerability.edge_parity flag defaulting to False.

VULN-2776 ([`3593eed`](https://github.com/RedHatInsights/vulnerability-engine/commit/3593eed4d702292e516a5eaaabf6d37da8881474))

### Refactor

* refactor(manager): pass edge in get_rules_for_cves

VULN-2776
VULN-2765 ([`ba8a195`](https://github.com/RedHatInsights/vulnerability-engine/commit/ba8a1957e3e76a31ca82bc905f92d235e5b0fc09))

### Test

* test: create pytest.mark.feature_flag

Creates py.test marker for enabling/disabling feature flags.

VULN-2776 ([`9998b2c`](https://github.com/RedHatInsights/vulnerability-engine/commit/9998b2ce97788d3def05f3cd5624a3663d926d05))

## v2.13.2 (2023-09-07)

### Fix

* fix(manager): fix rule_presence filter for unfixed CVEs ([`1c3293c`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c3293ce8ffd63c05c0c05238ff9e6b6b3d0c718))

## v2.13.1 (2023-09-07)

### Fix

* fix(common): unleash authorization token

Fixes use of authorization token to Unleash server.

RHINENG-1773 ([`12114a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/12114a1bb77766e43a21d1b00b72f028dc34f3a5))

* fix(config): unleash API url

RHINENG-1773 ([`5f97473`](https://github.com/RedHatInsights/vulnerability-engine/commit/5f97473fb293e68002ce365e3f335e063be8abbb))

* fix(config): feature flags scheme value

Take value out of FeatureFlagsConfigSchemeEnum.

RHINENG-1773 ([`dded5fb`](https://github.com/RedHatInsights/vulnerability-engine/commit/dded5fbe73a18da2305366495de97ea4da1abea2))

## v2.13.0 (2023-08-31)

### Feature

* feat(evaluator): unleash flag cves_without_errata_evaluator

Utilize Unleash feature flags for cves_without_errata_evaluator.
Flag name: vulnerability.cves_without_errata_evaluator

RHINENG-1700 ([`926450b`](https://github.com/RedHatInsights/vulnerability-engine/commit/926450b7780c3ee43570897fc3bddcb4c104daeb))

* feat: create UnleashClientProxy

RHINENG-1700 ([`d2802bb`](https://github.com/RedHatInsights/vulnerability-engine/commit/d2802bb8e21ce6eb9acc234fbf5cbc250034d411))

* feat: add feature flags common

Adds common code for using feature flags with Unleash.

RHINENG-1700 ([`887fdca`](https://github.com/RedHatInsights/vulnerability-engine/commit/887fdca9be0ea68100cf5a893defa24b48645147))

* feat: add unleashclient dependency

RHINENG-1700 ([`4ac9f5c`](https://github.com/RedHatInsights/vulnerability-engine/commit/4ac9f5c3a16f0c3de33a1bcfc063352107d86669))

* feat(config): load feature flags config

RHINENG-1700 ([`fda476c`](https://github.com/RedHatInsights/vulnerability-engine/commit/fda476cf8a5bb03d361256211757489126e881ef))

### Test

* test: call function ([`2b559c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/2b559c6da71c9d76dc4df5d0cc8879ed8e8179bb))

## v2.12.2 (2023-08-29)

### Fix

* fix(evaluator): use rule hit details correctly as object

VULN-2775 ([`c69b2dc`](https://github.com/RedHatInsights/vulnerability-engine/commit/c69b2dcd8d3db0535a1c5e786e16a53a0e3303ba))

* fix(listener): dont serialize rule hit details in advisor_json

VULN-2775 ([`0d9905d`](https://github.com/RedHatInsights/vulnerability-engine/commit/0d9905dd02e7176d1a676e943264e73a4d67c574))

## v2.12.1 (2023-08-25)

### Fix

* fix(manager): remove ungrouped_hosts parameter

VULN-2777 ([`fe8244d`](https://github.com/RedHatInsights/vulnerability-engine/commit/fe8244d4c06a076410835ce541bad3b8749fc5cb))

## v2.12.0 (2023-08-23)

### Chore

* chore(tests): queries without advisories tests ([`33271ca`](https://github.com/RedHatInsights/vulnerability-engine/commit/33271ca8319a60b90567f92d7a71f6b09183f7d9))

### Feature

* feat(manager): support for unpatched CVEs in /vulnerabilities/cves

VULN-2723 ([`ed9956e`](https://github.com/RedHatInsights/vulnerability-engine/commit/ed9956e29911dc7b5f0ffc02126c1182b26c903b))

* feat: add caching for unpatched CVEs

VULN-2723 ([`5475287`](https://github.com/RedHatInsights/vulnerability-engine/commit/547528750631c6c4aef9578e5c805de1ea2a449e))

* feat(manager): add unpatched system queries

Co-authored-by: Jan Dobes &lt;jdobes@redhat.com&gt; ([`c182b36`](https://github.com/RedHatInsights/vulnerability-engine/commit/c182b36ea923a989e06b02496d5843cf6e9055d3))

* feat(manager): add unpatched cve handler queries

Co-authored-by: Jan Dobes &lt;jdobes@redhat.com&gt; ([`5cfd728`](https://github.com/RedHatInsights/vulnerability-engine/commit/5cfd72808572ce0230be6fa9406984bee31c8d32))

* feat(database): add unpatched CVEs testing data ([`4e75d9c`](https://github.com/RedHatInsights/vulnerability-engine/commit/4e75d9c6ca992ab1cc8e75791c9e62a70ae4429b))

### Fix

* fix(manager): use different synopsis sort statement in /vulnerabilities/cves ([`641bc87`](https://github.com/RedHatInsights/vulnerability-engine/commit/641bc871ef5c38f029b4c594b98c61f49791ee30))

## v2.11.3 (2023-08-22)

### Fix

* fix(evaluator): correctly use the rule results

VULN-2775 ([`a9a3d8d`](https://github.com/RedHatInsights/vulnerability-engine/commit/a9a3d8d7a8f846f4c7609bbe3d0de6c5cb9c8b63))

## v2.11.2 (2023-08-21)

### Chore

* chore: remove examples requirements.txt to not report vulnerabilities in dependabot ([`b06ea58`](https://github.com/RedHatInsights/vulnerability-engine/commit/b06ea58ab7f283aa0160efc541b551d86b157830))

* chore: Jenkinsfile PR Check Enhancement

* Added stages to Jenkinsfile

* Get labels in next stage

* Adding helper functions

* Adding stages

* Fixed vars in environment block

* Fixed error

* Fixing stage order

* Sourcing helper functions

* Updating logic

* Updating pr check

* Updates to stages

* Updating smoke test function

* Updated smoke test function for stage

* Install bonfire for smoke tests

* Release namespace false

* Updating smoke test stage

* Flipping flag vars

* Moving initial vars into helper script

* Updating initial vars

* Fixing pre-commit errors

* Setting label flags

* Uncomment function

* Fixing labels

* Fixing var name

* Function cleanup, adding ephemeral deploy stage ([`da02799`](https://github.com/RedHatInsights/vulnerability-engine/commit/da02799d4bd7eb1ee1c1214797db457a7aca8ffe))

### Documentation

* docs(manager): corrected inventory_group description in spec ([`4a7ee22`](https://github.com/RedHatInsights/vulnerability-engine/commit/4a7ee22935724e7c371ac63b5a6f4e23eaf27f02))

### Fix

* fix: update libs to fix vulnerabilities ([`7dc6d03`](https://github.com/RedHatInsights/vulnerability-engine/commit/7dc6d0351c973e7609a918b4560370e68195cb1e))

## v2.11.1 (2023-08-21)

### Documentation

* docs(manager): add docstrings to inventory group filters ([`b3bd3df`](https://github.com/RedHatInsights/vulnerability-engine/commit/b3bd3df3707500b8d2ad721710443c8829de926c))

### Fix

* fix: update aiohttp to 3.8.5 ([`639f547`](https://github.com/RedHatInsights/vulnerability-engine/commit/639f54705ec395436788bfe40d4a11e4bfaf71c2))

## v2.11.0 (2023-08-17)

### Feature

* feat: full memory fetching in floorist

VULN-2773 ([`c946d3b`](https://github.com/RedHatInsights/vulnerability-engine/commit/c946d3be47269a11549ba6d952b447feb0779b84))

## v2.10.1 (2023-08-16)

### Fix

* fix: corrected rbac parsing ([`9f31aac`](https://github.com/RedHatInsights/vulnerability-engine/commit/9f31aaccf79e7567b80f49ee26ad420ae6935386))

## v2.10.0 (2023-08-14)

### Feature

* feat: add inventory groups feature flag ([`8b5af9c`](https://github.com/RedHatInsights/vulnerability-engine/commit/8b5af9c18bb3d353ccff798c2c080844ca94c34a))

## v2.9.1 (2023-08-08)

### Fix

* fix(manager): if only [] is in list, req is cacheable ([`963f257`](https://github.com/RedHatInsights/vulnerability-engine/commit/963f25726b390dac516eaca63b473eed99ac806a))

* fix(manager): fix semantics of cacheable requests ([`b02158d`](https://github.com/RedHatInsights/vulnerability-engine/commit/b02158d6c3fa3305225e2fed9b78dcc4b7cf34b1))

* fix(manager): remove double count_subquery creation ([`6f7a2c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/6f7a2c69cc764c55befc2d40082ec5f3e21a6090))

* fix(manager): show ungroupped systems ([`1a16162`](https://github.com/RedHatInsights/vulnerability-engine/commit/1a16162f7fbfae970c2c8361b412e450be20084c))

## v2.9.0 (2023-08-07)

### Chore

* chore(cluster): change cluster to defaultly cluster sys_vulns and
sys_vuln_pkg ([`f342017`](https://github.com/RedHatInsights/vulnerability-engine/commit/f342017630ac80641233c52a9d0f6d54f48e4474))

* chore(platform-mock): make reporter configurable ([`c5aa57a`](https://github.com/RedHatInsights/vulnerability-engine/commit/c5aa57a7c3651adf647ad708d15a670fe5f35fe3))

* chore(platform-mock): insert insights_id and groups ([`145bc9c`](https://github.com/RedHatInsights/vulnerability-engine/commit/145bc9c536d5e8f4fc10d3128d9669ba312ad576))

* chore: generate insights archives compatible with current insights-core ([`441e930`](https://github.com/RedHatInsights/vulnerability-engine/commit/441e930a397535db0c25655e903b3b485412ae01))

* chore(platform-mock): make the default behavior opposite ([`a3ef150`](https://github.com/RedHatInsights/vulnerability-engine/commit/a3ef15023d55dfb730b10cac9a4c6baacfeb5ba7))

### Feature

* feat(cluster): run cluster on system_vulnerable_package and cve_metadata

VULN-2759 ([`5ec76ef`](https://github.com/RedHatInsights/vulnerability-engine/commit/5ec76efe7272ab1833c17ce3299726ce954d3c40))

## v2.8.1 (2023-08-01)

### Fix

* fix(manager): make cves_without_errata nullable to indicate global disable

null - don&#39;t display any UI elements
false - display UI elements to enable FF, hide advisory_available filter
true - display UI elements to disable FF, show advisory_available filter ([`d26ead5`](https://github.com/RedHatInsights/vulnerability-engine/commit/d26ead578f3f5ad56c0ef39eeabfff68b2ab7958))

## v2.8.0 (2023-07-31)

### Feature

* feat(vuln_handler): filter by inventory groups ([`a20b094`](https://github.com/RedHatInsights/vulnerability-engine/commit/a20b094241cbdde4b49ce33c17fe59930139a7a9))

## v2.7.1 (2023-07-31)

### Fix

* fix: corrected condition for caching ([`b9934e4`](https://github.com/RedHatInsights/vulnerability-engine/commit/b9934e45afe4a30f272d3ecc9b5aedcebc093f35))

## v2.7.0 (2023-07-31)

### Feature

* feat(system_handler): filter by inventory groups ([`abf895d`](https://github.com/RedHatInsights/vulnerability-engine/commit/abf895d98c1fea878aed591ea9f09d7889623b69))

## v2.6.0 (2023-07-31)

### Feature

* feat(cve_handler): filter by inventory groups ([`c1a27f7`](https://github.com/RedHatInsights/vulnerability-engine/commit/c1a27f76f2f0770a65a190e58a38756229a9a10e))

## v2.5.0 (2023-07-25)

### Feature

* feat: filter by inventory groups in cyndi join

ESSNTL-4818 ([`5450bf5`](https://github.com/RedHatInsights/vulnerability-engine/commit/5450bf553ac7f1e18fde022e56734f900c55035c))

* feat: process group ids from RBAC response

ESSNTL-4818 ([`f997688`](https://github.com/RedHatInsights/vulnerability-engine/commit/f9976888bac2e2360ad4e3d3d89b5437b669b730))

## v2.4.1 (2023-07-24)

### Chore

* chore(scripts): delete openshift debugger script ([`fd1dc0e`](https://github.com/RedHatInsights/vulnerability-engine/commit/fd1dc0ef9063082b67df5a4f7d073381bcafd027))

* chore: add poetry-lock.sh ([`ec77927`](https://github.com/RedHatInsights/vulnerability-engine/commit/ec77927273de8c98e2016f752b99ec205776b91a))

* chore: drop pipenv lock script ([`8733cbf`](https://github.com/RedHatInsights/vulnerability-engine/commit/8733cbfafc40214fda62b4e66709b25d36784b9d))

* chore: bump pytest to fix py cve ([`690022f`](https://github.com/RedHatInsights/vulnerability-engine/commit/690022f39421c935edb530c3dcf377bce029395c))

* chore: bump tornado version to fix cve ([`703bf23`](https://github.com/RedHatInsights/vulnerability-engine/commit/703bf233858e301909b596786e886ffde00d7b83))

* chore(safety): add safety check in github actions

VULN-2736 ([`e2e9c71`](https://github.com/RedHatInsights/vulnerability-engine/commit/e2e9c71a612e8f56a64082101d93b49aaa479f1c))

* chore(tests): adjust github actions test to poetry

VULN-2736 ([`71adf8c`](https://github.com/RedHatInsights/vulnerability-engine/commit/71adf8c0a2dcb2c70bfedbd3d504fbc8c4b412ac))

* chore: adjust readme to poetry

VULN-2736 ([`f2ed1a4`](https://github.com/RedHatInsights/vulnerability-engine/commit/f2ed1a464199437539a10b94c3f787cfbd608868))

* chore: start using poetry

VULN-2736 ([`41e3570`](https://github.com/RedHatInsights/vulnerability-engine/commit/41e35705a2826564840dfb8802e325f8577db40c))

### Fix

* fix: delete from system_vulnerable_package when deleting system ([`bad7ba9`](https://github.com/RedHatInsights/vulnerability-engine/commit/bad7ba9cbc8559559d55e33b0b7bcf322af96a5b))

## v2.4.0 (2023-07-20)

### Chore

* chore: upgrade to python-semantic-release 8.x.x ([`2a192e9`](https://github.com/RedHatInsights/vulnerability-engine/commit/2a192e96b636e35210b7bd1674a5c1178fad7f9f))

* chore(cluster): run weekly, not daily ([`bb5f085`](https://github.com/RedHatInsights/vulnerability-engine/commit/bb5f085eb3462c91dff9bb66f3bb8458676577bd))

* chore: temporarily ignore tornado vuln ([`26b9eb4`](https://github.com/RedHatInsights/vulnerability-engine/commit/26b9eb4e51a931b51b84d19883e6498596ac5fb1))

### Feature

* feat(manager_admin): allow rule key to be deleted using API

RHINENG-1173 ([`adb4671`](https://github.com/RedHatInsights/vulnerability-engine/commit/adb4671587b18982114aaad9447c169c8ea3ec67))

### Fix

* fix(grouper): don&#39;t wait on advisor message for RHSM systems

VULN-2705 ([`cfe219b`](https://github.com/RedHatInsights/vulnerability-engine/commit/cfe219b4be1468ddcf472dcb9ffd0ff981c02ee7))

## v2.3.0 (2023-07-12)

### Chore

* chore(clowdapp): use pg15

VULN-2460 ([`a4fbd9d`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4fbd9dd2bbd71dbb4e3f06c7868baed054c1200))

### Feature

* feat(database): add local db init script

VULN-2460 ([`a2f7c8e`](https://github.com/RedHatInsights/vulnerability-engine/commit/a2f7c8ee01c01c5b58d08054c2453e6c0dc89a7f))

* feat(database): wait for db on upgrade

VULN-2460 ([`ad533ad`](https://github.com/RedHatInsights/vulnerability-engine/commit/ad533ad5a71790da4fab338745defa9b1e02a0ab))

* feat(database): switch to PG15.2

VULN-2460 ([`44b463b`](https://github.com/RedHatInsights/vulnerability-engine/commit/44b463b0a70d24214edabf52aa9188146566abe4))

### Refactor

* refactor(clowdapp): change from POSTGRESQL naming to POSTGRES

VULN-2460 ([`90bd2d4`](https://github.com/RedHatInsights/vulnerability-engine/commit/90bd2d4f7b804a759eb214da231d670d9850f85c))

* refactor: switch from POSTGRESQL naming to POSTGRES

VULN-2460 ([`0012adc`](https://github.com/RedHatInsights/vulnerability-engine/commit/0012adc3a328e2fa964e6b8b5c95d99f30827e4b))

## v2.2.4 (2023-07-11)

### Chore

* chore: de-duplicate CVES_WITHOUT_ERRATA ([`9c7b522`](https://github.com/RedHatInsights/vulnerability-engine/commit/9c7b52227b8ab850d3243cc2eced02f48c8813d9))

* chore: enable CVES_WITHOUT_ERRATA in local docker-compose ([`27968ff`](https://github.com/RedHatInsights/vulnerability-engine/commit/27968ffe326e2bacf99efaa4f8f85ec008907657))

* chore: add import sort to precommit

VULN-2714 ([`2c7f4ac`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c7f4acc3bafdc461aece1794fa606305e8c2bdf))

### Fix

* fix(cves_without_errata): use toggle_cves_without_errata permission

RHINENG-1160 ([`bae376e`](https://github.com/RedHatInsights/vulnerability-engine/commit/bae376e3ce0da4071945495f90fe38ee9d3f3b1e))

### Refactor

* refactor(scripts): run black

VULN-2714 ([`f7cdd8f`](https://github.com/RedHatInsights/vulnerability-engine/commit/f7cdd8fd147384de18572419d0af928ac2091e08))

* refactor(tests): run black

VULN-2714 ([`0a2cd5f`](https://github.com/RedHatInsights/vulnerability-engine/commit/0a2cd5f45d30caa8eb5ac9835859c664a940b153))

* refactor(database): run black

VULN-2714 ([`5bd530a`](https://github.com/RedHatInsights/vulnerability-engine/commit/5bd530a8dcce4bbfc6c36792d93979ad11204386))

* refactor(cluster): run black

VULN-2714 ([`16eda90`](https://github.com/RedHatInsights/vulnerability-engine/commit/16eda9028c30439b6240c465f0e76c336f56dc96))

* refactor(common): run black

VULN-2714 ([`cf3f467`](https://github.com/RedHatInsights/vulnerability-engine/commit/cf3f467565673ef7e2dc9a9c696bf56afa7bdac0))

* refactor(exploit_sync): run black

VULN-2714 ([`0538f38`](https://github.com/RedHatInsights/vulnerability-engine/commit/0538f388bba14f1a9dd9c5cdeb52c94052ff0bd0))

* refactor(scripts): run black

VULN-2714 ([`484e3d5`](https://github.com/RedHatInsights/vulnerability-engine/commit/484e3d57ac166b1c5ffb776244f4e4b64809a89b))

* refactor(taskomatic): run black

VULN-2714 ([`7207147`](https://github.com/RedHatInsights/vulnerability-engine/commit/72071479367f1400355cc4ac7ca6da3e755ad986))

* refactor(vmaas_sync): run black

VULN-2714 ([`a9ac827`](https://github.com/RedHatInsights/vulnerability-engine/commit/a9ac82731ef30ae903babe10743118308c1855b4))

* refactor(notificator): run black

VULN-2714 ([`7a9a42e`](https://github.com/RedHatInsights/vulnerability-engine/commit/7a9a42ed903a58f840ec6f478cb786a2840f795e))

* refactor: run import sort on all ([`c64f716`](https://github.com/RedHatInsights/vulnerability-engine/commit/c64f716fd48517b5a59309edd772c133df252955))

### Unknown

* Mark each assets directory as git &#39;safe.directory&#39; ([`12df614`](https://github.com/RedHatInsights/vulnerability-engine/commit/12df61423b283c03045faf2d5698802898004c43))

## v2.2.3 (2023-07-03)

### Chore

* chore: add apiPath to bind API to correct path

VULN-2478 ([`e5487e5`](https://github.com/RedHatInsights/vulnerability-engine/commit/e5487e52a63fdf66ff90fd15e94c96811c2b3f70))

### Fix

* fix(evaluator): prevent deadlock ([`6a3f81c`](https://github.com/RedHatInsights/vulnerability-engine/commit/6a3f81c52b0ca5ba0618ad91b3d618dbcb31507f))

* fix(evaluator): allocate separate connection for transaction instead of nested transaction (doesn&#39;t work) ([`4149ff5`](https://github.com/RedHatInsights/vulnerability-engine/commit/4149ff5e8f5ad1cca7f385dcfc251b3ce5a2f3e7))

## v2.2.2 (2023-07-03)

### Chore

* chore: rename &#39;-new&#39; service names in dashboard ([`680f67f`](https://github.com/RedHatInsights/vulnerability-engine/commit/680f67fad78879a2675efdbcdb224b3cfb7fda09))

### Fix

* fix(listener): use releasever in vmaas_req

Utilize relelasever from a system profile if RHSM version isn&#39;t set.
This should improve reporting from RHUI systems.

VULN-2716 ([`f3b59f5`](https://github.com/RedHatInsights/vulnerability-engine/commit/f3b59f559baba4f4e819af9502e058a4983891a3))

### Unknown

* Update requests and flask to address pyup vulns 55261 and 58755 ([`51990f0`](https://github.com/RedHatInsights/vulnerability-engine/commit/51990f08cf8f13dc5be4188c1f9cc5f2ed57226f))

## v2.2.1 (2023-06-28)

### Chore

* chore(platform_mock): bump kafka ([`50e8865`](https://github.com/RedHatInsights/vulnerability-engine/commit/50e886588015f92a44f3d712771677dd984f0161))

### Fix

* fix(taskomatic): add missing comma ([`1a5943e`](https://github.com/RedHatInsights/vulnerability-engine/commit/1a5943ecbf2921122b315def61cb333bb437671e))

## v2.2.0 (2023-06-27)

### Chore

* chore: fix the entrypoint and container name ([`4638a7b`](https://github.com/RedHatInsights/vulnerability-engine/commit/4638a7b8442595c6f85bce662aefe425c38a8d98))

### Feature

* feat(manager): return advisory_available from /vulnerabilities/cves API ([`d436790`](https://github.com/RedHatInsights/vulnerability-engine/commit/d43679079e320395b2a94d44ddd8b9c45a4f7180))

* feat: add advisory_available column to CVE account cache ([`bef386a`](https://github.com/RedHatInsights/vulnerability-engine/commit/bef386ab5ca899467ac3dc7a8c8cc3528b358b58))

## v2.1.0 (2023-06-27)

### Chore

* chore: add github actions pre-commit hook

VULN-2714 ([`4643572`](https://github.com/RedHatInsights/vulnerability-engine/commit/464357276554934f04ad215189ed56a429adfba1))

* chore: drop pylint and flake8 from run tests

VULN-2714 ([`82915f1`](https://github.com/RedHatInsights/vulnerability-engine/commit/82915f19fd4f60c46f4cae556929d983969ac9d7))

* chore: migrate to pyproject.toml

VULN-2714 ([`1768388`](https://github.com/RedHatInsights/vulnerability-engine/commit/176838818056a636425bab94b248ccadc5d9a9cf))

* chore: install pre-commit and add readme

VULN-2714 ([`2138fa3`](https://github.com/RedHatInsights/vulnerability-engine/commit/2138fa306540b0a4de7fb4f87c14d453a0e63bbb))

### Feature

* feat: add pre commit config

VULN-2714 ([`1c48b2e`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c48b2eebaa1bb985200a5d326eaf7bca3494feb))

### Refactor

* refactor: run pre-commit for all

VULN-2714 ([`459ae55`](https://github.com/RedHatInsights/vulnerability-engine/commit/459ae55b1987375695fb8709a3248520f231fb2c))

* refactor(evaluator): run black

VULN-2714 ([`15a5c3e`](https://github.com/RedHatInsights/vulnerability-engine/commit/15a5c3e95336d835dfb00705e4615289f5d4127a))

* refactor(listener): run black

VULN-2714 ([`419c4aa`](https://github.com/RedHatInsights/vulnerability-engine/commit/419c4aade1871c586900be5d7faeab98f21b4835))

* refactor(grouper): run black

VULN-2714 ([`71d036d`](https://github.com/RedHatInsights/vulnerability-engine/commit/71d036d43f81f5a02da607b048d0cd75deaa3e95))

## v2.0.0 (2023-06-27)

### Breaking

* chore: rename _new services

VULN-2709

BREAKING CHANGE: bump app version ([`e06cc3d`](https://github.com/RedHatInsights/vulnerability-engine/commit/e06cc3de6ba374c1efcfd23148e41fb7e580a98d))

### Chore

* chore(evaluator): remove old evaluator code

VULN-2709
BREAKING CHANGE: old evaluator code can&#39;t be used anymore ([`f2bda57`](https://github.com/RedHatInsights/vulnerability-engine/commit/f2bda57404ad6ddbd8003b76dd2daeb9642b217e))

* chore(listener): remove old listener code

VULN-2709
BREAKING CHANGE: old listener code can&#39;t be used anymore ([`bc42969`](https://github.com/RedHatInsights/vulnerability-engine/commit/bc42969bb906714158719eeea7729722838d148b))

## v1.227.5 (2023-06-26)

### Chore

* chore(pipenv): ignore another vulnerability ([`6abd4e7`](https://github.com/RedHatInsights/vulnerability-engine/commit/6abd4e7c90bb8ff5700eac7653a01cc51cfb6130))

### Fix

* fix(vmaas-sync): check presence of cve in vulnerable_package_cve table before deletion ([`158abf7`](https://github.com/RedHatInsights/vulnerability-engine/commit/158abf716aa8cfb0da1adbd87fa1195dc0573822))

## v1.227.4 (2023-06-22)

### Fix

* fix(evaluator): force extended output during recalc of old systems

extended could be now removed from system profile JSON as well ([`7093f27`](https://github.com/RedHatInsights/vulnerability-engine/commit/7093f27672f84d565c9c60e8e5b51d15dd9a1279))

### Refactor

* refactor(listener): improve skipping of msgs from excluded reporters

VULN-2707 ([`64ae3cf`](https://github.com/RedHatInsights/vulnerability-engine/commit/64ae3cf7e6daac1b2facc630792132cd84cbd22d))

## v1.227.3 (2023-06-21)

### Chore

* chore(clowder): support configuring logging level per service ([`74266e5`](https://github.com/RedHatInsights/vulnerability-engine/commit/74266e500ee6945b01fef040317c758ee6d42667))

* chore(evaluator): debug log number of changed rows ([`19504a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/19504a1ae19a00919f57b46fb1b159d34538ee8c))

* chore: disable evaluation of unfixed CVEs if needed ([`2a0c75e`](https://github.com/RedHatInsights/vulnerability-engine/commit/2a0c75e9d1509b348791215ef74fc66af7885714))

* chore: add traceback counter ([`6755011`](https://github.com/RedHatInsights/vulnerability-engine/commit/6755011bbcbf961c50f57dfb92e2beb7aa4efd1b))

### Fix

* fix(evaluator): re-enable checking vulnerable state to fill missing DB values

prod DB is less busy now and it should be fine ([`c93409a`](https://github.com/RedHatInsights/vulnerability-engine/commit/c93409a1849172b5a18c4f07c24e226d7312228b))

## v1.227.2 (2023-06-15)

### Fix

* fix(rhsm): don&#39;t expect platform_metadata, remove b64_identity

VULN-2694 ([`04ddac9`](https://github.com/RedHatInsights/vulnerability-engine/commit/04ddac918c9336286a22726a20e3248c5c14a6d8))

## v1.227.1 (2023-06-15)

### Fix

* fix(evaluator): make sure DB state is saved before adding item to cache ([`fecb307`](https://github.com/RedHatInsights/vulnerability-engine/commit/fecb307222369f2fc82dd13b1fa5f0438f9434d5))

## v1.227.0 (2023-06-14)

### Chore

* chore: use vmaas-go by default

python version doesn&#39;t return all necessary unfixed CVEs data ([`f11ac8e`](https://github.com/RedHatInsights/vulnerability-engine/commit/f11ac8ed75c857cfdf4d66f3e08dbb4d3ea3b6c2))

### Feature

* feat(evaluator): populate system_vulnerable_package table

VULN-2518 ([`0672d97`](https://github.com/RedHatInsights/vulnerability-engine/commit/0672d973edf0362223be9bd649ad7131fddfa995))

* feat(evaluator): populate vulnerable_package_cve table

VULN-2518 ([`e4b6c53`](https://github.com/RedHatInsights/vulnerability-engine/commit/e4b6c533d66bde8a6d10eecd093ec952f81f5246))

* feat(evaluator): populate package_name, cpe, vulnerable_package tables

VULN-2518 ([`2277c72`](https://github.com/RedHatInsights/vulnerability-engine/commit/2277c723b55a0f793eb7deebb7e9858a5d0f7a51))

### Performance

* perf(evaluator): load impact cache once ([`8fcfc92`](https://github.com/RedHatInsights/vulnerability-engine/commit/8fcfc92cf913d446f8accad77cfdb8d45e7b6c1e))

### Refactor

* refactor: rename classes and variables to allow adding unpatched parts ([`9325300`](https://github.com/RedHatInsights/vulnerability-engine/commit/9325300d11cbf3c14a6795bc410fe4c26b9f541c))

## v1.226.3 (2023-06-14)

### Fix

* fix: advisory is available with manually fixable cve ([`865b07b`](https://github.com/RedHatInsights/vulnerability-engine/commit/865b07bd53cddadf526227fe8a2dad5092f80574))

### Unknown

* Adding line to file ([`b67362e`](https://github.com/RedHatInsights/vulnerability-engine/commit/b67362e879d083c3e9644d58e743ef470fd9848e))

* Adding a placeholder Jenkinsfile ([`5a96597`](https://github.com/RedHatInsights/vulnerability-engine/commit/5a9659718ded0b1e107d751722c10c980b300712))

## v1.226.2 (2023-06-08)

### Chore

* chore: expect 200 in entitlements tests ([`aadaf94`](https://github.com/RedHatInsights/vulnerability-engine/commit/aadaf948102fc8476cc848f824c6df2cda2be61b))

### Fix

* fix(rhsm): don&#39;t check insights entitlement

VULN-2694 ([`1e30939`](https://github.com/RedHatInsights/vulnerability-engine/commit/1e309391b83def6b934e3eab6878cf83ca46b1f3))

### Unknown

* remove skip_entitlement_check ([`fe3a94e`](https://github.com/RedHatInsights/vulnerability-engine/commit/fe3a94ead4045fac649d1ca64882ec6c99c25ea2))

## v1.226.1 (2023-06-08)

### Chore

* chore: generate random rule hits/passes for uploaded archive ([`bcb5d59`](https://github.com/RedHatInsights/vulnerability-engine/commit/bcb5d59fe210eb267d15c9d57b52005e9f61842c))

* chore: disable auto topic creation to ensure they are created by platform mock with correct number of partitions ([`2ef1e68`](https://github.com/RedHatInsights/vulnerability-engine/commit/2ef1e68b0e150888ba42e48376bf54d10ad74a42))

* chore: fix grouper topic creation and create only 3 partitions for each ([`5d38cd5`](https://github.com/RedHatInsights/vulnerability-engine/commit/5d38cd55629a570cff4377462f8d5d2f09430a22))

### Fix

* fix: unknown groups resource

RHINENG-606 ([`de9ee3c`](https://github.com/RedHatInsights/vulnerability-engine/commit/de9ee3cd787fd09601c2e7e74dc31f587c85eb26))

## v1.226.0 (2023-06-05)

### Chore

* chore: rename handler, permissions, and fix vmaas_sync test ([`da87600`](https://github.com/RedHatInsights/vulnerability-engine/commit/da8760097d18e600ed0333f5dc8140a14a702d91))

* chore: update tests for cves_without_errata ([`1c704f1`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c704f1d2291e711a7cf4ad9c6f63bb43871050c))

* chore: update openapi spec to include cves_without_errata meta

VULN-2668 ([`d50e032`](https://github.com/RedHatInsights/vulnerability-engine/commit/d50e032842e923e365a537e634b2586fce9f4b35))

### Feature

* feat: add cves_without_errata patch endpoint

VULN-2668 ([`6db5a87`](https://github.com/RedHatInsights/vulnerability-engine/commit/6db5a871b80c51fe41b28a1ecacde5a04b2f2cf1))

* feat: check customer feature flag in api

VULN-2668 ([`5050224`](https://github.com/RedHatInsights/vulnerability-engine/commit/5050224f3f123d33a70194b1f02c8191b29b0571))

* feat: add cves_without_errata db feature flag

VULN-2668 ([`e28c8e3`](https://github.com/RedHatInsights/vulnerability-engine/commit/e28c8e31fee9c8aed6755b398104173e2ee51449))

### Fix

* fix: brackets ([`65cda54`](https://github.com/RedHatInsights/vulnerability-engine/commit/65cda54cbeebe1608d1d966470a26cbfe10491b3))

## v1.225.5 (2023-06-05)

### Chore

* chore: temporarily ignore 55261 to build an image ([`e8d904b`](https://github.com/RedHatInsights/vulnerability-engine/commit/e8d904bdd0defb4b01bb2408806c57c6a4fc9fa1))

* chore: count exceptions in asyncio tasks ([`4320d36`](https://github.com/RedHatInsights/vulnerability-engine/commit/4320d36403ea7ca34f77844fa3fea16a6f283c4d))

### Fix

* fix: payload tracker processing

- don&#39;t sent tracebacks from listener
- be less verbose in grouper, sent notification when passing to evaluator
- set more appropriate statuses
- requested_id is invalid ([`d1b5c4b`](https://github.com/RedHatInsights/vulnerability-engine/commit/d1b5c4b0b5e83566971d8b69d1f2e49b41ec8f3a))

## v1.225.4 (2023-05-31)

### Fix

* fix(listener): repo should be upserted to avoid UniqueViolation ([`0a243a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/0a243a118755f84c7c257530a04a38cf080e1728))

## v1.225.3 (2023-05-31)

### Chore

* chore: improve grafana dashboard ([`9de81d1`](https://github.com/RedHatInsights/vulnerability-engine/commit/9de81d15c88677418fa1e720560477c1b27e32d6))

* chore: temporarily disable test_invalid_rpm_list, due to increased grouper timeout system isn&#39;t marked as evaluated in time ([`723e117`](https://github.com/RedHatInsights/vulnerability-engine/commit/723e117a3c23936916cae6c7a289019d4d19a223))

### Fix

* fix(evaluator): do not force updating each row because of the state column ([`f66f259`](https://github.com/RedHatInsights/vulnerability-engine/commit/f66f259ba166eac3868c7d59ad98b2d8e6e0aa01))

## v1.225.2 (2023-05-31)

### Chore

* chore(listener): log reporter and request_id of processed messages ([`dd11218`](https://github.com/RedHatInsights/vulnerability-engine/commit/dd1121831106ecb20ed6ff70e7858982f18a6e06))

* chore(listener): count allowed reporters in prometheus too ([`3329ff7`](https://github.com/RedHatInsights/vulnerability-engine/commit/3329ff7907472c9f5039e8660745c5f9f3e20954))

* chore(grouper): add additional counter to count changed systems sent to evaluator ([`c4bd4d6`](https://github.com/RedHatInsights/vulnerability-engine/commit/c4bd4d643c76b36b67773f18f6c06854dd48d59f))

* chore: improve grafana dashboard ([`443b300`](https://github.com/RedHatInsights/vulnerability-engine/commit/443b300e58b81e440b6778e59d14e7f5cc3ac225))

### Fix

* fix(listener): case when platform_metadata is None ([`a4e7323`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4e73238488b37dbcef9fc179815bf1509ed42ed))

* fix(grouper): double the timeout, should help to pair more messages during peaks ([`c1cc246`](https://github.com/RedHatInsights/vulnerability-engine/commit/c1cc24650d5e708a03e08ed487487a3fdc7a587b))

## v1.225.1 (2023-05-30)

### Chore

* chore: add more counters to the new listener

one of them moved to grouper ([`55450a9`](https://github.com/RedHatInsights/vulnerability-engine/commit/55450a93f121127e73f1e97bd1b64b83ca33532b))

### Fix

* fix: new listener attempts to send payload tracker status for msgs without platform_metadata

&#39;NoneType&#39; object has no attribute &#39;get&#39;&#39;Traceback (most recent call last):... ([`53d0dea`](https://github.com/RedHatInsights/vulnerability-engine/commit/53d0deaae8df64c35e84814943cd181355099bae))

## v1.225.0 (2023-05-30)

### Chore

* chore: add missing kafka consumer groups and fix taskomatic restart counter ([`acce5c5`](https://github.com/RedHatInsights/vulnerability-engine/commit/acce5c565260b578c7d0465d0106d2d955d7025d))

* chore: enable USE_VMAAS_GO by default and use also from vmaas-sync ([`21270df`](https://github.com/RedHatInsights/vulnerability-engine/commit/21270dfd06bdefbb04bd222d8e1ea6ed2f0837d0))

* chore: check if podman/docker is usable ([`00d1dc6`](https://github.com/RedHatInsights/vulnerability-engine/commit/00d1dc6a3863d0de1d0d36a84a8263bfcd9d3d89))

* chore: use networks in docker-compose to connect to vmaas

instead of same compose name env variable ([`34f2360`](https://github.com/RedHatInsights/vulnerability-engine/commit/34f2360aedc8f34d37a98fc66f51159017527b65))

* chore: none driver doesn&#39;t work as expected, use non-default profile ([`a4ff732`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4ff73239ab4f73113cf44f82465043c094bf830))

### Feature

* feat: remove unused Slack notifiacions &amp; replace with exception counter

VULN-2686 ([`40ba205`](https://github.com/RedHatInsights/vulnerability-engine/commit/40ba20576e8d321cf818db160c70fd9a8410db6b))

## v1.224.0 (2023-05-24)

### Chore

* chore(listener): do not upsert existing system

VULN-2681 ([`8663391`](https://github.com/RedHatInsights/vulnerability-engine/commit/8663391e6e56469907f233b522c18c69a387212a))

* chore(evaluator): use only system_vulnerabilities_active partition ([`54e6ccf`](https://github.com/RedHatInsights/vulnerability-engine/commit/54e6ccffc3c85ec28170a0918bfbe67fe5ab00f0))

### Feature

* feat(manager_admin): add truncation endpoint for sv_inactive ([`e7933ef`](https://github.com/RedHatInsights/vulnerability-engine/commit/e7933ef6031b05d83e0ed8983923f72316154fa5))

## v1.223.0 (2023-05-22)

### Feature

* feat(database): add tables to store unfixed vulnerabilities ([`ff6dfd6`](https://github.com/RedHatInsights/vulnerability-engine/commit/ff6dfd6e3298a11de1c5f7af05bbdba3582f335f))

## v1.222.0 (2023-05-22)

### Chore

* chore(tests): disable tests expecting different counts due to CVEs w/o errata ([`dd4d562`](https://github.com/RedHatInsights/vulnerability-engine/commit/dd4d5626b903671454c3f683bba53784369fcf1b))

* chore(tests): update expected counts - don&#39;t count CVEs without errata ([`18b5299`](https://github.com/RedHatInsights/vulnerability-engine/commit/18b5299804f1d090ff90c555277d7a7c28774792))

* chore(flake8): fix indentation ([`50b56f2`](https://github.com/RedHatInsights/vulnerability-engine/commit/50b56f2f24a5676a98b9ee95c0065b15a3e73ea2))

* chore(tests): advisories_list empty value is [] not NULL ([`eeebcae`](https://github.com/RedHatInsights/vulnerability-engine/commit/eeebcae0dcfdadb1f446ae7c96e3223f6b234043))

* chore(evaluator): correctly new cves to notificator

VULN-2679 ([`ea32a4f`](https://github.com/RedHatInsights/vulnerability-engine/commit/ea32a4f51d27d46fb14bf09bb08f3770a74230fd))

### Feature

* feat: don&#39;t expose unfixed cves in apis ([`1ade571`](https://github.com/RedHatInsights/vulnerability-engine/commit/1ade5718879239cd35d42dff81affac892abddd8))

* feat: sync all cves ([`a9cc919`](https://github.com/RedHatInsights/vulnerability-engine/commit/a9cc919095bb021c8c7201ee4ac9d34e0ad8aec1))

### Fix

* fix: never show unfixed in report,dashboard,dashbar ([`51ccada`](https://github.com/RedHatInsights/vulnerability-engine/commit/51ccada8505d4f7c9d0958df4523398c118a8e32))

* fix: no need to re-fetch rules CVEs without errata any more ([`a796065`](https://github.com/RedHatInsights/vulnerability-engine/commit/a796065e715c13c94688499d12c8dad642e0076a))

## v1.221.1 (2023-05-18)

### Chore

* chore(grafana): add new metrics for grouper and listener ([`863dc1f`](https://github.com/RedHatInsights/vulnerability-engine/commit/863dc1feba3e27d38d456780d793e01e2cb7102b))

### Fix

* fix: require package epoch

we should not evaluate packages without epoch, it happens when inventory sends an incorrect package_list
and we then show incorrect CVEs because vmaas assumes that epoch=0 if it is not provided

now, vmaas returns 400 if epoch is not present for a package and epoch_required=true and evaluation of a system is skipped

RHINENG-390 ([`c761564`](https://github.com/RedHatInsights/vulnerability-engine/commit/c7615642ae5c24d79007184f421378b33a8eae95))

## v1.221.0 (2023-05-04)

### Chore

* chore(grouper): count hit and miss rate for message pairs ([`2dd0c46`](https://github.com/RedHatInsights/vulnerability-engine/commit/2dd0c46fdf995e0ce9dfd3a43b098d103dba6583))

### Feature

* feat: remove account number remains in listener

VULN-2373 ([`ec9ddad`](https://github.com/RedHatInsights/vulnerability-engine/commit/ec9ddad72c35ca618239ef28b0b8847b494691b9))

## v1.220.1 (2023-05-04)

### Chore

* chore: prometheus counter for skipped reporter ([`81ad443`](https://github.com/RedHatInsights/vulnerability-engine/commit/81ad44323f7dced74d753c30882f8fd4ce4a7111))

* chore(listener): do not log invalid schema messages ([`2c2d17c`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c2d17c0aac76827837456e4f9abffa3ace910c9))

### Fix

* fix(rhsm): use list of allowed reporters instead of checking insights_id

VULN-2483 ([`5066fdb`](https://github.com/RedHatInsights/vulnerability-engine/commit/5066fdb37081df83cddf77f2a2359b7d88bf8e5e))

## v1.220.0 (2023-05-02)

### Chore

* chore(tests): remove redis dependency ([`7a24c2f`](https://github.com/RedHatInsights/vulnerability-engine/commit/7a24c2ffb88592f040d738985bc06fdb441b9f73))

* chore(deploy): setup deployment for new components

VULN-2627 ([`e5b1614`](https://github.com/RedHatInsights/vulnerability-engine/commit/e5b16142d5939185e882ca63242ec1c74a1496e4))

* chore(evaluator): store advisories for manually fixable CVEs


chore(evaluator): store advisories for manually fixable CVEs


chore(evaluator): store advisories for manually fixable CVEs ([`ac41037`](https://github.com/RedHatInsights/vulnerability-engine/commit/ac41037c918cbe022945c64266f4937b34851af1))

### Feature

* feat(evaluator): consume messages from grouper queue

VULN-2627 ([`ea495a8`](https://github.com/RedHatInsights/vulnerability-engine/commit/ea495a834ce73ecab47f4cb952a96e2dd729be5c))

* feat(grouper): transform grouper into queue

VULN-2627 ([`abaef46`](https://github.com/RedHatInsights/vulnerability-engine/commit/abaef4644f030881c5fc08d43207486ca8544e94))

* feat(listener): make listener not use queue

VULN-2627 ([`3acf5f1`](https://github.com/RedHatInsights/vulnerability-engine/commit/3acf5f1188dc4de9339271249774c8feb879346e))

## v1.219.2 (2023-04-19)

### Fix

* fix(listener): unlock on message errors ([`35c901b`](https://github.com/RedHatInsights/vulnerability-engine/commit/35c901b2eb35dae9dee05b3edd36e7964d41f6bf))

## v1.219.1 (2023-04-19)

### Chore

* chore(evaluator): load rule cache from reserved connection ([`a3afcde`](https://github.com/RedHatInsights/vulnerability-engine/commit/a3afcded7df574d8473fafe60d564225b73830a9))

* chore(evaluator): limit number of concurrent processed messages ([`5b9f0be`](https://github.com/RedHatInsights/vulnerability-engine/commit/5b9f0bee408939ce6680cbbe40990e4077f17acb))

* chore(config): add vars for limiting listener and change evaluator ([`18305f4`](https://github.com/RedHatInsights/vulnerability-engine/commit/18305f45f9d50c71a7d56ff9c2be9df499e83076))

### Fix

* fix(listener): limit number of queue messages ([`e9d8be4`](https://github.com/RedHatInsights/vulnerability-engine/commit/e9d8be409113ff274025f5e9945112eb8a462400))

## v1.219.0 (2023-04-18)

### Feature

* feat(manager): remove rule_mitigated_systems endpoint

VULN-2618 ([`a089d42`](https://github.com/RedHatInsights/vulnerability-engine/commit/a089d42fb348aa9e4dbdd93cd4d068458285a838))

* feat(listener): move asyncpg to psycopg ([`cd8a20e`](https://github.com/RedHatInsights/vulnerability-engine/commit/cd8a20e88dfbdb0d6afb5f094e855cf1376e00d9))

## v1.218.1 (2023-04-14)

### Chore

* chore(listener): add signal handlers ([`4e7d31a`](https://github.com/RedHatInsights/vulnerability-engine/commit/4e7d31a1ff4dd769f65788bc29a09f5f234b621b))

* chore: move build to service in default pipeline ([`f91c46d`](https://github.com/RedHatInsights/vulnerability-engine/commit/f91c46d663fcff91c96198801bc8e20dbe8731e0))

* chore(listener): also log advisor arrived messages ([`fea1b49`](https://github.com/RedHatInsights/vulnerability-engine/commit/fea1b49146f42268b8189807d4c071eaf08c69d6))

* chore(deploy): set log level info to new pipeline ([`621f729`](https://github.com/RedHatInsights/vulnerability-engine/commit/621f729d953d72a67baf5d35677b5c949f48f47f))

* chore(listener): improve logging ([`bfe7d5f`](https://github.com/RedHatInsights/vulnerability-engine/commit/bfe7d5f5ee1f48438157dc0864b7fadf9bd4a456))

### Fix

* fix(listener): no need to do unnest for deleting repos ([`29e3ef9`](https://github.com/RedHatInsights/vulnerability-engine/commit/29e3ef983f45006c259990a7f878e01948be6228))

* fix(listener): correctly check for returned values from delete/update ([`e140152`](https://github.com/RedHatInsights/vulnerability-engine/commit/e14015262b389cffa13e5bca54230c2b0d6dab5e))

* fix(listener): correctly check inventory_msg type ([`efc6077`](https://github.com/RedHatInsights/vulnerability-engine/commit/efc6077c8685ecbe3c57cf8e4ad9dda56620a315))

## v1.218.0 (2023-04-13)

### Chore

* chore(github-actions): use current version of codecov ([`597ffae`](https://github.com/RedHatInsights/vulnerability-engine/commit/597ffaec3a47a1fa508adbe90d9b31c63c95d9e6))

### Feature

* feat: add resolution_type for playbooks

REMEDY-294 ([`ef95317`](https://github.com/RedHatInsights/vulnerability-engine/commit/ef953170420735e4c129778fd6d587ae243652b4))

## v1.217.1 (2023-04-11)

### Chore

* chore: deprecate old pipeline in docker-compose ([`51776af`](https://github.com/RedHatInsights/vulnerability-engine/commit/51776af141a1e77da2f0874d748eb8ec417a323b))

### Fix

* fix(listener): compare msgs checksums only when specific msg arrives ([`33a1bce`](https://github.com/RedHatInsights/vulnerability-engine/commit/33a1bce28fec37a7826cd7bad9e72d936f2ff7b7))

### Refactor

* refactor(listener): log unchanged systems, refactor inventory_id ([`acff504`](https://github.com/RedHatInsights/vulnerability-engine/commit/acff5049a060d93082ba4e95cdd827c6f6b8fd6a))

## v1.217.0 (2023-04-06)

### Chore

* chore(grafana): adjust grafana graphs for new listener and evaluator

VULN-2608 ([`23e5de0`](https://github.com/RedHatInsights/vulnerability-engine/commit/23e5de0233b33806e88f21d91de33da4715d8120))

* chore(manager): remove remains of account number

VULN-2606 ([`9ddc842`](https://github.com/RedHatInsights/vulnerability-engine/commit/9ddc842ae152298152bd90eebcc03fce6f2f2763))

### Feature

* feat(stale_systems): delete systems which should be culled

VULN-2594 ([`e7b2b78`](https://github.com/RedHatInsights/vulnerability-engine/commit/e7b2b78099ae775ab4ad746f6acb23be2905760a))

## v1.216.1 (2023-04-03)

### Fix

* fix(config): kafka ssl should be chosen by clowder ([`4199ce0`](https://github.com/RedHatInsights/vulnerability-engine/commit/4199ce02268df459e9cbe9f655ea0dbb548dc37b))

## v1.216.0 (2023-03-31)

### Chore

* chore(notificator): do not rely on account number anymore ([`e1c8cc0`](https://github.com/RedHatInsights/vulnerability-engine/commit/e1c8cc00066bfd57b60720eaa60598e5c0869bf8))

### Feature

* feat(listener): add rule pass info to the rule_results json

VULN-2536 ([`8268b8a`](https://github.com/RedHatInsights/vulnerability-engine/commit/8268b8a83a9b49d1ca512dde19320443499d6ab4))

* feat(evaluator): deploy new evaluator

VULN-2536 ([`8f6b35c`](https://github.com/RedHatInsights/vulnerability-engine/commit/8f6b35ca4be8d8b959577e3b735597bcd48a585e))

* feat(evaluator): deploy new evaluator locally

VULN-2536 ([`7daaa18`](https://github.com/RedHatInsights/vulnerability-engine/commit/7daaa18ff15165c4bff6eea108a19c94b6b3fb35))

* feat(database): implement new psycopg async pool

VULN-2537 ([`ade62c0`](https://github.com/RedHatInsights/vulnerability-engine/commit/ade62c0f4a4def797ab41e8f2dd488983e4d7687))

* feat(evaluator): implement evaluator logic part

VULN-2536 ([`2456d78`](https://github.com/RedHatInsights/vulnerability-engine/commit/2456d7880c245772e6cdc560c26db9d01d588c9b))

* feat(database): add state field for cve-system row

VULN-2536 ([`397875d`](https://github.com/RedHatInsights/vulnerability-engine/commit/397875d47848e6313086702ea6ea3a88e45103fe))

* feat(evaluator): implement evaluator service

VULN-2537 ([`3d8e7b1`](https://github.com/RedHatInsights/vulnerability-engine/commit/3d8e7b1dba428671d7538e2065ecd0fed20c92e2))

### Fix

* fix(listener): listener should update display_name ([`9502393`](https://github.com/RedHatInsights/vulnerability-engine/commit/950239304d2a496a6170a8cc9dbfdaa780396687))

## v1.215.1 (2023-03-30)

### Chore

* chore: VULNERABILITY_ENV is now copy of ENV_NAME ([`4b74d79`](https://github.com/RedHatInsights/vulnerability-engine/commit/4b74d799a1cef088ae2d2e659485c891bd810aa1))

### Fix

* fix(clowder): KAFKA_SSL_ENABLED default should be true ([`b7d3048`](https://github.com/RedHatInsights/vulnerability-engine/commit/b7d3048f81f34b32aa0f3bb680f57a24a5a05012))

## v1.215.0 (2023-03-30)

### Chore

* chore(grouper): rename acc_num to org_id ([`e69f71d`](https://github.com/RedHatInsights/vulnerability-engine/commit/e69f71d5de6dcaec25a006476528007c318398e5))

* chore(grouper): log incoming message acc numbers ([`9af31a7`](https://github.com/RedHatInsights/vulnerability-engine/commit/9af31a7fdf88caae935ac3675d37da11199209c3))

* chore: update clowdapp params to new defaults ([`139d3ee`](https://github.com/RedHatInsights/vulnerability-engine/commit/139d3eeb1c95f9d55f98f26a104af655ac643de8))

* chore: simplify ssl usage in aiohttp ([`8484376`](https://github.com/RedHatInsights/vulnerability-engine/commit/84843760a84c020d8dc439b16412e5c318b1fef4))

### Feature

* feat(grouper): calculate partition based on org_id hash

VULN-2600 ([`6227906`](https://github.com/RedHatInsights/vulnerability-engine/commit/62279061f17843f560bc639626df9cc2f732496b))

## v1.214.0 (2023-03-28)

### Feature

* feat(cluster): use pg_repack and reindex ([`df2f47a`](https://github.com/RedHatInsights/vulnerability-engine/commit/df2f47a2cb40869c64c81e489eb3dd2a63f89f6f))

## v1.213.2 (2023-03-27)

### Chore

* chore(manager): still log account number until it&#39;s removed from code ([`859eb80`](https://github.com/RedHatInsights/vulnerability-engine/commit/859eb8019c0fe225ac86b045c20886cc30cec9d9))

* chore(deploy): dont join inventory.hosts on floorist ([`f704d76`](https://github.com/RedHatInsights/vulnerability-engine/commit/f704d76227b78d9ee9a7a2e3936b407dc91fbd57))

* chore: use static content if needed ([`215b069`](https://github.com/RedHatInsights/vulnerability-engine/commit/215b0693ea8d9d61369bb041380d1b53d84e747a))

* chore: backoffice proxy is not used anymore ([`55672d9`](https://github.com/RedHatInsights/vulnerability-engine/commit/55672d9b78d7c385b1b461ff76361d4f4ec2f940))

* chore: build static data into the image ([`5d69b1f`](https://github.com/RedHatInsights/vulnerability-engine/commit/5d69b1f0387bb322e71b580342a61a63eae36817))

### Fix

* fix(manager): prevent selecting incorrect id when org_id is not found and account_number is None

the select will select rh_account_id of first account which has NULL account_number in DB

this can expose unwanted data ([`d908777`](https://github.com/RedHatInsights/vulnerability-engine/commit/d908777f595908558c35d49b6e8be64acf41fa83))

* fix(manager): filtering by rh_account_id shouldn&#39;t be optional

fixing issue when account doesn&#39;t exist in DB and attributes in identity are:

org_id is not None and org_id != &#34;&#34;
account_number is not None and account_number == &#34;&#34;

selected rh_account_id is None in this case, filter is not used and all records are returned ([`ed6178f`](https://github.com/RedHatInsights/vulnerability-engine/commit/ed6178fe61af122f55dd8cb509ba21e2e858d4a4))

## v1.213.1 (2023-03-22)

### Chore

* chore: try use index on floorist query ([`6505a85`](https://github.com/RedHatInsights/vulnerability-engine/commit/6505a859b5338d87dd762fe1350bb4a36b089930))

* chore: optimize and update floorist query ([`d35c2ba`](https://github.com/RedHatInsights/vulnerability-engine/commit/d35c2baff4a5b8f5f992242eb1058f969d425b3f))

### Fix

* fix(deploy): admin is mounted by default ([`efda68d`](https://github.com/RedHatInsights/vulnerability-engine/commit/efda68d2e414f599b7621351730b735e603b80cf))

## v1.213.0 (2023-03-21)

### Feature

* feat: implement clustering on system_platform and system_vulnerabilities

VULN-2567 ([`2678e16`](https://github.com/RedHatInsights/vulnerability-engine/commit/2678e1684d3f59f531913b59ceddf7d26b0ea001))

## v1.212.1 (2023-03-15)

### Chore

* chore: store manually fixable CVEs by default (also in local env) ([`611a3c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/611a3c68bfd6a9f2bcab91d749c77b40312e62ef))

### Fix

* fix(evaluator): session close not awaited

vulnerability-engine-evaluator-upload | /engine/common/vmaas_client.py:51: RuntimeWarning: coroutine &#39;ClientSession.close&#39; was never awaited
vulnerability-engine-evaluator-upload |   session.close()
vulnerability-engine-evaluator-upload | RuntimeWarning: Enable tracemalloc to get the object allocation traceback
vulnerability-engine-evaluator-upload | 4f2e5f8d30b0 2023-03-15 20:10:31,624:ERROR:asyncio:Unclosed client session
vulnerability-engine-evaluator-upload | client_session: &lt;aiohttp.client.ClientSession object at 0x7f17b8adcdc0&gt;
vulnerability-engine-evaluator-upload | 4f2e5f8d30b0 2023-03-15 20:10:31,624:ERROR:asyncio:Unclosed connector
vulnerability-engine-evaluator-upload | connections: [&#39;[(&lt;aiohttp.client_proto.ResponseHandler object at 0x7f17b8a95f40&gt;, 26201.659092141)]&#39;]
vulnerability-engine-evaluator-upload | connector: &lt;aiohttp.connector.TCPConnector object at 0x7f17b8adce80&gt; ([`1c22ec6`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c22ec6a3cc315b9534a5002680a7ed42229873b))

* fix: &#39;vmaas&#39; should be in API path by default now

this allows to call public VMaaS instance ([`38b5eb0`](https://github.com/RedHatInsights/vulnerability-engine/commit/38b5eb0459f844e72c6c80012eeb2ae2b169a835))

* fix(local): restart services if they crash ([`0e8719d`](https://github.com/RedHatInsights/vulnerability-engine/commit/0e8719d609b5212d198c5bb386e140eff28dcc52))

* fix(local): set ve_db_user_notificator password ([`fec078e`](https://github.com/RedHatInsights/vulnerability-engine/commit/fec078ecd463e7de0b1f6ae925b6ea9192151417))

## v1.212.0 (2023-03-13)

### Chore

* chore: update app-common-python ([`b7183b2`](https://github.com/RedHatInsights/vulnerability-engine/commit/b7183b24691b7b1e3eb43ec0d57e213a1f9583dd))

* chore: build psycopg2 because of fips ([`4bd3f6d`](https://github.com/RedHatInsights/vulnerability-engine/commit/4bd3f6db5b251156f3ff848539eee11a1eb510e8))

### Feature

* feat(fedramp): use tls for outgoing connections

RHINENG-95 ([`f895660`](https://github.com/RedHatInsights/vulnerability-engine/commit/f8956602c433f48d4ab2a1642a97c962bd401124))

## v1.211.0 (2023-03-06)

### Chore

* chore(manager): remove exploits without advisories feature flag ([`e64f6f8`](https://github.com/RedHatInsights/vulnerability-engine/commit/e64f6f8477ded29ac9222d6493ab9b6d12a5a587))

* chore(manager): remove Patch API requests

VULN-2533 ([`839ce2a`](https://github.com/RedHatInsights/vulnerability-engine/commit/839ce2ad7cb447b45e205f369a6e66ed83248855))

### Feature

* feat(notificator): hide exploits without advisories ([`7b353ce`](https://github.com/RedHatInsights/vulnerability-engine/commit/7b353ce99269e2575fd824242501a4d8462ed3a1))

* feat(manager): show known exploit for CVEs with advisories only ([`a48280c`](https://github.com/RedHatInsights/vulnerability-engine/commit/a48280c738c8be824cbaea97ace827ff440870ac))

### Fix

* fix(manager): fix advisories empty vals in test DB ([`81b8491`](https://github.com/RedHatInsights/vulnerability-engine/commit/81b84915a1dc63a4558842d34e454990e4e1708f))

### Test

* test(manager): add exploits with advisories tests ([`25adc9b`](https://github.com/RedHatInsights/vulnerability-engine/commit/25adc9b4f020c3ea3d558ee2a7e236bf15f8d0c1))

## v1.210.0 (2023-02-23)

### Chore

* chore(evaluator): remove dead branch ([`993d64b`](https://github.com/RedHatInsights/vulnerability-engine/commit/993d64bf538a180f2c084061ca21b12d4059be17))

### Feature

* feat: change conditions for non-edge systems

VULN-2561 ([`c733a73`](https://github.com/RedHatInsights/vulnerability-engine/commit/c733a7309c064eeef8e089da2d4696a84b85e852))

## v1.209.2 (2023-02-21)

### Performance

* perf: system_vulnerabilities_indexes

VULN-2558 ([`f4691e8`](https://github.com/RedHatInsights/vulnerability-engine/commit/f4691e8b0fac24b82b80d609aa85da900e67e620))

* perf: add indexes to system_platform table

VULN-2556 ([`0a20afd`](https://github.com/RedHatInsights/vulnerability-engine/commit/0a20afded6f236ab99b895511af61f135aa314ff))

## v1.209.1 (2023-02-16)

### Fix

* fix(evaluator): update remediation type and advisory

when CVE became reported in `cves` from vmaas - set advisories and remediation_type_id=2
when reported in `manually_fixable_cves` - set advisories=None, remediation_type_id=1

VULN-2515 ([`4d9b1f9`](https://github.com/RedHatInsights/vulnerability-engine/commit/4d9b1f99daa2357a9c20292a6f1eb70b2f872cc8))

### Unknown

* Revert &#34;fix: no need to re-fetch rules CVEs without errata any more&#34;

This reverts commit 3728c24bcf675973b3af6312f6451c22fd9220ee. ([`925fcca`](https://github.com/RedHatInsights/vulnerability-engine/commit/925fcca2123b72260e1423f891cd99a1a678fa6b))

* Revert &#34;feat: sync all CVEs&#34;

This reverts commit 2c7e5f0a8573e05d6f57a84af7bbbf127b29f89a. ([`aa37c1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/aa37c1ce2928987f190298fb6122fbd4ed8013c0))

## v1.209.0 (2023-02-16)

### Chore

* chore(deploy): disable old listener

VULN-2536 ([`ebbcf8e`](https://github.com/RedHatInsights/vulnerability-engine/commit/ebbcf8e066b1ca5e87dad565b9c6cd2745d78bc9))

* chore(tests): implement unit tests for new listener

VULN-2536 ([`0cf42b0`](https://github.com/RedHatInsights/vulnerability-engine/commit/0cf42b08f1507238f43eb20ce43e1d944048c222))

* chore(listener): split common stuff from upload_listener

VULN-2536 ([`3ec658c`](https://github.com/RedHatInsights/vulnerability-engine/commit/3ec658c5607e42332c22d819e312fb31f48cdea1))

* chore: drop distutils.strtobool ([`3730cd1`](https://github.com/RedHatInsights/vulnerability-engine/commit/3730cd1303f3b5675f883a8049b6f82a226a7bc5))

### Feature

* feat(listener): send messages to evaluator from new listener

VULN-2536 ([`a4c3734`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4c3734a73d6d22e9de42008ae33cff3d8deabdf))

* feat(listener): deploy new listener

VULN-2536 ([`9d404cb`](https://github.com/RedHatInsights/vulnerability-engine/commit/9d404cb1757868dbc3632dbcd2b71407e7a229e2))

* feat(listener): deploy new listener in local dev

VULN-2536 ([`ef28274`](https://github.com/RedHatInsights/vulnerability-engine/commit/ef282740d715f5f2c7621731308a07a7ed391816))

* feat(listener): implement listener queue processing component

VULN-2536 ([`01d4d57`](https://github.com/RedHatInsights/vulnerability-engine/commit/01d4d5737bfabaab279b10ad06fd38e527029f5e))

* feat(listener): implement listener waiting queue

VULN-2536 ([`031eb16`](https://github.com/RedHatInsights/vulnerability-engine/commit/031eb1688b444edbe8cc5659555bbce3f1d6c62f))

* feat(listener): reimplement listener

VULN-2536 ([`6fe1d15`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fe1d15d09dd5e8ac2f0f28a5138c04ca4b47b7f))

## v1.208.5 (2023-02-13)

### Fix

* fix(manager): DB_READ_REPLICA connection should be closed during initialization ([`e701245`](https://github.com/RedHatInsights/vulnerability-engine/commit/e701245a8010b41979a99f18209980a7e217d5e2))

## v1.208.4 (2023-02-13)

### Chore

* chore: change taskomatic jobs schedule

don&#39;t run status metrics
run db metrics less often ([`5b5b2f5`](https://github.com/RedHatInsights/vulnerability-engine/commit/5b5b2f584d3a4596d8b90e95a5c277c1c83d43c2))

* chore: truncate inactive partition to improve evaluation performance ([`b878ba0`](https://github.com/RedHatInsights/vulnerability-engine/commit/b878ba0291057b3622099e27bd1a6ef4edfb6cfa))

### Fix

* fix(manager): actually use read replica ([`e6ec106`](https://github.com/RedHatInsights/vulnerability-engine/commit/e6ec106e7dee8a9df2474b6bf9ed6f6fc5136f0b))

## v1.208.3 (2023-02-10)

### Chore

* chore: remove failed cache ([`6422570`](https://github.com/RedHatInsights/vulnerability-engine/commit/6422570b5426e6a20c28eb5c414b26974c0d73a1))

### Fix

* fix: always make vmaas request with extended: true ([`a815dba`](https://github.com/RedHatInsights/vulnerability-engine/commit/a815dbaf6320154466f3f25d630839c98c8ae1c5))

## v1.208.2 (2023-02-07)

### Fix

* fix: strtobool returns int ([`fa6e481`](https://github.com/RedHatInsights/vulnerability-engine/commit/fa6e481b22db7b7b6baf19e6bd95ab24aa03c3d1))

## v1.208.1 (2023-02-07)

### Fix

* fix: set patch_access=true with advisories feature flag

VULN-2515 ([`a77aafd`](https://github.com/RedHatInsights/vulnerability-engine/commit/a77aafd95975adb5d0dafe189e3fc5ad8f905040))

### Test

* test: update test container to UBI 8 ([`7ce6622`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ce662231857f41efc5ebdc485ab4ad5674f4110))

## v1.208.0 (2023-02-07)

### Feature

* feat(api): use system_vulnerabilities advisories

VULN-2515 ([`5822d19`](https://github.com/RedHatInsights/vulnerability-engine/commit/5822d19d43e5fdebf4c025d855ee5f0b4d444e34))

### Fix

* fix: remove unused show_advisories_details and patch_access in /cves/&lt;id&gt;

VULN-2515 ([`0abee4f`](https://github.com/RedHatInsights/vulnerability-engine/commit/0abee4fcae161317d4c1a7f911490e66bbf60a5a))

## v1.207.0 (2023-02-06)

### Chore

* chore(clowdapp): Add crc-pdf-generator to as optional dependency ([`01182c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/01182c60edc8945ca5831e759b8582b90b028177))

### Feature

* feat(evaluator): store advisories to system_vulnerabilities

VULN-2514 ([`900e531`](https://github.com/RedHatInsights/vulnerability-engine/commit/900e53171ca60988deb5bd78edd78198bf25ff0e))

## v1.206.0 (2023-01-30)

### Documentation

* docs: document running unit tests locally ([`13a1f47`](https://github.com/RedHatInsights/vulnerability-engine/commit/13a1f47381ed06ca9df131c05d4680e42b69a2b5))

### Feature

* feat(database): add advisories column to system_vulnerabilities

VULN-2513 ([`43feb45`](https://github.com/RedHatInsights/vulnerability-engine/commit/43feb457d807938f00b85a0476d6df59589e47c6))

## v1.205.0 (2023-01-26)

### Feature

* feat: /systems/{inv_id}/cves generate_autoplaybook field

VULN-2467 ([`a6c4be8`](https://github.com/RedHatInsights/vulnerability-engine/commit/a6c4be8e990c06870de0a986f30173c885524cf8))

## v1.204.0 (2023-01-24)

### Chore

* chore: deploy grouper

VULN-2476 ([`f632d63`](https://github.com/RedHatInsights/vulnerability-engine/commit/f632d63b8b294f0495980bc9e5ecf7bd82f9c7b6))

### Feature

* feat: implement initial kafka message grouper

VULN-2476 ([`69104a7`](https://github.com/RedHatInsights/vulnerability-engine/commit/69104a788eb3c247cfd4a5437c01d0f8fc0b2cd5))

### Unknown

* VULN-2519: don&#39;t send  empty repository_list or package_list to vmaas ([`2390215`](https://github.com/RedHatInsights/vulnerability-engine/commit/23902158ae342181c24e422e69dbabc01cc081cb))

## v1.203.0 (2023-01-19)

### Chore

* chore: update certifi and gitpython ([`6ad374c`](https://github.com/RedHatInsights/vulnerability-engine/commit/6ad374ca45bf5607f261ef5a9d16a3fac2a24fca))

* chore: ability to switch to vmaas-go ([`79c4931`](https://github.com/RedHatInsights/vulnerability-engine/commit/79c4931d0ad11df0b6efd6ecb531e5cf4a9828b3))

* chore(manager): change to double-tick strings

VULN-2464 ([`1f1c1fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/1f1c1fed20c890ccc249c9b4380477afa53b6502))

* chore(manager): cves endpoints common queries

VULN-2464 ([`d66e651`](https://github.com/RedHatInsights/vulnerability-engine/commit/d66e651fe065ae42d3240fc40e8be7f762775747))

* chore(manager): report endpoint common queries

VULN-2464 ([`6e4328f`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e4328fa6dc533fcc58587b46de704efc25e96a5))

* chore(manager): systems endpoint common conditions

VULN-2464 ([`cca3fea`](https://github.com/RedHatInsights/vulnerability-engine/commit/cca3fea2ab3ce60f198595367745747df449f546))

* chore(manager): dashboard common query update

VULN-2464 ([`c2bf61f`](https://github.com/RedHatInsights/vulnerability-engine/commit/c2bf61fe66efb0ba51d060653c8a4c5d734bdb09))

* chore(manager): dashbar common query update

VULN-2464 ([`801d156`](https://github.com/RedHatInsights/vulnerability-engine/commit/801d1569a3288a3de5f261d9acd66504170b06a7))

* chore(manager): vulnerabilities endpoint common conditions

VULN-2464 ([`03a84d4`](https://github.com/RedHatInsights/vulnerability-engine/commit/03a84d424deb4b90c3151f7c1f2d1b6c76068d7b))

* chore(common): allow common conditions to be modular

VULN-2464 ([`1c5a57e`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c5a57e5def860cbd8660a40fb1da20a291d46a2))

* chore: add also detailed structure to docs

VULN-2490 ([`efb8213`](https://github.com/RedHatInsights/vulnerability-engine/commit/efb821331395490dcf0bc2a23952e0172c63dfc0))

* chore(notificator): add docs

VULN-2490 ([`7ef3bf5`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ef3bf51b2a5b27a1ba52c98771538e5120d1baf))

* chore: replace deprecated set-output command

VULN-2485 ([`7f5d39a`](https://github.com/RedHatInsights/vulnerability-engine/commit/7f5d39a41da4c2a6ea99e73b8fe5f13cf4023268))

* chore(advisor-listener): add readme doc

VULN-2490 ([`03189c5`](https://github.com/RedHatInsights/vulnerability-engine/commit/03189c582eed28b9b5cedfd80f697acc7afe8263))

* chore(vmaas-sync): add readme doc

VULN-2490 ([`ca4a305`](https://github.com/RedHatInsights/vulnerability-engine/commit/ca4a305f0f500e1c2304587268c7d1ad8f6f275d))

* chore(evaluator): add readme doc

VULN-2490 ([`c9f8ebf`](https://github.com/RedHatInsights/vulnerability-engine/commit/c9f8ebf6d2419442f2f812f60c9ddc3d4a5f307f))

* chore(listener): add readme doc

VULN-2490 ([`0486208`](https://github.com/RedHatInsights/vulnerability-engine/commit/0486208a1ad0e30314c90de9bfd3b24bc16cc700))

### Documentation

* docs: engine schema ([`965ea68`](https://github.com/RedHatInsights/vulnerability-engine/commit/965ea68912edf2c34076656b9e0f76f36eb5d293))

### Feature

* feat: update vmaas api links ([`336d0bf`](https://github.com/RedHatInsights/vulnerability-engine/commit/336d0bfd12c17724be6d48e9c48a4dd76eebb37f))

* feat: sync all CVEs

VULN-2486 ([`2c7e5f0`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c7e5f0a8573e05d6f57a84af7bbbf127b29f89a))

### Fix

* fix: no need to re-fetch rules CVEs without errata any more ([`3728c24`](https://github.com/RedHatInsights/vulnerability-engine/commit/3728c24bcf675973b3af6312f6451c22fd9220ee))

## v1.202.0 (2022-12-12)

### Feature

* feat: process automatic playbook rule

VULN-2467 ([`07cbd91`](https://github.com/RedHatInsights/vulnerability-engine/commit/07cbd91ff1ac5b4442294528e99a18ed2f07e98f))

### Refactor

* refactor(manager): dashbar common conditions

VULN-2464 ([`4d0b782`](https://github.com/RedHatInsights/vulnerability-engine/commit/4d0b782fba1a6115cbf96eab923817818a95402a))

* refactor(manager): dashboard common conditions

VULN-2464 ([`2b56b92`](https://github.com/RedHatInsights/vulnerability-engine/commit/2b56b92532a513744e9a42515d148d5c0f8e02b5))

* refactor(manager): add common peewee conditions

VULN-2464 ([`53d55c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/53d55c6cf890d42dca52b1f3f3e1bd76973fbd21))

## v1.201.0 (2022-12-08)

### Feature

* feat(listener): extend vmaas_request with repository_paths

Add parsed repository paths (from RHUI machines) into `vmaas_request`.

VULN-2442 ([`72f8b84`](https://github.com/RedHatInsights/vulnerability-engine/commit/72f8b8462cec74047508f3b984adbc590f3be082))

* feat(listener): parse and format repo paths

Parse repository paths out of yum_repos[].mirrorlist taking only a known
`/content/dist` paths for RHUI repositories.

VULN-2442 ([`d70a4f3`](https://github.com/RedHatInsights/vulnerability-engine/commit/d70a4f37e511e1a9e02f0979c71428fe8c768299))

### Refactor

* refactor(listener): use basearch when available

VULN-2442 ([`fa7e400`](https://github.com/RedHatInsights/vulnerability-engine/commit/fa7e400de4901e02ef46e8c8fcefb57e90ff46fa))

* refactor(listener): get_repo_list out of yum_repos

VULN-2442 ([`1792768`](https://github.com/RedHatInsights/vulnerability-engine/commit/17927684c6b6e250b14fedf95ca13dfeca4a45ce))

## v1.200.0 (2022-12-08)

### Feature

* feat: store all playbooks &amp; insights need reboot fact

VULN-2471 ([`95d5575`](https://github.com/RedHatInsights/vulnerability-engine/commit/95d557508f6b14129a4219542460ea2552d13085))

## v1.199.0 (2022-12-07)

### Chore

* chore(grafana): fix vmaas-sync restart counter and add floorist counter ([`7554966`](https://github.com/RedHatInsights/vulnerability-engine/commit/7554966e1e067f4e9d5be963f1e165c6abf33855))

* chore: use postgres14 in unit tests ([`87cca4e`](https://github.com/RedHatInsights/vulnerability-engine/commit/87cca4e5d0d9b2b2a3cf369fc3567c5d51821baa))

### Feature

* feat(manager): use new exploit data

VULN-2470 ([`f3983ab`](https://github.com/RedHatInsights/vulnerability-engine/commit/f3983abd62634a22ffd71467a8f58b4a16228f91))

* feat: sync exploit data from new PS endpoit

VULN-2470 ([`4b9e3e8`](https://github.com/RedHatInsights/vulnerability-engine/commit/4b9e3e815ab5d8a953c7b384c1e69cfb2e2e20e3))

### Fix

* fix: remove old way of syncing exploit data

VULN-2470 ([`0c06446`](https://github.com/RedHatInsights/vulnerability-engine/commit/0c064462916c8f4d699d6d4f63abb00bd779d97d))

## v1.198.2 (2022-11-16)

### Fix

* fix(manager): cve rule filter should filter between abnv and hits ([`8d224c4`](https://github.com/RedHatInsights/vulnerability-engine/commit/8d224c492fd89aec347e4b79ddceea381b5d4a4d))

## v1.198.1 (2022-11-15)

### Fix

* fix(manager): include rule hits without mitigation_reason ([`ef87d43`](https://github.com/RedHatInsights/vulnerability-engine/commit/ef87d43c2b4fae709fab33bb3dde3015a16accce))

## v1.198.0 (2022-11-10)

### Documentation

* docs(advisor_listener): document RV of parse_inventory_data ([`7e20b56`](https://github.com/RedHatInsights/vulnerability-engine/commit/7e20b56782579bc0efd0d036925f773e589fe7e0))

### Feature

* feat(cacheman): Include ABNV CVE-system pairs

VULN-2396 ([`f4a5bdc`](https://github.com/RedHatInsights/vulnerability-engine/commit/f4a5bdc1fefb52998a2c614d6360148e639554aa))

### Refactor

* refactor(base): get_rules_for_cves query refactoring ([`1f9d0d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/1f9d0d0d2e8500ce6e7cf187b83cfed4592c74f5))

## v1.197.1 (2022-11-08)

### Fix

* fix(advisor_listener): count cve when rule is not active

VULN-2449 ([`bbd9bfb`](https://github.com/RedHatInsights/vulnerability-engine/commit/bbd9bfb2c6f78109f94492716735e7a8b69cb777))

## v1.197.0 (2022-11-08)

### Feature

* feat(advisor_listener): add abnv counts to system cve cache

VULN-2449 ([`32dfd78`](https://github.com/RedHatInsights/vulnerability-engine/commit/32dfd78cdee77af781c319f16c1517f915b19aa2))

## v1.196.1 (2022-11-08)

### Fix

* fix(evaluator): dont count partial rule passes as hit

VULN-2448 ([`db45741`](https://github.com/RedHatInsights/vulnerability-engine/commit/db45741a37bcfb9b8345f4370bf0f5b74dceecd5))

## v1.196.0 (2022-11-04)

### Feature

* feat(dashboard): dont count parial rule passes as hit ([`18a1f62`](https://github.com/RedHatInsights/vulnerability-engine/commit/18a1f62e3a8757c16469bd89f5f67565ee772c6d))

## v1.195.2 (2022-11-04)

### Fix

* fix(cve_handler): dont count partial rule passes as hit ([`a1d0003`](https://github.com/RedHatInsights/vulnerability-engine/commit/a1d0003ddf7a2bda7fe55aebe8014b9bb4fb83c1))

## v1.195.1 (2022-11-04)

### Fix

* fix(report_handler): corrected abnv query ([`311b423`](https://github.com/RedHatInsights/vulnerability-engine/commit/311b4232490fb61ca96561421681c6c4c9b9163f))

## v1.195.0 (2022-11-04)

### Feature

* feat(dashbar): dont count partial rule passes as hit ([`5b3a448`](https://github.com/RedHatInsights/vulnerability-engine/commit/5b3a4487775466d2a96bce942f38aa378c9ab9ec))

## v1.194.3 (2022-11-04)

### Fix

* fix(vuln_handler): dont count partial rule passes as hit ([`3104a66`](https://github.com/RedHatInsights/vulnerability-engine/commit/3104a664d25ec1de000f0888963eccb84e5330f0))

## v1.194.2 (2022-11-04)

### Fix

* fix(system_handler): dont count partial rule passes as hit ([`39629f2`](https://github.com/RedHatInsights/vulnerability-engine/commit/39629f28bcea73f8d735c148d328a8e91fa49e81))

## v1.194.1 (2022-11-04)

### Fix

* fix(status_handler): dont count partial rule passes as hit ([`06ed1f7`](https://github.com/RedHatInsights/vulnerability-engine/commit/06ed1f73e27ce1fc4db87e10fe173c58ffea2738))

## v1.194.0 (2022-11-03)

### Feature

* feat: add remediation field to .../ids endpoints

VULN-2439 ([`5f85410`](https://github.com/RedHatInsights/vulnerability-engine/commit/5f8541011d0d56a3e53cf210f1fd0b524fc2519c))

* feat(notificator): send notifications for abnv systems ([`b0cc9a4`](https://github.com/RedHatInsights/vulnerability-engine/commit/b0cc9a4e525cf5f800b20465f668690819f82c5b))

## v1.193.0 (2022-11-01)

### Chore

* chore: skip test package vulnerability 51457 ([`d3091ed`](https://github.com/RedHatInsights/vulnerability-engine/commit/d3091ed1329c00203ada51d399f23d41f5663836))

* chore(platform_mock): add org_id to platform mock ([`9464948`](https://github.com/RedHatInsights/vulnerability-engine/commit/94649485597be8fee4da6cafec212ed45e90e3ee))

### Feature

* feat(evaluator): add abnv counts to system cve cache

VULN-2448 ([`25c0599`](https://github.com/RedHatInsights/vulnerability-engine/commit/25c0599a152565f41c08f5947cbc1a430b55af0a))

## v1.192.2 (2022-10-25)

### Performance

* perf(dashboard): reuse affected cves from overall cves query ([`716b3ae`](https://github.com/RedHatInsights/vulnerability-engine/commit/716b3aeb469aba139b88f718cf3944af38829024))

## v1.192.1 (2022-10-21)

### Fix

* fix(evaluator): skip advisor-only systems when it&#39;s scheduled for re-evaluation ([`49e1ff2`](https://github.com/RedHatInsights/vulnerability-engine/commit/49e1ff2ad025cee7dbbab1fc14ad1c9dd234bf41))

## v1.192.0 (2022-10-21)

### Feature

* feat(playbook): add reboot_required for playbooks

VULN-2438 ([`cab9a7a`](https://github.com/RedHatInsights/vulnerability-engine/commit/cab9a7af0d2edf4e7f0b12eb7a7b3427c1aeb192))

## v1.191.0 (2022-10-18)

### Feature

* feat: Include affected but not vulnerable CVEs in /vulnerabilities/systems API

VULN-2406 ([`023c590`](https://github.com/RedHatInsights/vulnerability-engine/commit/023c5904574a737e8d5ae64795e23d3af238485c))

## v1.190.1 (2022-10-18)

### Fix

* fix(taskomatic): disable cache for an account also when there are no cached data

VULN-2432 ([`8d9368a`](https://github.com/RedHatInsights/vulnerability-engine/commit/8d9368a0ebc3b3ee96e7856e1d47dfa9ef4f5afe))

### Refactor

* refactor(vmaas-sync): change to cronjob

VULN-2431 ([`657c3a5`](https://github.com/RedHatInsights/vulnerability-engine/commit/657c3a5de641492abcc8ff48c7c4824c4adfb604))

## v1.190.0 (2022-10-13)

### Feature

* feat(base): Include rules for affected but not vulnerable CVEs in base.py

VULN-2424 ([`343c8e2`](https://github.com/RedHatInsights/vulnerability-engine/commit/343c8e2115ddefdc56a4ab582295646d6f4c1686))

## v1.189.0 (2022-10-11)

### Feature

* feat(report_handler): Include affected but not vulnerable CVEs

VULN-2415 ([`65fa4ca`](https://github.com/RedHatInsights/vulnerability-engine/commit/65fa4ca3b49316f04559725cef2d37a0bd875ea7))

## v1.188.0 (2022-10-11)

### Feature

* feat(dashbar): Include affected but not vulnerable CVEs in /vulnerabilities/dashbar API

VULN-2409 ([`488995f`](https://github.com/RedHatInsights/vulnerability-engine/commit/488995f38ea2aea8daa6ec6bdf5ed77d549f527b))

## v1.187.0 (2022-10-07)

### Feature

* feat(dashboard): Include affected but not vulnerable CVEs in /vulnerabilities/dashboard API

VULN-2414 ([`078538b`](https://github.com/RedHatInsights/vulnerability-engine/commit/078538b0e0b938b6ef95ec2e75bd96ff9ef6285b))

## v1.186.0 (2022-10-06)

### Chore

* chore: update Kafka version in platform_mock ([`51a601b`](https://github.com/RedHatInsights/vulnerability-engine/commit/51a601b5cd63a55b25c765043b77231c2bb5f092))

### Feature

* feat: Include affected but not vulnerable CVEs in /vulnerabilities/cves API

VULN-2395 ([`6c77753`](https://github.com/RedHatInsights/vulnerability-engine/commit/6c77753bbf27835f638735245ea480c116fb9ad0))

## v1.185.1 (2022-09-30)

### Fix

* fix(manager): fix abnv count in /cve/{cve_id} endpoint ([`6c63f03`](https://github.com/RedHatInsights/vulnerability-engine/commit/6c63f032133158579ad14260fe96ac9214aed9c8))

## v1.185.0 (2022-09-29)

### Feature

* feat: Include affected but not vulnerable CVEs in /vulnerabilities/status API

VULN-2412 ([`872f006`](https://github.com/RedHatInsights/vulnerability-engine/commit/872f00606fc764de66e865974785c82a78288a79))

## v1.184.1 (2022-09-27)

### Fix

* fix: increase floorist chunksize

VULN-2411 ([`7eeacc6`](https://github.com/RedHatInsights/vulnerability-engine/commit/7eeacc6bf88155c8f85374ae8bf3d85d13303cea))

## v1.184.0 (2022-09-27)

### Feature

* feat(listener): add basearch to vmaas json

VULN-2394 ([`80e6215`](https://github.com/RedHatInsights/vulnerability-engine/commit/80e62155048a83e3c061070281f020e46b0118a0))

## v1.183.5 (2022-09-26)

### Fix

* fix: half floorist chunksize

VULN-2411 ([`72f6331`](https://github.com/RedHatInsights/vulnerability-engine/commit/72f6331b0ba69d53305a167eb79dac17a29aacdb))

## v1.183.4 (2022-09-23)

### Fix

* fix: half chunksize for floorist

VULN-2411 ([`bc9dbc6`](https://github.com/RedHatInsights/vulnerability-engine/commit/bc9dbc67eac0d7d1bd99d18f3c15de9048948288))

## v1.183.3 (2022-09-22)

### Fix

* fix: add custom chunksize for floorplan

VULN-2411 ([`bf3a3dd`](https://github.com/RedHatInsights/vulnerability-engine/commit/bf3a3dd10f77bb00209678053750359ae1cfe864))

## v1.183.2 (2022-09-20)

### Fix

* fix(vmaas_sync): fix semaphore init

VULN-2393 ([`fae502b`](https://github.com/RedHatInsights/vulnerability-engine/commit/fae502b5ccc51aea1984b4eee087aee175f228d0))

### Unknown

* Revert &#34;Revert &#34;feat: Include affected but not vulnerable CVEs in/cves/{cve_id} API&#34;&#34;

This reverts commit a2164da6801bc1ce2f4d593f4f7eb65dfd83aea2. ([`236453f`](https://github.com/RedHatInsights/vulnerability-engine/commit/236453f2e3ad050683fc667bd86d798f6f2a6b40))

* Revert &#34;feat: Include affected but not vulnerable CVEs in/cves/{cve_id} API&#34;

This reverts commit eb49cb94ac6422301d363020ffd03519c43afa41. ([`a2164da`](https://github.com/RedHatInsights/vulnerability-engine/commit/a2164da6801bc1ce2f4d593f4f7eb65dfd83aea2))

## v1.183.1 (2022-09-16)

### Fix

* fix(manager): increase header size to 65535 bytes

VULN-2398 ([`842498c`](https://github.com/RedHatInsights/vulnerability-engine/commit/842498c7dba6986b0f59c76dc71f9dab8e08b16c))

## v1.183.0 (2022-09-15)

### Feature

* feat: Include affected but not vulnerable CVEs in/cves/{cve_id} API

VULN-2397 ([`eb49cb9`](https://github.com/RedHatInsights/vulnerability-engine/commit/eb49cb94ac6422301d363020ffd03519c43afa41))

## v1.182.2 (2022-09-07)

### Chore

* chore(utils): provide info about reporter when message validation fails

VULN-2392 ([`82ae7ae`](https://github.com/RedHatInsights/vulnerability-engine/commit/82ae7ae1fef97061e8a12e5b75befe62dc70654d))

### Fix

* fix(kafka): support PLAIN sasl mechanism ([`72e79bd`](https://github.com/RedHatInsights/vulnerability-engine/commit/72e79bd2f83b25010bba28f53651dd8824c1561c))

* fix(config): don&#39;t dump certs into file if they&#39;re empty string ([`db449a7`](https://github.com/RedHatInsights/vulnerability-engine/commit/db449a7fa050f6ab5a69d653af9f76d5a705e317))

## v1.182.1 (2022-09-05)

### Fix

* fix: allow empty account_number ([`e5cfc6b`](https://github.com/RedHatInsights/vulnerability-engine/commit/e5cfc6b9b7d104802b182888ac25b0490147db15))

## v1.182.0 (2022-09-05)

### Feature

* feat: affected_but_not_vulnerable in /cve/{CVE_ID}/affected_systems

VULN-2300 ([`c03d6d2`](https://github.com/RedHatInsights/vulnerability-engine/commit/c03d6d278187a9c74461f70fd16e04ede70f7618))

* feat: /cves affected_but_not_vulnerable count

VULN-2299 ([`d9359b3`](https://github.com/RedHatInsights/vulnerability-engine/commit/d9359b3b0ee7ee11c9ae1786033689f1c8e0c0fd))

## v1.181.0 (2022-08-26)

### Feature

* feat(notificator): add display name and inventory id to msg

VULN-2369 ([`9b1ca2d`](https://github.com/RedHatInsights/vulnerability-engine/commit/9b1ca2db84b691f45faf7f6e8d5ab952b540d248))

## v1.180.0 (2022-08-24)

### Feature

* feat(grafana): show sent notifications count

VULN-2355 ([`b462d63`](https://github.com/RedHatInsights/vulnerability-engine/commit/b462d631ac585f26eea2ebe14866a84e786b04cd))

## v1.179.0 (2022-08-11)

### Chore

* chore(notificator): add metric for # of sent notifications

VULN-2355 ([`befe002`](https://github.com/RedHatInsights/vulnerability-engine/commit/befe002ca1ce3b68a277223f7c4e8eedc1b1c49c))

### Feature

* feat: additional parameters to /ids endpoints

VULN-2363 ([`ea33242`](https://github.com/RedHatInsights/vulnerability-engine/commit/ea3324250f10c65fb9bc9cf9788b5483cb2790f9))

## v1.178.0 (2022-08-09)

### Chore

* chore: migrate floorist to FloorPlan CR

VULN-2366 ([`6e0f89e`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e0f89e56c4d79169c2a5c2eac8ac4e98458c769))

* chore: remove obsolete file ([`937dd53`](https://github.com/RedHatInsights/vulnerability-engine/commit/937dd53b8f0b6a710cb99f131d0dcfb2cd78ca90))

* chore(manager): better catch and log waiting for cyndi ([`893a74b`](https://github.com/RedHatInsights/vulnerability-engine/commit/893a74b0655d52c7f4440e8354670af8840c4217))

### Feature

* feat: Filter for &#34;affected but not vulnerable&#34; systems in /cves/{cve_id}/affected_systems

VULN-2301 ([`8e47281`](https://github.com/RedHatInsights/vulnerability-engine/commit/8e472819be6d526c7d94285f8768a28d3736ff76))

## v1.177.1 (2022-08-03)

### Fix

* fix: 200 code when no announcement is set

VULN-2269 ([`3732735`](https://github.com/RedHatInsights/vulnerability-engine/commit/3732735014ef79b5a96314b2b958584a5bad4586))

## v1.177.0 (2022-08-02)

### Chore

* chore: add managed kafka more sasl mechanism support

VULN-2332 ([`afadc6e`](https://github.com/RedHatInsights/vulnerability-engine/commit/afadc6e9d2d15f0571de190501cd76186b42a452))

* chore: prevent RBAC resources from being removed ([`988173d`](https://github.com/RedHatInsights/vulnerability-engine/commit/988173d1ca82a8dfd367a7a8a4104cbfb0d6b5eb))

### Feature

* feat(manager): enable PostgreSQL read replica if available

VULN-2353 ([`03d74fb`](https://github.com/RedHatInsights/vulnerability-engine/commit/03d74fb7c98799d921f6fa7c85d39eaa9d4bcceb))

## v1.176.1 (2022-07-22)

### Fix

* fix(manager-admin): accept data_format parameter (it&#39;s in links)

VULN-2342 ([`7ab65d3`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ab65d3022037efd40b7f04e84a4beb45f446263))

## v1.176.0 (2022-07-19)

### Feature

* feat(manager-admin): del notifs endpoint should work with org_id

VULN-2329 ([`bc8ec80`](https://github.com/RedHatInsights/vulnerability-engine/commit/bc8ec8091087753027e5f67feb5c3bfff9b5888c))

* feat(manager-admin): restart notificator cache on notifications delete

VULN-2329 ([`650ff9f`](https://github.com/RedHatInsights/vulnerability-engine/commit/650ff9f84c30624231f373533ae5c129787db640))

* feat(notificator): add api to flush cache

VULN-2329 ([`a96badd`](https://github.com/RedHatInsights/vulnerability-engine/commit/a96badd7bfc744cd90d7a45c2f39d3bff49b7c45))

## v1.175.4 (2022-07-19)

### Fix

* fix(manager-admin): check for NULL value before doing json.loads

VULN-2337 ([`5d37c3a`](https://github.com/RedHatInsights/vulnerability-engine/commit/5d37c3a6edf0d0ce7d9e9cce6e04955c67e32160))

## v1.175.3 (2022-07-14)

### Performance

* perf: add index for rule_id on system_vulnerabilities

VULN-2328 ([`85f45ec`](https://github.com/RedHatInsights/vulnerability-engine/commit/85f45ec5d744c3a0a1fe96814f8372b7c98bcf99))

## v1.175.2 (2022-07-14)

### Fix

* fix: Revert &#34;perf(manager): change page and limit size to max 100&#34;

This reverts commit 4d1bef94b4f87b2241848b3d26e56a116f8b4966.

unable to use currently because of select all feature in frontend ([`069f76f`](https://github.com/RedHatInsights/vulnerability-engine/commit/069f76fd061a409f267b50b148f9fdca004c0060))

## v1.175.1 (2022-07-14)

### Fix

* fix: no ssl legacy option for clowder

Traceback (most recent call last):
File /usr/lib64/python3.8/runpy.py, line 194, in _run_module_as_main
return _run_code(code, main_globals, None,
File /usr/lib64/python3.8/runpy.py, line 87, in _run_code
exec(code, run_globals)
File /engine/advisor_listener/advisor_listener.py, line 14, in &lt;module&gt;
from common import mqueue
File /engine/common/mqueue.py, line 10, in &lt;module&gt;
from common.logging import get_logger
File /engine/common/logging.py, line 13, in &lt;module&gt;
CFG = Config()
File /engine/common/config.py, line 20, in __call__
cls._instances[cls] = super(Singleton, cls).__call__(*args, **kwargs)
File /engine/common/config.py, line 154, in __init__
self.clowder()
File /engine/common/config.py, line 227, in clowder
self._set_kafka_ssl_legacy()
File /engine/common/config.py, line 161, in _set_kafka_ssl_legacy
self.ssl_context = create_ssl_context(
File /usr/local/lib64/python3.8/site-packages/aiokafka/helpers.py, line 53, in create_ssl_context
context = create_default_context(
File /usr/lib64/python3.8/ssl.py, line 745, in create_default_context
context.load_verify_locations(cafile, capath, cadata)
FileNotFoundError: [Errno 2] No such file or directory ([`ffd9783`](https://github.com/RedHatInsights/vulnerability-engine/commit/ffd9783cf1081c0fc0747f895bb04c8d09e1126b))

### Refactor

* refactor: don&#39;t pass same argument twice ([`36b1c8e`](https://github.com/RedHatInsights/vulnerability-engine/commit/36b1c8e1b3a01de95db130ba84b2f290ab3b0d78))

## v1.175.0 (2022-07-13)

### Feature

* feat(manager-admin): add internal API for usage by Content Preview app

VULN-2328 ([`d6ad07c`](https://github.com/RedHatInsights/vulnerability-engine/commit/d6ad07c2429060460a46e5b506c169930b4cdeb4))

## v1.174.1 (2022-07-13)

### Chore

* chore: update Grafana board to include new metrics ([`3b33c14`](https://github.com/RedHatInsights/vulnerability-engine/commit/3b33c146a9879e31351009ee75429087a3e8f8b9))

### Performance

* perf(manager): change page and limit size to max 100

VULN-2327 ([`4d1bef9`](https://github.com/RedHatInsights/vulnerability-engine/commit/4d1bef94b4f87b2241848b3d26e56a116f8b4966))

## v1.174.0 (2022-07-12)

### Chore

* chore: re-structure panels, add new metrics, fix invalid values ([`11600bf`](https://github.com/RedHatInsights/vulnerability-engine/commit/11600bf4ee790546edd1e35af7412c2c2ffce9a9))

* chore: define buckets and fix time measurement ([`e8c755a`](https://github.com/RedHatInsights/vulnerability-engine/commit/e8c755accbf2293e3b25778d615b612958ca3a17))

* chore: add latency histogram per endpoint

VULN-2323 ([`86234f6`](https://github.com/RedHatInsights/vulnerability-engine/commit/86234f6a33d27bee39f3a678672d2fa03d94aed1))

* chore: simplify kafka lag graph ([`f217c11`](https://github.com/RedHatInsights/vulnerability-engine/commit/f217c1194ded1a99586dc50db79d95e361aeb93f))

### Feature

* feat(notificator): send org_id in notification payload

VULN-2315 ([`22f40b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/22f40b6af71650a2c02cda7886fe2b85ac5c6363))

* feat(evaluator): send org_id to notificator

VULN-2315 ([`a193701`](https://github.com/RedHatInsights/vulnerability-engine/commit/a193701088b8ab4277717d90308843c55f435fc9))

* feat(advisor_listener): send org_id to notificator

VULN-2315 ([`ad2aec5`](https://github.com/RedHatInsights/vulnerability-engine/commit/ad2aec53dbb0302f32a14839a52c2903657a5b4f))

## v1.173.4 (2022-07-07)

### Performance

* perf: fetch all rows at once instead of using cursor

default prefetch is 50, resulting in multiple queries ([`7574662`](https://github.com/RedHatInsights/vulnerability-engine/commit/757466277999600074c7e72cbea9fb026c8d96ef))

## v1.173.3 (2022-07-07)

### Chore

* chore: sort keys in json string

check if this improves the unchanged system ratio ([`06fc6f6`](https://github.com/RedHatInsights/vulnerability-engine/commit/06fc6f652082848d67575af8ef795e20d591cb0c))

* chore: monitor vulnerability.evaluator.results kafka lag ([`1513d09`](https://github.com/RedHatInsights/vulnerability-engine/commit/1513d09e3ad5dcb7412c9b70c0915a7ba6e20f4e))

* chore: fix the latency uptime singlestat ([`e6b8790`](https://github.com/RedHatInsights/vulnerability-engine/commit/e6b8790b6d8299cf18cde42619e30c11f9b8f5a7))

### Performance

* perf(evaluator): perform update/insert only once per system ([`74d8c1f`](https://github.com/RedHatInsights/vulnerability-engine/commit/74d8c1f887693bde3c52a9727d43e4bdf500bfc0))

## v1.173.2 (2022-07-07)

### Performance

* perf(advisor_listener): get sys_vulns ids from original select ([`2b53543`](https://github.com/RedHatInsights/vulnerability-engine/commit/2b53543b0f7725c089d4261518c18447cb6e1b36))

## v1.173.1 (2022-07-07)

### Chore

* chore: add more advisor listener stats and notificator restart counter ([`8f810f9`](https://github.com/RedHatInsights/vulnerability-engine/commit/8f810f9d09098bc4ef48c49a2de00732f67e8f26))

* chore: make WORKER_THREADS and MAX_QUEUE_SIZE configurable ([`90f16b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/90f16b6ce64e106c63727a062237b12b2f0009c6))

* chore: update aiokafka ([`3265869`](https://github.com/RedHatInsights/vulnerability-engine/commit/32658699bd4daa04bfa14c153442f30b4e9e00b1))

* chore(notificator): log sent/repeated notifications ([`7ced6c1`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ced6c1a6f49c48fcd5dbe0cb7341dc37c88dc02))

* chore: use logging level from variable ([`c19cf52`](https://github.com/RedHatInsights/vulnerability-engine/commit/c19cf52957ef6d9abb3dcb93a86f2ac641b9bea7))

* chore(notificator): log skipped potential notification ([`573badb`](https://github.com/RedHatInsights/vulnerability-engine/commit/573badb121b84755f052cf97d7d4167e67efe62e))

### Performance

* perf(evaluator): get sys_vulns ids from cache for updates ([`c04f360`](https://github.com/RedHatInsights/vulnerability-engine/commit/c04f36074c1ce1de10487137478f408b55989cf4))

## v1.173.0 (2022-06-20)

### Feature

* feat: send org_id to payload tracker

VULN-2275 ([`89c8f2e`](https://github.com/RedHatInsights/vulnerability-engine/commit/89c8f2e630e29cf1129e0e022e26b07c438566cf))

* feat(advisor-listener): populate org_id

VULN-2290 ([`50bf4bb`](https://github.com/RedHatInsights/vulnerability-engine/commit/50bf4bbc6d9bff022cb85b6fe01c20a4b2e9fca8))

* feat(vmaas-sync): send org_id to evaluator ([`3d24365`](https://github.com/RedHatInsights/vulnerability-engine/commit/3d243656b5db83d6ce98141371ee0f868c765d39))

* feat(listener): populate org_id

VULN-2290 ([`87ddf36`](https://github.com/RedHatInsights/vulnerability-engine/commit/87ddf36aa498b84baba7e1122dfa7380cf1ffca4))

## v1.172.0 (2022-06-17)

### Feature

* feat(notificator): add more cve metadata to notifications payload

VULN-2280 ([`ff05c24`](https://github.com/RedHatInsights/vulnerability-engine/commit/ff05c245ff05d76ac8145df8e05fd4697f45efc8))

## v1.171.0 (2022-06-15)

### Chore

* chore(database): add notified accounts index ([`d083c5a`](https://github.com/RedHatInsights/vulnerability-engine/commit/d083c5a2369a458e84767eda2c27aa02ef12f6b4))

### Feature

* feat(taskomatic): add old notifications cleanup job

VULN-2281 ([`56d47e3`](https://github.com/RedHatInsights/vulnerability-engine/commit/56d47e31c8368ce897005311ff460405839fc9e9))

## v1.170.0 (2022-06-13)

### Chore

* chore: always export artifacts_dir ([`c0811e9`](https://github.com/RedHatInsights/vulnerability-engine/commit/c0811e9f0a51e0dbf8c44fdef6a0e87d63f25f28))

* chore: fix grafana API latency singlestat ([`c466950`](https://github.com/RedHatInsights/vulnerability-engine/commit/c466950ceca4d97859c877d141e60cab7b47c463))

### Feature

* feat(manager): add API request duration histogram

VULN-2305 ([`3a70320`](https://github.com/RedHatInsights/vulnerability-engine/commit/3a70320bcfd3f7d42fd68999fbfeb59c58bf23d7))

## v1.169.2 (2022-06-09)

### Fix

* fix(platform-mock): add asyncpg to platform mock ([`de0a325`](https://github.com/RedHatInsights/vulnerability-engine/commit/de0a325578590bdafc2f173166b4da6ea4ca6902))

## v1.169.1 (2022-06-06)

### Fix

* fix(evaluator): check if account number is in message

VULN-2294 ([`4050a0a`](https://github.com/RedHatInsights/vulnerability-engine/commit/4050a0a455a6460bceb8b83f7f8b7930bc25cfea))

## v1.169.0 (2022-06-06)

### Chore

* chore: use org_id in manager logs

without account_number, this is coming from identity header, we can switch to org_id without transition period ([`70e9b3c`](https://github.com/RedHatInsights/vulnerability-engine/commit/70e9b3cb2f19ffca917020986ee5952c195726d8))

* chore: update 3scale-mock ([`eebd531`](https://github.com/RedHatInsights/vulnerability-engine/commit/eebd5318f96821878e1e90e5877668a6ce900247))

### Feature

* feat(manager): try to use org_id if available

VULN-2274 ([`9afb0c9`](https://github.com/RedHatInsights/vulnerability-engine/commit/9afb0c917bda4ead82a8aee896474165498ff312))

### Fix

* fix(vmaas-sync): send account number in recalculation messages

VULN-2294 ([`78ae4c5`](https://github.com/RedHatInsights/vulnerability-engine/commit/78ae4c58dae925986ece87995531db64249449a4))

## v1.168.1 (2022-05-31)

### Chore

* chore: skip test package vulnerability 45185 ([`937fd01`](https://github.com/RedHatInsights/vulnerability-engine/commit/937fd01a4ae3b22764c8de1e29443f2210678838))

* chore(notificator): add timestamp to the messages ([`e66ec6d`](https://github.com/RedHatInsights/vulnerability-engine/commit/e66ec6d29a654b7b20c76d5c006e694888316587))

### Fix

* fix(notificator): advisor evaluation should have first priority ([`0107532`](https://github.com/RedHatInsights/vulnerability-engine/commit/0107532c9375ee15b0a563bc753a249cbc384c67))

## v1.168.0 (2022-05-26)

### Feature

* feat: add org_id to the schema and rename name column account_number

VULN-2273 ([`ec494ef`](https://github.com/RedHatInsights/vulnerability-engine/commit/ec494efc51b6222e4982bc00a8af4bc7b800eefe))

## v1.167.0 (2022-05-26)

### Feature

* feat(adivsor_listener): start sending tuples to notificator

VULN-2276 ([`784a316`](https://github.com/RedHatInsights/vulnerability-engine/commit/784a3166267e1ca357c3ed86ed62be1ac3c6fc64))

### Fix

* fix(common): dont send empty results to notificator ([`e41ad71`](https://github.com/RedHatInsights/vulnerability-engine/commit/e41ad71bbebcc6c60afbe01dbd116b523e4cf517))

## v1.166.0 (2022-05-26)

### Chore

* chore(notificator): move notificator context to events section ([`091bacc`](https://github.com/RedHatInsights/vulnerability-engine/commit/091bacce5cc6d85cbd143f6f600e5164d697359e))

* chore(clowder): deploy notificator service

VULN-2277 ([`c0f499d`](https://github.com/RedHatInsights/vulnerability-engine/commit/c0f499d09c198cb0e9f05f7a1a3a991371b566fc))

* chore(database): init notificator db account on new instances

VULN-2277 ([`1e2bef3`](https://github.com/RedHatInsights/vulnerability-engine/commit/1e2bef3b39e4bc188891e0195d2919bd948ae156))

### Feature

* feat(manager-admin): add endpoint for deleting notified tuples ([`9d05aae`](https://github.com/RedHatInsights/vulnerability-engine/commit/9d05aae2b8cb3042db67f1cdbc397062a97948d2))

## v1.165.0 (2022-05-23)

### Chore

* chore(evaluator): save returned sys_vuln ids and send them to
notificator

VULN-2172 ([`4fd3d6b`](https://github.com/RedHatInsights/vulnerability-engine/commit/4fd3d6b83ac496c736e761817dabdc160406ea6e))

* chore(notificator): add notificator unit tests

VULN-2172 ([`77d8b1a`](https://github.com/RedHatInsights/vulnerability-engine/commit/77d8b1abb73f0fa7d4a72aa647eba2b76e034c6c))

* chore(notificator): start notificator in compose

VULN-2172 ([`27e236d`](https://github.com/RedHatInsights/vulnerability-engine/commit/27e236d9ebf6ed1297790fc456fad8f5ddf7452e))

* chore: move async db pool creation to common

VULN-2172 ([`d1cddf8`](https://github.com/RedHatInsights/vulnerability-engine/commit/d1cddf8d72877184a115ea55a5c0e63a6dfe6a75))

* chore(taskomatic): use asyncio scheduler in taskomatic ([`569eb2a`](https://github.com/RedHatInsights/vulnerability-engine/commit/569eb2aabd7966c395a1856e0523f1f9656f0830))

### Feature

* feat(notificator): add notifications queue processor

VULN-2172 ([`21d8740`](https://github.com/RedHatInsights/vulnerability-engine/commit/21d87407ecf89368eb2c8b33d58f7a412b3b150b))

* feat(notificator): add notificator service

VULN-2172 ([`b83b433`](https://github.com/RedHatInsights/vulnerability-engine/commit/b83b433db8035bc4dacbbd2abb3e66acf557f886))

* feat(database): add notificator tables and user

VULN-2172 ([`5a089eb`](https://github.com/RedHatInsights/vulnerability-engine/commit/5a089ebf85a8eff8990f0fa1d9bc54b705259857))

## v1.164.6 (2022-05-19)

### Chore

* chore(clowder): translate EVALUATOR_TOPIC using Clowder dict

VULN-2267 ([`f7c3c6b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f7c3c6b31fa169f10f1ca8f4dd49d39aaadb493c))

### Fix

* fix: Sorting in executive_report top_cves

VULN-2241 ([`12726fd`](https://github.com/RedHatInsights/vulnerability-engine/commit/12726fd656d1a0fc910fa46e1379f801ae17f475))

### Unknown

* Fix: do not show decimals in grafana usage metrics dashboard
VULN-1983 ([`7ba6388`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ba63880e8b82785427f1d4d5dc1e5ae08843d0d))

## v1.164.5 (2022-05-09)

### Fix

* fix(manager): filter out edge systems when changing CVE status ([`a4be0c8`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4be0c89aca1aba91bc86eef6b92551a691e7de8))

## v1.164.4 (2022-05-04)

### Chore

* chore(pr_check): don&#39;t run tests which need patch app ([`d9588cd`](https://github.com/RedHatInsights/vulnerability-engine/commit/d9588cd338be9befeef3104d1c05ef3465a4010d))

* chore: bump floorist memory request

VULN-2251 ([`41ed463`](https://github.com/RedHatInsights/vulnerability-engine/commit/41ed463f0e0aed497e133a615828b5d293966b80))

### Fix

* fix: cve_rule_mapping self repair

VULN-2162 ([`68b51bd`](https://github.com/RedHatInsights/vulnerability-engine/commit/68b51bd6e94f455eb9aa0bc52104852f5c7efd00))

* fix: cve_rule_mapping self repair

VULN-2162 ([`31ec7a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/31ec7a1484fcb877822bf7101b494db5e455f4bb))

### Unknown

* AAP&amp;MSSQL workload filter

VULN-2204 ([`eb9e402`](https://github.com/RedHatInsights/vulnerability-engine/commit/eb9e402210a023c5aba22398b2453b9c882f18a1))

## v1.164.3 (2022-04-12)

### Fix

* fix(platform_mock): create symlink to python ([`4ea5fac`](https://github.com/RedHatInsights/vulnerability-engine/commit/4ea5fac2770a7d71e1718e2b21737e0836a288ec))

## v1.164.2 (2022-04-06)

### Fix

* fix(dashbar): dashbar should respect mitigation reason ([`66ee1c0`](https://github.com/RedHatInsights/vulnerability-engine/commit/66ee1c01159b90e80a59d27378e2016bea1b96d0))

## v1.164.1 (2022-03-30)

### Performance

* perf(manager): use cached rules in exec report

VULN-2231 ([`4205c1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/4205c1c27eeaff5a5afd450db5431d4e7cbf5d4d))

## v1.164.0 (2022-03-24)

### Feature

* feat(manager): use cache in dashbar api

VULN-2218 ([`e4fbf16`](https://github.com/RedHatInsights/vulnerability-engine/commit/e4fbf1674f3bd012f421eb9de5a8417dc3a8e959))

* feat(manager): add dashbar global filters and specify query

VULN-2221 ([`bc81a50`](https://github.com/RedHatInsights/vulnerability-engine/commit/bc81a502faabc7633baea751da06b50ec89d0f3c))

### Fix

* fix(manager): dashbar important cve has id 5 ([`5b16d78`](https://github.com/RedHatInsights/vulnerability-engine/commit/5b16d7835ebe5f4a6be912239c0f510f6abe4490))

## v1.163.1 (2022-03-23)

### Chore

* chore: bump minimal schema in image ([`4d85f1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/4d85f1c1f9427f71ce94f977433628845b8f36fb))

### Fix

* fix(cacheman): dont use alias in cache update ([`57ca233`](https://github.com/RedHatInsights/vulnerability-engine/commit/57ca23326f6cc702a724a3627bdd8700584ebc5d))

## v1.163.0 (2022-03-23)

### Feature

* feat(taskomatic): add rule caching

VULN-2217
VULN-2158 ([`2c9b9b4`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c9b9b4857deed667f36217fcec67c7465d46aa6))

### Performance

* perf(manager): start using cached rule counts in dashboard

VULN-2158 ([`39822fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/39822fe5b3ca53dc4495b909cebfe430d2abfdb5))

## v1.162.1 (2022-03-22)

### Chore

* chore(platform-mock): fix system profile parsing ([`67b46d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/67b46d0c495c5feccde0d431c60865a4cc757cb6))

* chore: rebasing on top of base branch is now natively available from github UI ([`653b9eb`](https://github.com/RedHatInsights/vulnerability-engine/commit/653b9ebb19afd7a014f8a35b89231ff485af542b))

* chore(clowdapp): make insights-engine optional

IQE-1363 ([`76b8d17`](https://github.com/RedHatInsights/vulnerability-engine/commit/76b8d17a240db4f71bf0e1314c74fae3af62fc79))

### Fix

* fix: Announcement deletion

VULN-2182 ([`67e60b1`](https://github.com/RedHatInsights/vulnerability-engine/commit/67e60b12ed754949974bc729558d9ae2871f882a))

## v1.162.0 (2022-03-07)

### Feature

* feat(manager): add dashbar endpoint

VULN-2180 ([`e3aa6cd`](https://github.com/RedHatInsights/vulnerability-engine/commit/e3aa6cd9fb3c13b8a612a5c61dda4aefb499e19d))

## v1.161.0 (2022-02-22)

### Feature

* feat: APIs for setting, deleting &amp; getting announcements

VULN-2182
VULN-2181 ([`33c668b`](https://github.com/RedHatInsights/vulnerability-engine/commit/33c668b87f075474e049c339153d1ab5bdf3d55f))

### Unknown

* tests: tests of admin_handler/announcement

VULN-2182 ([`72171e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/72171e675e6ad9df679d73f7d7d4e910ed288a1a))

* tests: tests of admin_handler/announcement

VULN-2182 ([`20b627b`](https://github.com/RedHatInsights/vulnerability-engine/commit/20b627be21d350428d49783a9e080d48d1290cbe))

## v1.160.3 (2022-02-22)

### Fix

* fix: grafana usage metrics dashboard
VULN-1938 ([`2769de8`](https://github.com/RedHatInsights/vulnerability-engine/commit/2769de8a978cb0d19a567bddd596e51b1b65fb7a))

## v1.160.2 (2022-02-22)

### Chore

* chore(pr_check): run all smoke tests ([`661c508`](https://github.com/RedHatInsights/vulnerability-engine/commit/661c5081259fa6d68100e9afd5f69a3830586a05))

### Fix

* fix: 500 POST /vulnerabilities/cves, cve_list == \x00

VULN-2184 ([`3af5004`](https://github.com/RedHatInsights/vulnerability-engine/commit/3af500478d051b2eca02fa1e0ed52e279ffe5d2d))

## v1.160.1 (2022-02-17)

### Chore

* chore(prcheck): run tests only for &#39;core&#39; requirements ([`21da1d7`](https://github.com/RedHatInsights/vulnerability-engine/commit/21da1d736c2d3ec3c5c72a22dbcb063d1a4f1082))

### Fix

* fix(manager): calling Request.handle_errors(...) will lost &#39;_endpoint_name&#39;

VULN-2185 ([`0bb2cca`](https://github.com/RedHatInsights/vulnerability-engine/commit/0bb2cca73bff2125a12f4413d52316de74bb58cc))

## v1.160.0 (2022-02-10)

### Feature

* feat: Add HostType enum class ([`ecde88a`](https://github.com/RedHatInsights/vulnerability-engine/commit/ecde88af1299085266e4880ac7012e51c430a339))

* feat(manager): add edge systems support
VULN-2164, VULN-2157, VULN-2156, VULN-2155, VULN-2154, VULN-2153 ([`a1f4f4a`](https://github.com/RedHatInsights/vulnerability-engine/commit/a1f4f4a58bc53750289204799fe15c13e9c7a73c))

* feat: add edge systems support ([`2e4691f`](https://github.com/RedHatInsights/vulnerability-engine/commit/2e4691fcd09825ecb0391349380713bba3698d9c))

* feat(taskomatic): skip edge systems in systems_affected cache

VULN-2153 ([`f4d4e5b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f4d4e5b1c131010d70eda388f82ee10ad463f630))

* feat(manager): skip EDGE systems in vulnerabilities API
VULN-2154 ([`307dc8f`](https://github.com/RedHatInsights/vulnerability-engine/commit/307dc8ff4117dd4f28b51cf19623ffa3d9a26364))

### Fix

* fix: update tests to support edge systems ([`8f5bfc3`](https://github.com/RedHatInsights/vulnerability-engine/commit/8f5bfc304a22607e4e7e36fec29aa97966fdafb9))

## v1.159.0 (2022-02-09)

### Feature

* feat: Add &#39;Critical&#39; option for business risk

VULN-2166 ([`eb161a3`](https://github.com/RedHatInsights/vulnerability-engine/commit/eb161a3c78b96724343ed29298b9e2724916985b))

## v1.158.5 (2022-02-07)

### Fix

* fix: Update URLs for resources of platform-mock. ([`6fb2790`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fb2790e8bd6108a81f6cb0e994778d057c06e61))

## v1.158.4 (2022-02-07)

### Fix

* fix(taskomatic): provide default name for playbook

VULN-2177 ([`6775017`](https://github.com/RedHatInsights/vulnerability-engine/commit/6775017ad79a5ab6ac8b9608f4ad35ed03528e01))

## v1.158.3 (2022-02-03)

### Fix

* fix: bump resources section in deployment for floorist job

VULN-2098 ([`7d3fc36`](https://github.com/RedHatInsights/vulnerability-engine/commit/7d3fc3688879f727be68fa2b7b1b51badb55119e))

## v1.158.2 (2022-02-03)

### Chore

* chore: Used CentOS 8 Stream in Dockerfile (Centos 8 EOL) ([`406459c`](https://github.com/RedHatInsights/vulnerability-engine/commit/406459c5c051d0a0e30fb21f0f66a2d8e2672b79))

### Performance

* perf(advisor-listener): reduce number of updated unchanged rows

VULN-2163 ([`4217161`](https://github.com/RedHatInsights/vulnerability-engine/commit/42171612aafbf627f6b763ec3e520c6214593e40))

## v1.158.1 (2022-01-21)

### Chore

* chore: disable autostart of grafana and prometheus ([`ae19016`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae1901681fb7e97687456d4b7006c49cc27df8b7))

* chore: don&#39;t set empty secret in ephemeral env

VULN-1974
VULN-1994 ([`ae2d6ac`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae2d6ac741b1a4f471781add42d86d4a5a6599e3))

* chore: reduce the size of floorist dump

VULN-2099 ([`6b40d31`](https://github.com/RedHatInsights/vulnerability-engine/commit/6b40d31f49fd382ae45fabc6b2b4f0d9bfa49cd6))

* chore(manager): remove deprecated opt_out PATCH endpoint

VULN-2070 ([`13cdb14`](https://github.com/RedHatInsights/vulnerability-engine/commit/13cdb149bd024fe94ba8c2fd8d7c2032399a7d16))

* chore: update deps to fix vulnerabilities ([`946de4f`](https://github.com/RedHatInsights/vulnerability-engine/commit/946de4fc409f358d6ab20f2cc30b59d27dbce4a3))

### Fix

* fix(manager): fix csv support for ids endpoint

VULN-2147 ([`64bd057`](https://github.com/RedHatInsights/vulnerability-engine/commit/64bd057efa6ac1c451b16f83d8ba91bfdd23d3dc))

## v1.158.0 (2022-01-04)

### Feature

* feat(metrics): add floorist export metrics job

VULN-2098 ([`909d78e`](https://github.com/RedHatInsights/vulnerability-engine/commit/909d78e01d697c5d6d91f2229314764cbfcdbf70))

## v1.157.0 (2022-01-03)

### Chore

* chore(manager): add rbac error schema to api spec

VULN-2125 ([`82f69c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/82f69c60157ddbcac7cfe1cdc582fc4c67b31ce2))

* chore(manager): optimize status update query

VULN-2076 ([`639e61c`](https://github.com/RedHatInsights/vulnerability-engine/commit/639e61cdecad9aef0fcec04865c94355c392f03e))

* chore: update labels processing in pr_check ([`b8bf04b`](https://github.com/RedHatInsights/vulnerability-engine/commit/b8bf04b5f3622209cab39d80a358e5d2a388daed))

### Feature

* feat(manager): add rbac filters for default behaviour of endpoint

VULN-2124 ([`7ffa1ce`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ffa1ce0b74c64fe362f24ed4da28fda0e130cfe))

## v1.156.7 (2021-12-16)

### Fix

* fix(manager): always sort by default key when available

VULN-2081 ([`346e557`](https://github.com/RedHatInsights/vulnerability-engine/commit/346e557599c9fa53c11daa35d48a5dd84d5bc7f2))

## v1.156.6 (2021-12-16)

### Chore

* chore: increase timeout ([`25d9dbe`](https://github.com/RedHatInsights/vulnerability-engine/commit/25d9dbe36474885dad25eb7bd3c778e6683f6539))

* chore: use podman to build image from master ([`2f1c20f`](https://github.com/RedHatInsights/vulnerability-engine/commit/2f1c20f8f712ceafd2b03f5110ec7e07dcd93f5d))

* chore: build vulnerability-engine-app once ([`b47fad9`](https://github.com/RedHatInsights/vulnerability-engine/commit/b47fad9cbdad703e8e007ddb61658de652149df7))

* chore: use postgresql pkg from RHEL/CentOS ([`35283ed`](https://github.com/RedHatInsights/vulnerability-engine/commit/35283ed6d3da8c69b5729922fdaa24bd2c2cc848))

### Fix

* fix(advisor-listener): create asyncpg function for checking existing system

VULN-2089 ([`c61ff0c`](https://github.com/RedHatInsights/vulnerability-engine/commit/c61ff0cb8aa2685787783e825d56dead27d0f15b))

## v1.156.5 (2021-12-09)

### Fix

* fix(manager): set default sort key for status and business_risk

VULN-2081 ([`b949af6`](https://github.com/RedHatInsights/vulnerability-engine/commit/b949af6bf1fac4734846ab4998736f61995ad13e))

## v1.156.4 (2021-12-08)

### Fix

* fix(clowdapp): use the actual values ([`2e3b829`](https://github.com/RedHatInsights/vulnerability-engine/commit/2e3b829ab74e0a73d2956d177ca3821fdda4ee67))

## v1.156.3 (2021-12-03)

### Chore

* chore: temporarily disable vulnerability 42692 check ([`6d0f259`](https://github.com/RedHatInsights/vulnerability-engine/commit/6d0f259f93ce0ddddc2673d87a22df8e27607a0a))

* chore: run more tests in ephemeral ([`408251d`](https://github.com/RedHatInsights/vulnerability-engine/commit/408251d1e0f8c4fd3ef4437b6567929dfded2054))

* chore: update pull request template ([`1b1e804`](https://github.com/RedHatInsights/vulnerability-engine/commit/1b1e80427031ec8be591c938982ddafbb564635f))

### Fix

* fix(manager): request only opt_out:read on systems endpoint

VULN-2062 ([`2f028ab`](https://github.com/RedHatInsights/vulnerability-engine/commit/2f028ab018631ad5947bd2bdf639ce1ac4267e27))

### Refactor

* refactor(common): simplify db variables ([`9e52045`](https://github.com/RedHatInsights/vulnerability-engine/commit/9e520452ab1cd359044cfc2582a5282e1bc8fe66))

## v1.156.2 (2021-11-25)

### Fix

* fix(common): use db variables from deployment if available

VULN-2061 ([`2530634`](https://github.com/RedHatInsights/vulnerability-engine/commit/25306342bfe5e56d837fb5936d84284a5b3f964f))

## v1.156.1 (2021-11-24)

### Fix

* fix(listener): using more DB connections than available in pool, moving check to worker

VULN-2075

the check makes sense only for upload type messages anyway ([`ac56c61`](https://github.com/RedHatInsights/vulnerability-engine/commit/ac56c61154a2085b5767871c19e3ce21275d612a))

### Unknown

* tests: test the inventory upload validation in listener ([`b2ef93e`](https://github.com/RedHatInsights/vulnerability-engine/commit/b2ef93ee1a75302f4fd2d15cf0458c18242f5bfd))

## v1.156.0 (2021-11-23)

### Feature

* feat(vmaas_sync): introduce flag for disabling sync on start

VULN-2022 ([`e090a51`](https://github.com/RedHatInsights/vulnerability-engine/commit/e090a51c2cf907d612e05b40194c80a47a23b876))

## v1.155.6 (2021-11-23)

### Fix

* fix(manager): better check for non-existing account

VULN-1993 ([`e4bb92f`](https://github.com/RedHatInsights/vulnerability-engine/commit/e4bb92fa2bd109d63d46e68b7f13c9fe00f74b09))

## v1.155.5 (2021-11-23)

### Fix

* fix(manager): be less verbose in some cases when showing exception

VULN-2003 ([`090bec5`](https://github.com/RedHatInsights/vulnerability-engine/commit/090bec5b46940e6b0ebb3acd2b3f9152f5a60d7a))

## v1.155.4 (2021-11-16)

### Chore

* chore: bump version of development grafana ([`ebdf7ab`](https://github.com/RedHatInsights/vulnerability-engine/commit/ebdf7abb52644653910ff165ac15bf8ef8eb95f1))

* chore: keep pr_check namespace with label ([`a0b5b33`](https://github.com/RedHatInsights/vulnerability-engine/commit/a0b5b332ebb2bfcda016749fd55186d6c4abdd63))

### Fix

* fix: use backoffice production env for /exploits for stage env
VULN-2059 ([`ad558fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/ad558fee41beda67e03e020e079fe1ec8acb2b45))

## v1.155.3 (2021-11-12)

### Fix

* fix(tests): fix advisor-listener tests
VULN-1756 ([`243e127`](https://github.com/RedHatInsights/vulnerability-engine/commit/243e12711c2f666e8ca7ba4ad9882005e72d54c6))

### Performance

* perf: make advisor-listener async
VULN-1756 ([`67cb3f5`](https://github.com/RedHatInsights/vulnerability-engine/commit/67cb3f5e4302b5da2413ce1a0de8e7907ba78a6a))

## v1.155.2 (2021-11-12)

### Chore

* chore: increase deploy timeout ([`c50e485`](https://github.com/RedHatInsights/vulnerability-engine/commit/c50e4855e7b01d56744809a523c5176708db11ee))

* chore: increase timeout for cji ([`3b5c392`](https://github.com/RedHatInsights/vulnerability-engine/commit/3b5c3924334da880e295c62624b3dbb80d3b8471))

### Fix

* fix(advisor-listener): don&#39;t cache rules playbook count

VULN-2060 ([`798b470`](https://github.com/RedHatInsights/vulnerability-engine/commit/798b470b259265b8d18f426046535aa8670c93a2))

* fix(advisor-listener): fix duplicate insert

VULN-2060 ([`39ac212`](https://github.com/RedHatInsights/vulnerability-engine/commit/39ac212406addaeb787e386c997a0254345fdaed))

## v1.155.1 (2021-11-10)

### Fix

* fix(manager): make rbac filter values dict deep copied ([`e9756d2`](https://github.com/RedHatInsights/vulnerability-engine/commit/e9756d2736d869e49750e47ca399d41d958fcc38))

## v1.155.0 (2021-11-10)

### Chore

* chore: fix github labels in pr_check ([`8560bcc`](https://github.com/RedHatInsights/vulnerability-engine/commit/8560bcc728c63e50725c3ec5d7de7004bd19848f))

### Feature

* feat: enable cache generation only for active accounts

VULN-2050 ([`aa0e743`](https://github.com/RedHatInsights/vulnerability-engine/commit/aa0e743775bb8eb8c2998ef30c822f8b3708cd70))

## v1.154.0 (2021-11-08)

### Feature

* feat(manager): add flag for report generation permission check

VULN-1995 ([`4313f3d`](https://github.com/RedHatInsights/vulnerability-engine/commit/4313f3de1ef5bdacafc77c11adcb8611ee31d5f5))

* feat(manager): request permissions for csv data format

VULN-1995 ([`fcaaa9f`](https://github.com/RedHatInsights/vulnerability-engine/commit/fcaaa9f2fc4394ed0c7df003de10e0eb39ef8ff1))

## v1.153.0 (2021-11-08)

### Feature

* feat(evaluator): limit maximum messages which are being processed

VULN-2054 ([`6e09ba9`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e09ba970a98768ce8b4279ecefb2bc81130a270))

## v1.152.1 (2021-11-08)

### Fix

* fix(manager): handle when opt_out call does not have valid rhaccount

VULN-1992 ([`5242de6`](https://github.com/RedHatInsights/vulnerability-engine/commit/5242de611eea3c43b4eebd7c005ffaf0765bf552))

## v1.152.0 (2021-11-08)

### Chore

* chore: fix build on aarch64 ([`fbb5b74`](https://github.com/RedHatInsights/vulnerability-engine/commit/fbb5b74516c72b5a9858500ad6ce4b7cc3e70056))

* chore: fix locking script on aarch64 (/tmp unresolvable symlink and need to build psycopg2-binary) ([`1cab9ab`](https://github.com/RedHatInsights/vulnerability-engine/commit/1cab9ab5cfff18cb5c6982fe6b2fc419185a7d8f))

### Feature

* feat(manager): request remediations read perm for playbooks

VULN-2007 ([`371b9e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/371b9e65c6706358f712cead7e434c45c546db1b))

* feat(manager): request permissions for /dashboard

VULN-2005 ([`49eef24`](https://github.com/RedHatInsights/vulnerability-engine/commit/49eef2405ca04891846568d4560656b6b3b2f5c3))

### Unknown

* Revert &#34;chore: workaround inventory issue&#34;

This reverts commit 4b165e1ea8c539c425111589ae8fd2e6f045437e. ([`9130b8d`](https://github.com/RedHatInsights/vulnerability-engine/commit/9130b8dcd51c226c29330d8dc8092f506fece480))

## v1.151.2 (2021-11-02)

### Build

* build: add backoffice secret to clowdapp.yaml
VULN-1994 ([`3c11948`](https://github.com/RedHatInsights/vulnerability-engine/commit/3c11948c6ab4fbf1d7a811e43bcb2bc250499360))

### Fix

* fix(advisor-listener): missing casts traceback

hotfix ([`6b9c3fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/6b9c3fe1f986601ba951764172bbab0a2668ac90))

## v1.151.1 (2021-11-01)

### Chore

* chore: temporarily disable vulnerability 42050 check ([`6af0f1a`](https://github.com/RedHatInsights/vulnerability-engine/commit/6af0f1a6b105b9da4d87fe92aaf2cc537b99d392))

### Fix

* fix(vmaas-sync): add missing permission to delete CVE cache table ([`289560c`](https://github.com/RedHatInsights/vulnerability-engine/commit/289560cbbd20702abc3685f463484d64c105fc56))

## v1.151.0 (2021-11-01)

### Feature

* feat(manager): introduce granular rbac feature-flag

VULN-2027 ([`ae628c0`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae628c0a9a203875012eb7913c46a3fde265bcb2))

## v1.150.4 (2021-10-29)

### Chore

* chore: skip patch_access and e2e tests ([`64d1618`](https://github.com/RedHatInsights/vulnerability-engine/commit/64d1618e51013ae13a33495d704a5a94992dc68f))

### Fix

* fix(manager): request only opt_out:read on excluded parameter

VULN-2006 ([`06f7826`](https://github.com/RedHatInsights/vulnerability-engine/commit/06f78268a3f284c82d7448e3d64b9c73b716280e))

## v1.150.3 (2021-10-29)

### Fix

* fix(manager): add missing advisory_available and remediation parsing ([`96f09d3`](https://github.com/RedHatInsights/vulnerability-engine/commit/96f09d3f756f5ce7f9e014986aaa7c49a8dc8871))

* fix(manager): add missing advisory_available and remediation params to the spec ([`e7cd532`](https://github.com/RedHatInsights/vulnerability-engine/commit/e7cd5326c327e28756d76485078879536f3c8a3f))

## v1.150.2 (2021-10-27)

### Chore

* chore: workaround inventory issue

try to workaround missing xjoin until https://github.com/RedHatInsights/insights-host-inventory/pull/1021 is emrged ([`4b165e1`](https://github.com/RedHatInsights/vulnerability-engine/commit/4b165e1ea8c539c425111589ae8fd2e6f045437e))

### Fix

* fix(manager): /vulnerabilities/cves should have rhel_version filter too ([`bbe424d`](https://github.com/RedHatInsights/vulnerability-engine/commit/bbe424dfdb44a470e2481c15e9f2f9d5bd8aa5cf))

## v1.150.1 (2021-10-21)

### Fix

* fix(vmaas_sync): delete from cve_account_cache when deleting CVE ([`8a18531`](https://github.com/RedHatInsights/vulnerability-engine/commit/8a185313d824a69b462bd4b1cae8527d9a364d7b))

## v1.150.0 (2021-10-19)

### Chore

* chore(evaluator): change log messages to contain counts of playbook/manual CVEs ([`86a0012`](https://github.com/RedHatInsights/vulnerability-engine/commit/86a0012d2e96836f09b16dc703ac15189cd675ac))

* chore(vmaas_sync): set heartbeat rate for vmaas_sync ws

VMAAS-1388 ([`7c0ea11`](https://github.com/RedHatInsights/vulnerability-engine/commit/7c0ea110f1cd0c5944c54314287b04fb2d15c7d7))

### Feature

* feat(evaluator): store manually fixable CVEs (feature-flag)

VULN-1997

OVAL params to VMaaS are deprecated ([`79a8631`](https://github.com/RedHatInsights/vulnerability-engine/commit/79a8631a33f70ca7bb147cf3721dd5a19636fa70))

### Test

* test(evaluator): add test for manually fixable CVEs ([`a7b4c8f`](https://github.com/RedHatInsights/vulnerability-engine/commit/a7b4c8feb7eab028f2eb200e223d8fa9ce4bc5fd))

## v1.149.0 (2021-10-18)

### Feature

* feat(manager): display advisory_available and remediation DB values

VULN-1931
VULN-1985 ([`e1176b7`](https://github.com/RedHatInsights/vulnerability-engine/commit/e1176b710879e8d8dd3e7b73abf73f96132f0df1))

* feat: store advisory_available and remediation_type_id

VULN-1931 ([`3bd7319`](https://github.com/RedHatInsights/vulnerability-engine/commit/3bd731974fa468e5fc00b6e2e4a8cb5a429d7f33))

* feat(database): add advisory_available and remediation_type_id columns

VULN-1931 ([`4cb0a47`](https://github.com/RedHatInsights/vulnerability-engine/commit/4cb0a471be2d68c39e560ae5202169e3941c9867))

## v1.148.0 (2021-10-15)

### Feature

* feat(manager): wait for cyndi on startup

VULN-1939 ([`4761a35`](https://github.com/RedHatInsights/vulnerability-engine/commit/4761a35db47b355e39f4581f6a67b5031a944325))

## v1.147.6 (2021-10-14)

### Chore

* chore: delete trailing spaces in apidoc ([`42a9446`](https://github.com/RedHatInsights/vulnerability-engine/commit/42a94469e7960e266a23a2b596bb1fc46a36ce5e))

### Fix

* fix(manager): return system culling timestamps for /affected_systems

VULN-1989 ([`9893de7`](https://github.com/RedHatInsights/vulnerability-engine/commit/9893de7eeaae09d6560fa482ee1cf9b9af37a4e9))

## v1.147.5 (2021-10-14)

### Chore

* chore(manager): drop usage of AND/OR operators, use one-of

VULN-1988 ([`0546d7c`](https://github.com/RedHatInsights/vulnerability-engine/commit/0546d7cfb620dcb86665834204fc8fbf89495d7b))

### Fix

* fix(manager): always return permissions to not break schema ([`17e04f6`](https://github.com/RedHatInsights/vulnerability-engine/commit/17e04f646bd24f5bcbad7c5514f4d97a5fa36b13))

* fix(manager): use rbac variables from Config ([`0b46757`](https://github.com/RedHatInsights/vulnerability-engine/commit/0b467574424da0af885c75faaf27afd06dd868a9))

## v1.147.4 (2021-10-12)

### Chore

* chore(manager): add attribute rule_presence to executive report

VULN-1972 ([`41fc9d9`](https://github.com/RedHatInsights/vulnerability-engine/commit/41fc9d9eb32fe94629e2d86a077e6b0b6ac0ada5))

### Fix

* fix(manager): fix timestamp update

VULN-1896 ([`7def779`](https://github.com/RedHatInsights/vulnerability-engine/commit/7def77938dabfa0ee7062688e4ebd2ce0a2a438f))

## v1.147.3 (2021-10-11)

### Fix

* fix(usage_metrics): fix tuple cast in sql
VULN-1937 ([`da45ccf`](https://github.com/RedHatInsights/vulnerability-engine/commit/da45ccfafe4cc67dbb6115ac6474ebd5fdec9cc5))

## v1.147.2 (2021-10-11)

### Fix

* fix: add evaluator_recalc_topic to legacy deployment config ([`b941e9f`](https://github.com/RedHatInsights/vulnerability-engine/commit/b941e9f1d1b8da6f74d64b22218ba3fa55c32e4b))

## v1.147.1 (2021-10-08)

### Chore

* chore: use PG 12 in tests ([`3b4b61a`](https://github.com/RedHatInsights/vulnerability-engine/commit/3b4b61aaeb351a7dd5eb4c66ece8327b91ed4829))

### Fix

* fix(monitoring): fix avg age metrics dashboard
VULN-1847 ([`feca66f`](https://github.com/RedHatInsights/vulnerability-engine/commit/feca66f69ed8b6f2195c08deaf1dbed556baffde))

## v1.147.0 (2021-10-06)

### Chore

* chore: remove metrics panel ([`eef232a`](https://github.com/RedHatInsights/vulnerability-engine/commit/eef232af7006c1ce605e2b2d6624ce3504141b81))

### Feature

* feat(listener): store empty system repos in vmaas_json

VULN-1947 ([`b5cd424`](https://github.com/RedHatInsights/vulnerability-engine/commit/b5cd42430c32df60cf61715dd30cb3569c1e2ffe))

### Fix

* fix: trigger cache re-count on CVE status change

VULN-1896 ([`d7f588f`](https://github.com/RedHatInsights/vulnerability-engine/commit/d7f588f468697b2cd6164f142128905ebb61658e))

## v1.146.0 (2021-10-05)

### Chore

* chore(manager): reverse the way of checking rbac permissions

VULN-1916 ([`fece7b3`](https://github.com/RedHatInsights/vulnerability-engine/commit/fece7b3d8a270706fdc547ff36c0947def519071))

* chore: udpate postgresql dependencies

VULN-1715 ([`a8d19a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/a8d19a1a4f28ae4bed7f24ddc25a9bd0504e2ec5))

### Feature

* feat(manager): implement comparison of ANY/* permissions

VULN-1916 ([`8783eef`](https://github.com/RedHatInsights/vulnerability-engine/commit/8783eefe85025715fb63e9921c98580fb6ec304b))

* feat(manager): request inventory:read permission for rbac-ed each request

VULN-1916 ([`3d996eb`](https://github.com/RedHatInsights/vulnerability-engine/commit/3d996ebd5a176df5f35f2f818a4f4f507b810b4a))

## v1.145.0 (2021-09-29)

### Chore

* chore: ignore failure when processing requirements ([`bbac5f0`](https://github.com/RedHatInsights/vulnerability-engine/commit/bbac5f004c414c5333d164fcd1554afc711f1a5f))

### Feature

* feat(manager): return permissions in 403 err messsages

VULN-1930 ([`152bb1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/152bb1cc93d1d63944a785223861ad46c5b61001))

* feat(manager): return user rbac permissions in rbac protected endpoints

VULN-1930 ([`6c0c6e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/6c0c6e64c54bc12877adf98ff7eedf25985482ca))

* feat(manager): add permission demand on vulnerabilities endpoint

VULN-1930 ([`bd441bf`](https://github.com/RedHatInsights/vulnerability-engine/commit/bd441bf8ffef5fa8717c2d43c07bc799a7946cca))

* feat(manager): add permission demand on system endpoints

VULN-1930 ([`0d24133`](https://github.com/RedHatInsights/vulnerability-engine/commit/0d2413392c337f4cf54f5377b346c6e4a0c5293a))

* feat(manager): add permission demand on status endpoints

VULN-1930 ([`5a7fd1d`](https://github.com/RedHatInsights/vulnerability-engine/commit/5a7fd1d3aa004600242d554e7e664ff95074edb8))

* feat(manager): add permission demand on report endpoints

VULN-1930 ([`50c2181`](https://github.com/RedHatInsights/vulnerability-engine/commit/50c2181c5333c40a08a0b925eb2dbcbb032ef1de))

* feat(manager): add permission demand on cves endpoints

VULN-1930 ([`d64dbfd`](https://github.com/RedHatInsights/vulnerability-engine/commit/d64dbfdfdebb9c000935a7e52f74b039fe9f1ee1))

* feat(manager): implement rbac manager for fetching and working with
permissions

VULN-1930 ([`34b25a0`](https://github.com/RedHatInsights/vulnerability-engine/commit/34b25a0cf1369bec9eada85a8ae0d89d046a8fce))

## v1.144.1 (2021-09-24)

### Chore

* chore: use boproxy token from ephemeral-base ([`de15b26`](https://github.com/RedHatInsights/vulnerability-engine/commit/de15b265478fa5e520beffbbf0707a9acf7bbba6))

* chore: use labels in pr_check

VULN-1948 ([`bce6ad7`](https://github.com/RedHatInsights/vulnerability-engine/commit/bce6ad732a68d3e4386ef71e050c7130c22dd011))

### Fix

* fix: vmaas_sync should write to evaluator_recalc_topic ([`50381a2`](https://github.com/RedHatInsights/vulnerability-engine/commit/50381a2e6ad3051803485d9dec53856cb51c7281))

## v1.144.0 (2021-09-23)

### Feature

* feat(listener): check if system exists in inventory

VULN-1898 ([`981e7a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/981e7a14d2cf45fe69c697093a5dfbcf9f316d08))

* feat(advisor_listener): check if system exists in inventory

VULN-1898 ([`82e405d`](https://github.com/RedHatInsights/vulnerability-engine/commit/82e405de20c4cce1c2cea4e835f63387316f05cd))

## v1.143.0 (2021-09-21)

### Feature

* feat(manager, manager_admin): move system deletion endpoint from manager
to manager-admin

VULN-1943 ([`b5f8821`](https://github.com/RedHatInsights/vulnerability-engine/commit/b5f8821f3777192ed6d467e80518d273d025aa86))

## v1.142.0 (2021-09-21)

### Feature

* feat(listener): store system host_type in database

VULN-1946 ([`4b32aa3`](https://github.com/RedHatInsights/vulnerability-engine/commit/4b32aa33a71e011dff0a199cf64eba47947e378d))

* feat(database): add host_type field

VULN-1946 ([`18c6786`](https://github.com/RedHatInsights/vulnerability-engine/commit/18c67861dd0782e8a4ca59f67be4506ec8431b04))

### Fix

* fix(listener): fix type anotation

VULN-1946
Tuple expression not allowed in type annotation
Use Tuple[T1, ..., Tn] to indicate a tuple type or Union[T1, T2] to indicate a union type ([`7ba98cc`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ba98cc7849f566b55019fadf5a8037eeaed270b))

## v1.141.4 (2021-09-21)

### Chore

* chore: add avg age grafana dashboard ([`16b6e3d`](https://github.com/RedHatInsights/vulnerability-engine/commit/16b6e3d56669b9c02e48cecd2dff30fe430a2459))

* chore: update grafana with ratio of API requests ([`81c797b`](https://github.com/RedHatInsights/vulnerability-engine/commit/81c797bdd424645c2136fad32003240b716f5c18))

### Fix

* fix: use simplier upsert and insert in same order to avoid deadlocks

VULN-1871 ([`f4cff19`](https://github.com/RedHatInsights/vulnerability-engine/commit/f4cff1964f173cf456dbdb2040564e167b81c895))

## v1.141.3 (2021-09-14)

### Chore

* chore: service names in grafana dashboard ([`1de2952`](https://github.com/RedHatInsights/vulnerability-engine/commit/1de2952f2705fd65405eccd44fe582a8073ce309))

* chore: delete proxy ([`6521595`](https://github.com/RedHatInsights/vulnerability-engine/commit/65215950118701097f53e6f30a1ee1ccd874d105))

* chore: remove PATCH_HOST workaround ([`ecf353e`](https://github.com/RedHatInsights/vulnerability-engine/commit/ecf353e77a7a04f23f58153165fa0f67a9bffceb))

### Fix

* fix(manager): expose manager on metrics port as well ([`3cfccf9`](https://github.com/RedHatInsights/vulnerability-engine/commit/3cfccf90d519b4e90605a4c502b415384780fd03))

* fix: /healthz shouldn&#39;t be in non-public services ([`a1a9faf`](https://github.com/RedHatInsights/vulnerability-engine/commit/a1a9fafc0b2a312ddaac7c972b1b2c3b762bd368))

## v1.141.2 (2021-09-09)

### Fix

* fix(clowder): replicas spec, turn on proxy ([`cad5793`](https://github.com/RedHatInsights/vulnerability-engine/commit/cad5793e3d18c5d7d4f26b377647c5d996431e14))

## v1.141.1 (2021-09-09)

### Chore

* chore: temporarily remove proxy

so it won&#39;t override old service during migration ([`ffc6582`](https://github.com/RedHatInsights/vulnerability-engine/commit/ffc65821423654036fc8a58e6b5ffe3bd4f6cc97))

### Fix

* fix(clowder): names have to be different ([`ab8c702`](https://github.com/RedHatInsights/vulnerability-engine/commit/ab8c702ee499827337a3062b8b7009b7be8f1700))

## v1.141.0 (2021-09-09)

### Feature

* feat(manager): add advisory_available and remediation flags

VMAAS-1374 ([`d893c86`](https://github.com/RedHatInsights/vulnerability-engine/commit/d893c86fdb88f66ecd322be845087314dc25d6f3))

## v1.140.0 (2021-09-08)

### Feature

* feat(taskomatic): add avg age metrics
VULN-1847 ([`e0a54e7`](https://github.com/RedHatInsights/vulnerability-engine/commit/e0a54e70f21b771691342a6c642eb468a3235e38))

## v1.139.1 (2021-09-08)

### Chore

* chore: add usage metrics to dashboard
VULN-1810 ([`7727fd1`](https://github.com/RedHatInsights/vulnerability-engine/commit/7727fd1458e833f20de07f98e4411d9bf29705fc))

* chore: run advisories tests in pr_check ([`da80433`](https://github.com/RedHatInsights/vulnerability-engine/commit/da80433d63f43fb6af8aaceb4f2fee6d63bab040))

### Fix

* fix(manager): tie referer label with account so we can filter out RH accounts

VULN-1926 ([`67e4ce9`](https://github.com/RedHatInsights/vulnerability-engine/commit/67e4ce968ab7ee2b1ee25bf49e00c88db4eea193))

## v1.139.0 (2021-09-07)

### Chore

* chore(clowder): add legacy port for manager

VULN-1909 ([`ef9ec34`](https://github.com/RedHatInsights/vulnerability-engine/commit/ef9ec34288724ba02e43d4f6f290ea88c0ef2c10))

### Feature

* feat(config): take SSL kafka parameters from clowder

VULN-1884 ([`a49f0e2`](https://github.com/RedHatInsights/vulnerability-engine/commit/a49f0e2d318bb38950370027d21e39317bf693ea))

## v1.138.1 (2021-09-02)

### Fix

* fix(manager): cve identifier differs for /ids API

VULN-1912 ([`ab637c7`](https://github.com/RedHatInsights/vulnerability-engine/commit/ab637c73acafad9995f0b2118887ed894eddde89))

## v1.138.0 (2021-09-01)

### Feature

* feat(advisor_listener): try to request vmaas for unknown cve data

VULN-1858 ([`b5efcdc`](https://github.com/RedHatInsights/vulnerability-engine/commit/b5efcdc52d66134f66ca1fa7b628731ccbff26ce))

## v1.137.6 (2021-08-31)

### Fix

* fix(clowder): add missing env vars to clowdapp ([`d4991e9`](https://github.com/RedHatInsights/vulnerability-engine/commit/d4991e94df793693162477ccfc029606a2f2253c))

## v1.137.5 (2021-08-30)

### Chore

* chore: drop CYNDI_ENABLED support

VULN-1897 ([`9eeecff`](https://github.com/RedHatInsights/vulnerability-engine/commit/9eeecffd1a2a1e68d61d919d4f08aa548dc7724f))

### Fix

* fix: remove email metrics
VULN-1808 ([`2377c09`](https://github.com/RedHatInsights/vulnerability-engine/commit/2377c099da06d92294e621968cda966ad565c7b9))

## v1.137.4 (2021-08-30)

### Fix

* fix(deploy): evalutor Kafka topics are derived from env config

VULN-1872 ([`9b8282c`](https://github.com/RedHatInsights/vulnerability-engine/commit/9b8282c88022d09492d92cc6c7dc5798d9775c30))

## v1.137.3 (2021-08-30)

### Fix

* fix(deploy): remove extra env variables for upload listener ([`acec572`](https://github.com/RedHatInsights/vulnerability-engine/commit/acec5728e54218a001364e7775159cd9c68010c7))

## v1.137.2 (2021-08-27)

### Chore

* chore(pr_check): don&#39;t run advisories tests

skip advisories until issues with advisories tests with oval are resolved ([`484f0b0`](https://github.com/RedHatInsights/vulnerability-engine/commit/484f0b0bed25cfe75bfd32c65241ec61f69effbe))

### Fix

* fix(manager): console.redhat.com is new UI referer

VULN-1901 ([`bb41eab`](https://github.com/RedHatInsights/vulnerability-engine/commit/bb41eab546cd02bc0088036f5d491142dba8705f))

## v1.137.1 (2021-08-24)

### Fix

* fix(taskomatic): join with inventory schema to ensure active systems

VULN-1895
VULN-1896 ([`2924ace`](https://github.com/RedHatInsights/vulnerability-engine/commit/2924ace8c7fcf18068594b2bf2b15af620d6f03e))

## v1.137.0 (2021-08-24)

### Feature

* feat(manager): provide rule_id for {cve_id}/rule_mitigated_systems ([`7f038ec`](https://github.com/RedHatInsights/vulnerability-engine/commit/7f038ec88d088f5559a37abc6f346b73f324e2b2))

* feat(manager): extend rule_mitigated_systems/ids endpoint

VULN-1880 ([`131a8fa`](https://github.com/RedHatInsights/vulnerability-engine/commit/131a8fa826004300f71a4e5f9c187390f10be6a7))

* feat(manager): extend /systems/{system_id}/cves/ids with additional data

VULN-1880 ([`68fb606`](https://github.com/RedHatInsights/vulnerability-engine/commit/68fb606cd3fe54ba3969b6f2e806c5915a385dd0))

* feat(manager): extend minimal information in vulnerabilities/cves/ides

VULN-1880 ([`4849ed5`](https://github.com/RedHatInsights/vulnerability-engine/commit/4849ed5309a2d61656975eb08adbc1d4c34b3503))

* feat(manager): extend affected_systems/ids with additional information

VULN-1880 ([`27688e5`](https://github.com/RedHatInsights/vulnerability-engine/commit/27688e536188d9cb858039cd2eea06e55a641dd9))

### Fix

* fix(manager): fix endpoint URLs ([`ac8a1de`](https://github.com/RedHatInsights/vulnerability-engine/commit/ac8a1dea210bbf49286267288dae23c3a41c72b2))

## v1.136.2 (2021-08-20)

### Fix

* fix(taskomatic): deleted system should trigger cache refresh

VULN-1864 ([`53720d3`](https://github.com/RedHatInsights/vulnerability-engine/commit/53720d3158d67a7b08861dc7b1bc34aaa91263cd))

## v1.136.1 (2021-08-20)

### Fix

* fix(taskomatic): fix error when more than one cve_id is deleted

VULN-1864 ([`e8c4ea2`](https://github.com/RedHatInsights/vulnerability-engine/commit/e8c4ea21a73917e1016418b049763181de425562))

## v1.136.0 (2021-08-19)

### Feature

* feat(manager): use CVE caches if available

VULN-1864 ([`70b098f`](https://github.com/RedHatInsights/vulnerability-engine/commit/70b098f2412d8dd1ae0bdd6756e8bc2480e7b387))

### Fix

* fix(taskomatic): run caching job on startup ([`4918d1e`](https://github.com/RedHatInsights/vulnerability-engine/commit/4918d1ef4fece7b01f89c779b8e44eb2cb83872f))

### Unknown

* Deploy master to QA ([`7475a39`](https://github.com/RedHatInsights/vulnerability-engine/commit/7475a3932ce2c8df49b1a29dc5ea2fbd9db0cc64))

## v1.135.0 (2021-08-19)

### Feature

* feat(upload_listener): add release version lock filtering ([`88e4568`](https://github.com/RedHatInsights/vulnerability-engine/commit/88e45687814676a5d83f7ed49019c786f00d4f45))

### Test

* test(common): test schema version from db ([`941697d`](https://github.com/RedHatInsights/vulnerability-engine/commit/941697dae1f7d0a099af987c3996f2a66d22a58f))

* test(taskomatic): rewrite taskomatic tests to tornado pytest

VULN-1839 ([`0266a88`](https://github.com/RedHatInsights/vulnerability-engine/commit/0266a88eeeea94fc945ad7b88c227c7f6b53f451))

* test: enable asynchronous tests

VULN-1839 ([`472e084`](https://github.com/RedHatInsights/vulnerability-engine/commit/472e084e46d3ed8aebe47e97deef073345dfdd10))

## v1.134.0 (2021-08-18)

### Feature

* feat(taskomatic): generate account-CVE cache periodically

VULN-1864 ([`ea6d1eb`](https://github.com/RedHatInsights/vulnerability-engine/commit/ea6d1eb4159ea8743b832c01ca05f37502877b96))

## v1.133.1 (2021-08-18)

### Chore

* chore(manager): fix description for new rule filter

VULN-1863 ([`45e4e84`](https://github.com/RedHatInsights/vulnerability-engine/commit/45e4e84a8469fc8521a2127719f99fac86cb91ee))

* chore(database): add gpg signature of pg_repack ([`78a986d`](https://github.com/RedHatInsights/vulnerability-engine/commit/78a986daee4a4781ed20547d041a1d8b109edd05))

### Fix

* fix(taskomatic): catch collision with advisor_listener

VULN-1873 ([`bd05fe4`](https://github.com/RedHatInsights/vulnerability-engine/commit/bd05fe4fada363363065a5a6e2dcd9ecce07bdad))

## v1.133.0 (2021-08-16)

### Feature

* feat(manager): enable cached cve counts

VULN-1864 ([`0450c9a`](https://github.com/RedHatInsights/vulnerability-engine/commit/0450c9aa435fca129e09b578294f75a9bed706e3))

## v1.132.8 (2021-08-16)

### Fix

* fix(clowder): remove metrics kubernetes job

VULN-1878 ([`4c5c38d`](https://github.com/RedHatInsights/vulnerability-engine/commit/4c5c38d2e5d3989510e61fecc41dcd480b8182f3))

## v1.132.7 (2021-08-16)

### Chore

* chore(manager): change rule filter non-rule value to false

VULN-1863 ([`28313ef`](https://github.com/RedHatInsights/vulnerability-engine/commit/28313ef2792af66fcf3582f2d4439745fecc9f9b))

### Fix

* fix(clowder): use PATCH_HOST for patch url

workaround till patch is deployed by clowder - VULN-1870 ([`b7be045`](https://github.com/RedHatInsights/vulnerability-engine/commit/b7be0455aac32a0cb1859cfe19c587feb480314f))

### Test

* test: add more taskomatic tests

VULN-1839 ([`ccb6344`](https://github.com/RedHatInsights/vulnerability-engine/commit/ccb63446c03c8dabe2b48eee85459e291f6eb32d))

* test: add more evaluator tests

VULN-1839 ([`6fda383`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fda3830e60edadbda52178983ce55cf474f129c))

* test: add taskomatic usage metrics tests
VULN-1839 ([`5cf51dd`](https://github.com/RedHatInsights/vulnerability-engine/commit/5cf51dde3fea03ae30986ba5ace4737076c86199))

## v1.132.6 (2021-08-12)

### Fix

* fix(evaluator): SSL params in asyncpg 0.24.0 work only using DSN ([`db90b74`](https://github.com/RedHatInsights/vulnerability-engine/commit/db90b74ea0bfb093016c662d7b87b931aa4c7113))

## v1.132.5 (2021-08-11)

### Chore

* chore(clowder): possibility to disable RBAC ([`1266d90`](https://github.com/RedHatInsights/vulnerability-engine/commit/1266d90890003671b86b1e9d1dc6157bfbce400c))

* chore: asyncpg 0.24.0 has required SSL parameter functionality ([`8169779`](https://github.com/RedHatInsights/vulnerability-engine/commit/81697792e4e8fe174cc6ee5b58f760638a3d4f9d))

### Fix

* fix(clowder): RBAC_DISABLE should be in base class ([`591cef3`](https://github.com/RedHatInsights/vulnerability-engine/commit/591cef3063e4d2d4bd767f92bbca49dcafd7c4d0))

### Test

* test: add more listener tests

VULN-1839 ([`b4be132`](https://github.com/RedHatInsights/vulnerability-engine/commit/b4be1327089ef9c68daf48b3d5f02df4eb3388f5))

## v1.132.4 (2021-08-10)

### Chore

* chore: remove old account labels when order changes ([`a567c63`](https://github.com/RedHatInsights/vulnerability-engine/commit/a567c6323fc41f68727cb7a450e8d880623731e4))

### Fix

* fix(clowder): cyndi pipeline name ([`d77403b`](https://github.com/RedHatInsights/vulnerability-engine/commit/d77403b855d4f6cb601b1411da1265dd94cd3071))

## v1.132.3 (2021-08-10)

### Build

* build: add missing clowdapp configurations ([`cac7b34`](https://github.com/RedHatInsights/vulnerability-engine/commit/cac7b348d9b3b534bafb23737d5968002fdff2ef))

### Chore

* chore: add number of missing systems in inventory to graph ([`0528b1a`](https://github.com/RedHatInsights/vulnerability-engine/commit/0528b1ab646bfce63aad7001f26774de40217d11))

### Fix

* fix(clowder): add patchman as optional dependency and workaround patch url

VULN-1870 ([`991c757`](https://github.com/RedHatInsights/vulnerability-engine/commit/991c757c700aa6965c40e1ecc9b0df25e55a22b2))

### Test

* test: add more metrics tests

VULN-1839 ([`09a8191`](https://github.com/RedHatInsights/vulnerability-engine/commit/09a8191c623b7948d1cf22a5364370d2e7ac2561))

## v1.132.2 (2021-08-10)

### Fix

* fix(manager): RBAC should be disabed intentionally, not by not providing URL

VULN-1868 ([`f44bc8b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f44bc8b72d6b77cee6305e27cb66f07ca2bb5e5a))

## v1.132.1 (2021-08-10)

### Chore

* chore: send slack notification in case of error in rules_git_sync ([`066b821`](https://github.com/RedHatInsights/vulnerability-engine/commit/066b82170acbe42f20d136f4d61ffdd6e4360d6a))

### Fix

* fix(clowder): add rbac as dependency

We cannot access rbac url if it is not set as dependency. It results in
running app without querying RBAC.

VULN-1866 ([`44d3f3a`](https://github.com/RedHatInsights/vulnerability-engine/commit/44d3f3a61956cbbc7e8b43edb2a82725139f0463))

## v1.132.0 (2021-08-09)

### Feature

* feat: store cached counts for systems

VULN-1864 ([`df15393`](https://github.com/RedHatInsights/vulnerability-engine/commit/df15393d974538c4200d59d8d92a27385819ea93))

### Test

* test: add new advisor listener unit tests ([`e2f3c57`](https://github.com/RedHatInsights/vulnerability-engine/commit/e2f3c57c7315e11125c2aef7539bde15cfe6db1a))

## v1.131.1 (2021-08-09)

### Fix

* fix(clowder): manager admin is using default user from env ([`197fed6`](https://github.com/RedHatInsights/vulnerability-engine/commit/197fed69fd5484383cf0732cc3113cee1e08d9e9))

### Test

* test: add tests for rules_git_sync taskomatic job ([`a6009a0`](https://github.com/RedHatInsights/vulnerability-engine/commit/a6009a0955e678b3be7f085fccc664e1086b7035))

## v1.131.0 (2021-08-09)

### Chore

* chore: use sum() to not create duplicate label in graph when taskomatic restarts ([`dc5651f`](https://github.com/RedHatInsights/vulnerability-engine/commit/dc5651f375f683cec0e5121f93f13ef0d5168f17))

* chore: set missing datasource variable ([`f72a4de`](https://github.com/RedHatInsights/vulnerability-engine/commit/f72a4de00c57401c2dce7c56f39205c8f00d05c5))

* chore: add useful metrics for monitoring account sizes ([`d180903`](https://github.com/RedHatInsights/vulnerability-engine/commit/d180903023bd539a3bca5c672a3be2d8b055bda1))

### Feature

* feat(taskomatic): support running job on startup (useful for db_metrics job) ([`55b3d16`](https://github.com/RedHatInsights/vulnerability-engine/commit/55b3d167e4ff8eba9c7e064d2b7a35c6907aa645))

### Test

* test: ignore common/config.py from code coverage ([`879f6a2`](https://github.com/RedHatInsights/vulnerability-engine/commit/879f6a26efb85f76b58fba9d80c42f8b79b9552e))

* test: add tests for common module ([`d9eb8e2`](https://github.com/RedHatInsights/vulnerability-engine/commit/d9eb8e2b810b49d28330aa15b83c8857319e87f0))

* test(manager_admin): add tests for manager admin ([`4551858`](https://github.com/RedHatInsights/vulnerability-engine/commit/455185839425bfc4a67669e4fd4cbf7808bd13b0))

* test: add tests for db_metrics taskomatic job ([`e161b79`](https://github.com/RedHatInsights/vulnerability-engine/commit/e161b795c9daea7239808c2435c523ee7531f0c4))

### Unknown

* tests: add more manager admin tests ([`0cb5f61`](https://github.com/RedHatInsights/vulnerability-engine/commit/0cb5f61d37fbb21f3b6d329a2770501a46857b85))

* Revert &#34;perf(manager): select total_count together with data in single query&#34;

This reverts commit 09cf73dd29269982247a0e2b100547f237c9531b. ([`5aa4463`](https://github.com/RedHatInsights/vulnerability-engine/commit/5aa446372f21da69ac00d46cc66bd31686da824e))

## v1.130.6 (2021-08-03)

### Build

* build: ignore 41002 vulnerability ([`d9ddeec`](https://github.com/RedHatInsights/vulnerability-engine/commit/d9ddeeca991820792a4605393b846beecce82c5f))

### Fix

* fix(upload_listener): get default event type
VULN-1852 ([`301de11`](https://github.com/RedHatInsights/vulnerability-engine/commit/301de1118641201bea8192131b66d4fb4193ffb7))

## v1.130.5 (2021-07-30)

### Fix

* fix(advisor-listener): fix upload_data parsing for logger in parse_inventory_data()
VULN-1851 ([`6c0793d`](https://github.com/RedHatInsights/vulnerability-engine/commit/6c0793de9b95e63c500ed03daac9e819cd9efb27))

## v1.130.4 (2021-07-30)

### Fix

* fix(advisor-listener): safely retrieve dict items ([`584be2e`](https://github.com/RedHatInsights/vulnerability-engine/commit/584be2e9384415bb72d81082f7bbb697b77be2ab))

### Refactor

* refactor: move obtaining a connection to shared place ([`b8cb88e`](https://github.com/RedHatInsights/vulnerability-engine/commit/b8cb88ef9207e7a6942a455eb2525eca9b6d7c77))

### Test

* test: add tests for taskomatic component ([`59fb16b`](https://github.com/RedHatInsights/vulnerability-engine/commit/59fb16bff5c8b3e471dd05bd1ecf8b0050ae27dd))

## v1.130.3 (2021-07-30)

### Chore

* chore: improve image build

VULN-1824 ([`4ad04e4`](https://github.com/RedHatInsights/vulnerability-engine/commit/4ad04e40be193e5d4951821b6bdf01ea6f76dd40))

* chore: add build cache from latest image ([`aacbe45`](https://github.com/RedHatInsights/vulnerability-engine/commit/aacbe453823cdb9ee4d5cba394d9b42cda15bab9))

* chore: enable cyndi in ephemeral env ([`00687f8`](https://github.com/RedHatInsights/vulnerability-engine/commit/00687f840644087a0bf0909ae092b0842605025f))

### Fix

* fix: is_initialized query ([`8dbb572`](https://github.com/RedHatInsights/vulnerability-engine/commit/8dbb572cf99f2a556dd8280d2630d8794fcb62bb))

## v1.130.2 (2021-07-29)

### Fix

* fix(clowder): db name needs to match name of secret in stage env ([`5e2a074`](https://github.com/RedHatInsights/vulnerability-engine/commit/5e2a0743bac6a499f7ee169dd32300900744f369))

## v1.130.1 (2021-07-29)

### Fix

* fix: return common/ folder to dockerfile ([`61892f0`](https://github.com/RedHatInsights/vulnerability-engine/commit/61892f041e271e1d73d77cdfce88644ebd2650e0))

## v1.130.0 (2021-07-29)

### Build

* build: remove generate_manifest.sh and deps ([`0dcf4df`](https://github.com/RedHatInsights/vulnerability-engine/commit/0dcf4dff7935279937928973329db4f0bab6d2c2))

### Feature

* feat(taskomatic): add uasage_metrics taskomatic job ([`ae0e383`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae0e38366cb3420d52246adddef99c33a622a32a))

### Refactor

* refactor: move env to config, fix names and docstrings
VULN-1809 ([`cc27d32`](https://github.com/RedHatInsights/vulnerability-engine/commit/cc27d32a08f842e0ee15e0ca5db706bbecdbf1b4))

## v1.129.5 (2021-07-29)

### Performance

* perf(manager): select total_count together with data in single query

VULN-1846 ([`09cf73d`](https://github.com/RedHatInsights/vulnerability-engine/commit/09cf73dd29269982247a0e2b100547f237c9531b))

## v1.129.4 (2021-07-28)

### Fix

* fix(manager): add second sort key for systems_affected ([`7f54622`](https://github.com/RedHatInsights/vulnerability-engine/commit/7f546227d6f10aa35efea96a578d255aca9b2f08))

## v1.129.3 (2021-07-28)

### Fix

* fix(clowder): use rds ca path ([`1fc11d5`](https://github.com/RedHatInsights/vulnerability-engine/commit/1fc11d55b69f5b89e8840f0aafeb3cbc19d6705c))

## v1.129.2 (2021-07-27)

### Fix

* fix(advisor_listener): log skipped inventory ids ([`4203d48`](https://github.com/RedHatInsights/vulnerability-engine/commit/4203d4859a81b9da304ad21d4b448cda8e5c2802))

## v1.129.1 (2021-07-27)

### Chore

* chore: disable smoke tests when merging to stable branch ([`b7ab5b0`](https://github.com/RedHatInsights/vulnerability-engine/commit/b7ab5b0ce0137a623a0d53ca79e73faf86f94ccc))

* chore: run smoke tests using cji

VULN-1742 ([`86c8e14`](https://github.com/RedHatInsights/vulnerability-engine/commit/86c8e14e6dc913037c4d8580a9a68f7ac8d8d967))

### Fix

* fix(vmaas_sync): make every sync threaded ([`5b9fdf6`](https://github.com/RedHatInsights/vulnerability-engine/commit/5b9fdf654ed2d1a4682fb3bff249a3e67594b966))

## v1.129.0 (2021-07-26)

### Feature

* feat(manager): unify rule_presence and rule_key for affected/mitigated
systems endpoint ([`918948e`](https://github.com/RedHatInsights/vulnerability-engine/commit/918948ecaf9e29fd4ca3003ae17338f55756b737))

## v1.128.1 (2021-07-22)

### Chore

* chore(metrics): drop s3 from clowder ([`98a8918`](https://github.com/RedHatInsights/vulnerability-engine/commit/98a8918b593c4c5036dba5b75807459f8a2d8a26))

### Fix

* fix(common): cast rbac_timeout env var to int ([`32698b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/32698b6834c5f6004c101a2b713a586b268ddd78))

## v1.128.0 (2021-07-22)

### Chore

* chore: don&#39;t run cyndi tests in pr check ([`c5730aa`](https://github.com/RedHatInsights/vulnerability-engine/commit/c5730aa8196c55b218fe08720973025fe061a883))

* chore: don&#39;t override secret from ephemeral-base ([`c125ee0`](https://github.com/RedHatInsights/vulnerability-engine/commit/c125ee025757c52e670279c8a2b847daa362d602))

* chore: fix insights-engine dependency name ([`1235f09`](https://github.com/RedHatInsights/vulnerability-engine/commit/1235f097071f5cec5a5ac0d748e2885acd903721))

* chore(clowder): respect vmaas resources in ephemeral ([`bb15cbf`](https://github.com/RedHatInsights/vulnerability-engine/commit/bb15cbfc6a417db44f8b78f41aaea7000f4d333f))

* chore: run smoke tests in ephemeral env ([`dc6ca4c`](https://github.com/RedHatInsights/vulnerability-engine/commit/dc6ca4c44f407d3e90c2357d2067956579382da3))

* chore: retag image built from master as latest ([`73887fd`](https://github.com/RedHatInsights/vulnerability-engine/commit/73887fda06088d6834072d3cc9efd83c1c6db87a))

### Feature

* feat(manager): set timeout limit to rbac request ([`02c39fc`](https://github.com/RedHatInsights/vulnerability-engine/commit/02c39fc8daeed11c0e24f8c574e5e9169801ef40))

## v1.127.1 (2021-07-16)

### Fix

* fix: image name to build ([`9d93297`](https://github.com/RedHatInsights/vulnerability-engine/commit/9d93297446a1ab0578212908c275f9add76d9ce6))

## v1.127.0 (2021-07-15)

### Feature

* feat(manager_admin): add bloat handlers ([`1a66f88`](https://github.com/RedHatInsights/vulnerability-engine/commit/1a66f88114cfeda50d10a53dc7c8cf280fbb20cd))

* feat(manager_admin): add db vacuum handlers ([`d55985b`](https://github.com/RedHatInsights/vulnerability-engine/commit/d55985b1eedaf825e69e3844be49bd30850fdfca))

* feat(database): install pg_repack into db ([`6e2a8a8`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e2a8a86275ab487a51ad487f3b000533160922c))

* feat(manager_admin): add handler for query maintenance ([`60f0f01`](https://github.com/RedHatInsights/vulnerability-engine/commit/60f0f01104df5f59390b787ab2e3d53b175975a7))

## v1.126.0 (2021-07-14)

### Feature

* feat(advisor_listener): add skipping unchanged system results ([`e02709c`](https://github.com/RedHatInsights/vulnerability-engine/commit/e02709caef6e8c10dfe4f9d8890519ed98320551))

### Fix

* fix(advisor_listener): change unchanged_system counter description ([`da997c1`](https://github.com/RedHatInsights/vulnerability-engine/commit/da997c16dff7ab8fa86912640255afd3dc48237b))

### Refactor

* refactor(vmaas_sync): reevaluate systems by rh_account_id ([`493ebc2`](https://github.com/RedHatInsights/vulnerability-engine/commit/493ebc2980c345a28bf334c23ad979b5b7ea51ac))

## v1.125.1 (2021-07-13)

### Fix

* fix(database): fix default name in ve_dv_dev_cyndi.sql ([`cb2a66e`](https://github.com/RedHatInsights/vulnerability-engine/commit/cb2a66e129cd9da32a7fb15061f3e8ca048aea7b))

## v1.125.0 (2021-07-12)

### Feature

* feat(manager): add culled_timestamp to /systems and /affected_systems endpoints ([`eb008b7`](https://github.com/RedHatInsights/vulnerability-engine/commit/eb008b7f72913d65230ca18e9cff61d6e364d589))

## v1.124.1 (2021-07-12)

### Fix

* fix(manager): fix default os value ([`c0a1c6f`](https://github.com/RedHatInsights/vulnerability-engine/commit/c0a1c6fdd14e3a91714776fe163ed0580626b3df))

## v1.124.0 (2021-07-02)

### Feature

* feat(manager): add filtering + sorting to first_reported field

VULN-1798 ([`c927daa`](https://github.com/RedHatInsights/vulnerability-engine/commit/c927daab84abe3ed13bfa2a3300b1940efb2b6a6))

## v1.123.1 (2021-07-02)

### Fix

* fix(database): can&#39;t commit inside one migration ([`9ed974b`](https://github.com/RedHatInsights/vulnerability-engine/commit/9ed974bb7557fd97e74ad133e48fb68d84fd1007))

* fix(database): run migrations as single transactions and detect errors better ([`6c4263b`](https://github.com/RedHatInsights/vulnerability-engine/commit/6c4263b8adf752c1c3733f8ee60861a8cb359e12))

## v1.123.0 (2021-07-01)

### Feature

* feat(database): bump database to rhel8/centos8 ([`907655b`](https://github.com/RedHatInsights/vulnerability-engine/commit/907655b744b3d760d0f1fdcb98c4a97dea7b4c5c))

## v1.122.2 (2021-06-30)

### Chore

* chore: deploy insigths-engine as dependency ([`37e443e`](https://github.com/RedHatInsights/vulnerability-engine/commit/37e443ed3184564f77b930f7b336dd53f4054dd4))

* chore: add auto rebase workflow ([`243a954`](https://github.com/RedHatInsights/vulnerability-engine/commit/243a9542f79a37b86b7a30e2bed48d2928b43295))

### Fix

* fix(vmaas_sync): delete rule mappings for deleted cve ([`1777774`](https://github.com/RedHatInsights/vulnerability-engine/commit/1777774e59cade24cce7a9bdf27b7c5bd4b48fb3))

* fix(vmaas_sync): get cve from path in cve deletion endpoint ([`282a82d`](https://github.com/RedHatInsights/vulnerability-engine/commit/282a82d83b4213ed86f10372f388cc230f7d0c4c))

## v1.122.1 (2021-06-28)

### Fix

* fix(database): fix migration number ([`35c826a`](https://github.com/RedHatInsights/vulnerability-engine/commit/35c826a7a5f0b6ff5ce3e5e67740bdbeb9c27a83))

## v1.122.0 (2021-06-28)

### Feature

* feat(metrics): migrate metrics from s3 to db ([`29c05a7`](https://github.com/RedHatInsights/vulnerability-engine/commit/29c05a7b801b0f9061327d640e3ff79944f6bfce))

### Fix

* fix(vmaas_sync): close sessions in tests ([`5326f20`](https://github.com/RedHatInsights/vulnerability-engine/commit/5326f20c00e253bccc8031845c8f0f90b9cc9935))

### Unknown

* Revert &#34;feate(listener): add release version filtering&#34;

This reverts commit 8b807f586058ea99c657df562456e57e78a7d337. ([`346ee7d`](https://github.com/RedHatInsights/vulnerability-engine/commit/346ee7d9a3e45a9ef4a6885b870d95ddf980160d))

## v1.121.2 (2021-06-24)

### Fix

* fix(clowder): taskomatic and vmaas_sync are private endpoints ([`23c138e`](https://github.com/RedHatInsights/vulnerability-engine/commit/23c138e9d1e334c93a44381c9d4ae2031a49166f))

## v1.121.1 (2021-06-24)

### Fix

* fix(database): init cyndi on fresh db creation (non-container db) ([`6b4872b`](https://github.com/RedHatInsights/vulnerability-engine/commit/6b4872b09a0b2991e0c51458cc707fd25348b607))

## v1.121.0 (2021-06-23)

### Feature

* feat(manager): return first reported information for CVEs

VULN-1766 ([`40ad1a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/40ad1a1ed6e8aba40635ff54bd64a9a20dcc8085))

## v1.120.4 (2021-06-23)

### Fix

* fix(manager): sort OS major and minor versions numericaly

fixes: VULN-1763 ([`919911a`](https://github.com/RedHatInsights/vulnerability-engine/commit/919911ae8866844874c06ef6b752621de6ba7283))

## v1.120.3 (2021-06-22)

### Fix

* fix(clowder): add real kafka values into clowder deployment ([`7de2816`](https://github.com/RedHatInsights/vulnerability-engine/commit/7de28165ef55591462cc38792caa347fd7d5e6c0))

### Unknown

* Fix(common): set patch access to false when access forbidden ([`a27fe11`](https://github.com/RedHatInsights/vulnerability-engine/commit/a27fe11291e6712017c6ee41a854ff4871ceee62))

## v1.120.2 (2021-06-22)

### Fix

* fix(evaluator): validate the CA cert before sending to asyncpg

the exception is not handled inside asyncpg currently in current PR
state ([`26b43a6`](https://github.com/RedHatInsights/vulnerability-engine/commit/26b43a6833a5636977d3af579384d1c7ce210e80))

## v1.120.1 (2021-06-17)

### Fix

* fix: don&#39;t deploy insights-engine and fix manager-admin port ([`f228d08`](https://github.com/RedHatInsights/vulnerability-engine/commit/f228d08b0795359c0eea67c79722684a8e18dd27))

## v1.120.0 (2021-06-16)

### Feature

* feat(manager): return OS info on affected/mitigated systems

VULN-1752 ([`56f4d19`](https://github.com/RedHatInsights/vulnerability-engine/commit/56f4d1918bfdceccdca4c4db785a89beef06b9a4))

## v1.119.0 (2021-06-15)

### Feature

* feat(manager): return OS info in system details API

VULN-1757 ([`75c44e0`](https://github.com/RedHatInsights/vulnerability-engine/commit/75c44e0accbce5524b8ece629d3dcfeb16d8c4e8))

## v1.118.0 (2021-06-15)

### Feature

* feat(manager): fix missing inconsistencies with cyndi ([`dbc66eb`](https://github.com/RedHatInsights/vulnerability-engine/commit/dbc66eb5a9df43caf5e3d433c1838f157d12c8de))

## v1.117.0 (2021-06-15)

### Feature

* feat(manager): return OS info in /systems + allow sorting

VULN-1752 ([`b1885fa`](https://github.com/RedHatInsights/vulnerability-engine/commit/b1885fa0517a3f0bf5de5fef1cab7beddd24946e))

## v1.116.1 (2021-06-15)

### Chore

* chore: add pr_check and build_deploy scripts ([`e8c234b`](https://github.com/RedHatInsights/vulnerability-engine/commit/e8c234b14dae940b3677da7ffcc5ab4641ed844a))

### Fix

* fix: small clowdapp issues ([`5bc2519`](https://github.com/RedHatInsights/vulnerability-engine/commit/5bc2519951b7f4da835b5e4b8cb44660e6e09364))

## v1.116.0 (2021-06-11)

### Feature

* feat(manager): filter by RHEL version on affected/rule mitigated systems

VULN-1751 ([`3e9837c`](https://github.com/RedHatInsights/vulnerability-engine/commit/3e9837cb8cd6f5acb647cc68e174b1215cfe76d7))

## v1.115.1 (2021-06-10)

### Fix

* fix(manager): format publish date to string ([`900e098`](https://github.com/RedHatInsights/vulnerability-engine/commit/900e09880bcedc5c1d51a1ab55035a2192b500c0))

## v1.115.0 (2021-06-10)

### Build

* build(deps): bump urllib3 to 1.26.5 ([`5f4f5b3`](https://github.com/RedHatInsights/vulnerability-engine/commit/5f4f5b3e3ae2c438773fab85dacc548917e46791))

### Feature

* feat(manager): add RHEL version filter for /systems API

VULN-1735 ([`3a15b42`](https://github.com/RedHatInsights/vulnerability-engine/commit/3a15b423ea7113bf8d25b99c6a1c1f818f2395b6))

## v1.114.3 (2021-06-08)

### Fix

* fix(evaluator): use patched asyncpg version supporting sslrootcert until it&#39;s fixed upstream ([`b2784fb`](https://github.com/RedHatInsights/vulnerability-engine/commit/b2784fb61bf3a094d37606cae47d06b0039622e6))

## v1.114.2 (2021-06-08)

### Fix

* fix: db ssl with clowder (#968) ([`1a29dfa`](https://github.com/RedHatInsights/vulnerability-engine/commit/1a29dfae797d2fa174be690e2f5bb5a50e2a466b))

## v1.114.1 (2021-06-07)

### Fix

* fix: adapt platform mock to Clowder ([`368a751`](https://github.com/RedHatInsights/vulnerability-engine/commit/368a751104b4d5714d2a5d1b57a3a6f3001cd36f))

## v1.114.0 (2021-06-04)

### Feature

* feat(clowder): initial clowder migration

* chore: add app-common-python and lock dependencies

* chore: log url of failing external service

* fix: update clowdapp according to e2e templates

* fix: missed CYNDI_ENABLED in cve_handler

* chore: lock dependencies with script

* chore: ignore pylint errors for peewee

* chore: script should lock all pipfiles

* fix: test for env vars and wrong vars

* chore: rebase rules_git_sync

* chore: sslmode and sslcert as class attributes

* fix: call Config once per identity module

* fix: remove unnecessary logging and bring back allowed methods ([`101db2f`](https://github.com/RedHatInsights/vulnerability-engine/commit/101db2f2a71dfc26a345393f34e94dcc68c84f60))

## v1.113.0 (2021-06-03)

### Chore

* chore: unrelated pylint issues caused by lib update ([`1d229a0`](https://github.com/RedHatInsights/vulnerability-engine/commit/1d229a016e7604176cc5fd4f1ef1a95eaa60943e))

* chore: add script to easily re-generate Pipfile.lock ([`d3a6159`](https://github.com/RedHatInsights/vulnerability-engine/commit/d3a61595e609b50c574100ddad8c54460ba4b6a7))

### Feature

* feat: set PostgreSQL SSL mode ([`99b045c`](https://github.com/RedHatInsights/vulnerability-engine/commit/99b045c410e70f77747386b7b13aa09fa216c9e3))

## v1.112.0 (2021-06-01)

### Documentation

* docs: add schema diagram ([`8153018`](https://github.com/RedHatInsights/vulnerability-engine/commit/815301864d6312e61b9539bf7372abe2edad40a7))

### Feature

* feat(manager): add known_exploit_count to /executive ([`502fe71`](https://github.com/RedHatInsights/vulnerability-engine/commit/502fe710d301166b8c0c8e64e9416490e7b9d181))

### Refactor

* refactor(manager): unify multiple bools filter functionality ([`1d9babe`](https://github.com/RedHatInsights/vulnerability-engine/commit/1d9babe45208a1af2512e376590a094c2dfe41c5))

## v1.111.0 (2021-05-27)

### Feature

* feat: add kafka SSL support ([`f3eee99`](https://github.com/RedHatInsights/vulnerability-engine/commit/f3eee99ee40e0965bac64116b3b9e5819593c018))

## v1.110.1 (2021-05-26)

### Fix

* fix(manager): do not fail on CVEs with no public date

fixes: VULN-1705 ([`f11b323`](https://github.com/RedHatInsights/vulnerability-engine/commit/f11b32328ea1f8314448ac40bb322d6fcf30c0ff))

## v1.110.0 (2021-05-25)

### Chore

* chore: decrease threshold and run the system deletion job more often ([`c643f90`](https://github.com/RedHatInsights/vulnerability-engine/commit/c643f9025a1447a7bab948f31d2be267ee430073))

### Feature

* feat(manager): add insights_id to system responses ([`196d9e8`](https://github.com/RedHatInsights/vulnerability-engine/commit/196d9e8024c1fd44d5c33f38af2347818fe82b90))

### Refactor

* refactor(vmaas_sync): switch from tornado to aiohttp ([`88319b3`](https://github.com/RedHatInsights/vulnerability-engine/commit/88319b3c7aecaff88955fb48677070ce191c56a4))

## v1.109.0 (2021-05-19)

### Build

* build: upgrade python to 3.8 and related dependancies ([`b16fba4`](https://github.com/RedHatInsights/vulnerability-engine/commit/b16fba44971ae37d7f7ff342ae1ed869121ce815))

### Feature

* feat(evaluator): OVAL evaluation feature flag ([`c7f712e`](https://github.com/RedHatInsights/vulnerability-engine/commit/c7f712e86c872999e20d53fd1e1fab0f597a9868))

### Refactor

* refactor: update code to python 3.8 ([`3215612`](https://github.com/RedHatInsights/vulnerability-engine/commit/3215612b19338c829add85d3a3ca436b24d74523))

### Unknown

* feate(listener): add release version filtering ([`8b807f5`](https://github.com/RedHatInsights/vulnerability-engine/commit/8b807f586058ea99c657df562456e57e78a7d337))

## v1.108.0 (2021-05-06)

### Feature

* feat(vmaas_sync): run /sync endpoint in async mode ([`66ab3fb`](https://github.com/RedHatInsights/vulnerability-engine/commit/66ab3fb3d99b449729a5ad9a149e4e05c35dec4e))

## v1.107.1 (2021-05-06)

### Fix

* fix(manager): remove sort prefix ([`5ba85f7`](https://github.com/RedHatInsights/vulnerability-engine/commit/5ba85f72c7538baa409f4bc55c350616688c541d))

## v1.107.0 (2021-05-06)

### Feature

* feat(manager): rework sorting to let each column support second default sort column ([`8e50032`](https://github.com/RedHatInsights/vulnerability-engine/commit/8e5003260b08d0ca23e9980450d11fa41658da18))

## v1.106.0 (2021-04-29)

### Chore

* chore: start using email service for metrics ([`37a612c`](https://github.com/RedHatInsights/vulnerability-engine/commit/37a612c66803e0fa4c09ea323f94ad33a7b1be8c))

### Feature

* feat: implement email service using bop ([`a2e97fc`](https://github.com/RedHatInsights/vulnerability-engine/commit/a2e97fceacb5be61f5c4094bf2c00b3a228363d1))

## v1.105.0 (2021-04-29)

### Chore

* chore(deps): update few dependencies to fix Github security alerts ([`7e1d9e2`](https://github.com/RedHatInsights/vulnerability-engine/commit/7e1d9e2a926b36c98413a75303ae78df565a3e07))

### Feature

* feat(manager): provide API for viewing passed rules results ([`881fbfc`](https://github.com/RedHatInsights/vulnerability-engine/commit/881fbfcad2c581f69decc213992cf2f1b7115ac8))

## v1.104.0 (2021-04-21)

### Feature

* feat(manager): add publish date field for rules ([`11dae4c`](https://github.com/RedHatInsights/vulnerability-engine/commit/11dae4c7c17dc70799f171953f4878a7aea564ef))

## v1.103.8 (2021-04-21)

### Chore

* chore: update peewee (to support materialized CTE) ([`ba5d25f`](https://github.com/RedHatInsights/vulnerability-engine/commit/ba5d25f6b66a34acdc67cb963b2336f135ed1911))

### Fix

* fix(manager): AttributeError: &#39;NoneType&#39; object has no attribute &#39;find&#39;

caused by peewee update ([`e0d24e9`](https://github.com/RedHatInsights/vulnerability-engine/commit/e0d24e91251f2efbb33e5ce743eda93b1ccf3406))

* fix(manager): use materialized CTE to avoid PostgreSQL planner when filtering + filter in subquery ([`ef1a6cd`](https://github.com/RedHatInsights/vulnerability-engine/commit/ef1a6cde705d854e95e9291f54fb4f22a8076a0d))

## v1.103.7 (2021-04-20)

### Fix

* fix(taskomatic): store better description for playbooks

fixes: VULN-1642 ([`4a1f47d`](https://github.com/RedHatInsights/vulnerability-engine/commit/4a1f47d6e282181e864c3a6d053df4ce71c720e4))

## v1.103.6 (2021-04-20)

### Chore

* chore: update to current manifest format ([`9c0826b`](https://github.com/RedHatInsights/vulnerability-engine/commit/9c0826b942e13c674da665e4c41f9ef489ea4090))

### Fix

* fix(manager): inner join should filter out null/zero rows directly ([`d418e29`](https://github.com/RedHatInsights/vulnerability-engine/commit/d418e2907629ae72397807e9cea4cc801e1a068a))

## v1.103.5 (2021-04-20)

### Fix

* fix(manager): optimize query ([`4f3a436`](https://github.com/RedHatInsights/vulnerability-engine/commit/4f3a4363be07b46be01437a23ea010e2f3981e45))

## v1.103.4 (2021-04-16)

### Chore

* chore: refactor query parameter examples ([`b1047d3`](https://github.com/RedHatInsights/vulnerability-engine/commit/b1047d3694d9f8d734fc749992871402551ca590))

### Fix

* fix(manager): return recent rules only if there&#39;s a system affected ([`8600ff1`](https://github.com/RedHatInsights/vulnerability-engine/commit/8600ff185bb789e5de785d08118c0f15e1417395))

## v1.103.3 (2021-04-15)

### Fix

* fix(advisor_listener): use blacklist also for rule passes ([`5cf38dc`](https://github.com/RedHatInsights/vulnerability-engine/commit/5cf38dccdcf7eab7d4ce29d91025657d5bd66984))

## v1.103.2 (2021-04-14)

### Chore

* chore: change db checks to be asynchronous ([`4238c9c`](https://github.com/RedHatInsights/vulnerability-engine/commit/4238c9cbe6191d1d2f6b0d94bc13dec6f48305da))

* chore: bump required version for read-only during upgrade ([`d494e1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/d494e1ce929420a741cb2fe27d7ccfb8b1ca818c))

### Fix

* fix(manager): add missing known_exploit parameter to /ids enpoints ([`5d14b71`](https://github.com/RedHatInsights/vulnerability-engine/commit/5d14b7145e9013244308b2de4d21146351e0d5aa))

## v1.103.1 (2021-04-12)

### Fix

* fix(manager): don&#39;t take mitigated CVEs into account on /dashboard ([`4f20e82`](https://github.com/RedHatInsights/vulnerability-engine/commit/4f20e82e08698e244516ae0c5b3b8124b80ad136))

## v1.103.0 (2021-04-08)

### Feature

* feat: add healthz endpoint for missing components ([`ada787e`](https://github.com/RedHatInsights/vulnerability-engine/commit/ada787e63db7a66201dabb18ccfbc36fa537de9a))

## v1.102.0 (2021-04-08)

### Feature

* feat(manager): provide breakdown of known exploits by cvss ([`f76b3ba`](https://github.com/RedHatInsights/vulnerability-engine/commit/f76b3ba5d877b8c9117b5f9687f236f105763204))

## v1.101.1 (2021-04-07)

### Fix

* fix(manager): rework errata linking in system handler and cve handler due to pagination issue ([`61d8144`](https://github.com/RedHatInsights/vulnerability-engine/commit/61d81443098dec12b99225fc50fec493ab3af9ce))

## v1.101.0 (2021-04-07)

### Feature

* feat(database): use bigserial instead of serial ([`907fa38`](https://github.com/RedHatInsights/vulnerability-engine/commit/907fa38440c3df966974c7e9c6e660973c0fd589))

## v1.100.6 (2021-04-07)

### Chore

* chore: bump up gunicorn version ([`a87ff45`](https://github.com/RedHatInsights/vulnerability-engine/commit/a87ff45314da34d00ae974a5b9fc21bc93193c0d))

### Fix

* fix(manager): make known_exploit filter take array separated by comma ([`ea80b3d`](https://github.com/RedHatInsights/vulnerability-engine/commit/ea80b3dfcdaded317080ef1b4042ac6f7b4c83dc))

## v1.100.5 (2021-04-01)

### Fix

* fix(manager): display correct counts of rules cves on /dashboard ([`aa6b9ec`](https://github.com/RedHatInsights/vulnerability-engine/commit/aa6b9ec3f4eced835147d769a3b37d8f6759bbef))

## v1.100.4 (2021-03-31)

### Fix

* fix(manager): fix CVEs with null publish date on /dashboard ([`06d1a62`](https://github.com/RedHatInsights/vulnerability-engine/commit/06d1a625923d5acee2fe30b51b0d066d441c4f5d))

## v1.100.3 (2021-03-25)

### Fix

* fix: add healthz specs to manager ([`74ddbb5`](https://github.com/RedHatInsights/vulnerability-engine/commit/74ddbb5e28f83c06ce1d3d5fce0b10439089ef09))

## v1.100.2 (2021-03-25)

### Fix

* fix(manager): return correct count of CVEs with rules on /dashboard ([`c164974`](https://github.com/RedHatInsights/vulnerability-engine/commit/c164974b1f3c6999c82220fd41bb34061c23375c))

## v1.100.1 (2021-03-25)

### Fix

* fix(manager): do not show rule_only CVEs ([`653f218`](https://github.com/RedHatInsights/vulnerability-engine/commit/653f218be3c4adbac75d847c9d608a9d7fe3975b))

## v1.100.0 (2021-03-24)

### Chore

* chore: change health check endpoints to healthz ([`5620449`](https://github.com/RedHatInsights/vulnerability-engine/commit/5620449809e75727f029fe655eacbf11d323f420))

* chore: get rid of obsolete insights-core dependency ([`8a76a50`](https://github.com/RedHatInsights/vulnerability-engine/commit/8a76a50582c1c4b6e46c09464a9a1f3e91c89932))

### Feature

* feat(manager): propagate known_exploit to api
/cve/{cve_id} - add known_exploit bool
/vulnerabilities/cves - add known_exploit bool + filtering
/systems/{system_id}/cves - add known_exploit bool + filtering
/report/executive - add known_exploit bool
/dashboard - add exploited_cves_count ([`d6a035b`](https://github.com/RedHatInsights/vulnerability-engine/commit/d6a035b305c80ee581092f220c4237d530eec20c))

## v1.99.0 (2021-03-22)

### Feature

* feat(manager): make rules age on dashboard configurable ([`73d1c64`](https://github.com/RedHatInsights/vulnerability-engine/commit/73d1c6487c5166cc60f3d9561477a1286fbed3bf))

## v1.98.3 (2021-03-19)

### Fix

* fix(manager): dashboard should show number of CVEs with rules and not rules ([`6134b44`](https://github.com/RedHatInsights/vulnerability-engine/commit/6134b449e4c69813960024b7124c7b4933db8dbe))

## v1.98.2 (2021-03-18)

### Fix

* fix(advisor_listener): fix missing rules only flag ([`1d675e8`](https://github.com/RedHatInsights/vulnerability-engine/commit/1d675e8ce78545b763ca203ef1af415a4c3aacdf))

## v1.98.1 (2021-03-17)

### Fix

* fix(taskomatic): correctly store all content_version data ([`60ae6a4`](https://github.com/RedHatInsights/vulnerability-engine/commit/60ae6a45b2bf948b750e8d2a80f377d4c33885b2))

## v1.98.0 (2021-03-16)

### Feature

* feat(manager): expose CVE celebrity names in the API ([`0ebd9f1`](https://github.com/RedHatInsights/vulnerability-engine/commit/0ebd9f100abfd6e2176dc42534642b81c94d92f3))

* feat(taskomatic): store celebrity CVE names ([`51c0b3f`](https://github.com/RedHatInsights/vulnerability-engine/commit/51c0b3f600ee479777273d0ed205539ca7641c55))

## v1.97.1 (2021-03-16)

### Fix

* fix(vmaas_sync): fix sync exploits bug ([`1235541`](https://github.com/RedHatInsights/vulnerability-engine/commit/1235541ab177b569a2d0f72fbf553bac5557153c))

## v1.97.0 (2021-03-16)

### Chore

* chore(grafana): add SLO metrics ([`43da3b9`](https://github.com/RedHatInsights/vulnerability-engine/commit/43da3b99e4594edd6d249cdfb74a09837ed6f84d))

* chore(grafana): convert requests by account graphs to stats and support selected time range ([`879268d`](https://github.com/RedHatInsights/vulnerability-engine/commit/879268da325623aeec187793abba7b465337bca4))

### Feature

* feat(manager-admin): return content version information ([`10fd466`](https://github.com/RedHatInsights/vulnerability-engine/commit/10fd4661e8bd3bbcfb24298a289e20a585a45352))

* feat(taskomatic): store imported content versions ([`5087e00`](https://github.com/RedHatInsights/vulnerability-engine/commit/5087e00cde34e2dc957c11a4cbe692c86c5e899d))

## v1.96.2 (2021-03-15)

### Fix

* fix(taskomatic): associcated CVEs are now part of content ([`1f5949d`](https://github.com/RedHatInsights/vulnerability-engine/commit/1f5949d294bec3ac3d6321405a87d02699d101e7))

## v1.96.1 (2021-03-15)

### Chore

* chore: add GH Actions badge ([`0559ffb`](https://github.com/RedHatInsights/vulnerability-engine/commit/0559ffb282e783ad3a4b653975312993f159180f))

### Fix

* fix(taskomatic): rule description definition has been changed ([`6b2ef73`](https://github.com/RedHatInsights/vulnerability-engine/commit/6b2ef739ccb7e1331d10ab9797db77cccecbaeac))

## v1.96.0 (2021-03-12)

### Feature

* feat(advisor_listener): store mitigation reason for passed rule checks ([`b9d4777`](https://github.com/RedHatInsights/vulnerability-engine/commit/b9d47771fa16d9049944f23181f0948661b9b581))

* feat(manager): set manager to be working with error key rules only ([`36c6e76`](https://github.com/RedHatInsights/vulnerability-engine/commit/36c6e763e8057f623349a13f1d1780058a87b988))

* feat(taskomatic): sync rules without errkey into db ([`a94941b`](https://github.com/RedHatInsights/vulnerability-engine/commit/a94941b237ff69fff1bcfdce0d7163c212d92a2f))

## v1.95.2 (2021-03-11)

### Fix

* fix(manager): rule description was missing from /dashboard API ([`5a9eae6`](https://github.com/RedHatInsights/vulnerability-engine/commit/5a9eae695a1ec19c879b6c670c1419a0df3eedec))

* fix(manager): provide rule description in /report/executive ([`f15317f`](https://github.com/RedHatInsights/vulnerability-engine/commit/f15317ffee98a9ca11635de0b5f1141bf36dfa19))

## v1.95.1 (2021-03-10)

### Fix

* fix(manager): remove unused generic field of rules ([`521c5e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/521c5e6539e16c82b6e90df13dd3d9a6a6400921))

## v1.95.0 (2021-03-10)

### Chore

* chore: sum all sys_vuln partitions in table size graph ([`33691c5`](https://github.com/RedHatInsights/vulnerability-engine/commit/33691c5e1e84ed9af7c42ba138870d7754eb388a))

* chore: fix +Inf values in API latency histogram ([`7257e99`](https://github.com/RedHatInsights/vulnerability-engine/commit/7257e997f8372eb8fa57f1c879b61d8bd1bd0084))

* chore: add graph for requests taking less than 2s ([`b058ff3`](https://github.com/RedHatInsights/vulnerability-engine/commit/b058ff30c6e8836a3840a5d600897f1084735f0b))

### Feature

* feat(vmaas_sync): use internal ca cert for requesting known exploits ([`27648f3`](https://github.com/RedHatInsights/vulnerability-engine/commit/27648f315d18986b4f18c3308e7746b3979d2803))

## v1.94.4 (2021-03-08)

### Chore

* chore: swap upgrade files in order as they are promoted to stable ([`54b85d8`](https://github.com/RedHatInsights/vulnerability-engine/commit/54b85d898df40cf075f4cc7ddcc621d616d8cc35))

### Fix

* fix(manager): fixing typo, rule vulnerabilities should be counted ([`df31056`](https://github.com/RedHatInsights/vulnerability-engine/commit/df310566b406bb272926bbccd9330d4e44369733))

## v1.94.3 (2021-03-08)

### Fix

* fix(manager): correctly get sum of CVEs ([`9e188e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/9e188e6b84c99413541edcfb59fafa1cde5bc189))

## v1.94.2 (2021-03-08)

### Fix

* fix(manager): partially optimize report API ([`7839abf`](https://github.com/RedHatInsights/vulnerability-engine/commit/7839abff14e7bf6ce020f4b6d1c244f414ea3d1b))

* fix(manager): optimize dashboard API ([`866e483`](https://github.com/RedHatInsights/vulnerability-engine/commit/866e4837f85b0df831569d8266da8ea090419561))

* fix(database): re-add cve_id index on system_vulnerabilities ([`72477e5`](https://github.com/RedHatInsights/vulnerability-engine/commit/72477e55251f6e1e6a38e3479eaa7a6d08643390))

* fix(manager): optimize count query

insights_rule join filter consumed most performance
also hint the rh_account_id in more table joins ([`b873589`](https://github.com/RedHatInsights/vulnerability-engine/commit/b8735894352f0a1e6539e47e6193929bbf298a19))

## v1.94.1 (2021-03-05)

### Fix

* fix(taskomatic): generic.md is no longer valid file in content ([`47b4b0c`](https://github.com/RedHatInsights/vulnerability-engine/commit/47b4b0c4226a7dbc80f95f37fdcfa4ff042795c6))

## v1.94.0 (2021-03-04)

### Chore

* chore: fix new pylint issues ([`713c5f3`](https://github.com/RedHatInsights/vulnerability-engine/commit/713c5f3c12f8e83688b1c1457cfbf3f773752b6a))

* chore: Pylint 2.7.0 includes a fix for vulnerable regular expressions in &#39;pyreverse&#39;. ([`6fa48bd`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fa48bde4d8e535f82de4d8ca62621364349e199))

* chore: update aiohttp, pyyaml and jinja2 to fix CVE-2021-21330, CVE-2020-14343 and CVE-2020-28493 ([`d7cffcf`](https://github.com/RedHatInsights/vulnerability-engine/commit/d7cffcf94ee9cb9f0fa391b67dfdcffd952ab84f))

### Feature

* feat(taskomatic): prepare for insights-content-vulnerability git structure

VULN-1541 ([`78280de`](https://github.com/RedHatInsights/vulnerability-engine/commit/78280dec94068da4d68e7e0b8179c36b04a4c3d5))

## v1.93.0 (2021-03-02)

### Feature

* feat(vmaas_sync): consume and store known exploits data ([`4cbe0ae`](https://github.com/RedHatInsights/vulnerability-engine/commit/4cbe0ae74be5f10044d2c4435dbec014fa49118b))

### Fix

* fix(manager): indicate security rules for top CVEs in executive report

VULN-1536 ([`cedac44`](https://github.com/RedHatInsights/vulnerability-engine/commit/cedac44380e12a366262c7f75ffed1acd9e8fb0c))

## v1.92.1 (2021-02-24)

### Fix

* fix: return rule  name instead of error key ([`b23f092`](https://github.com/RedHatInsights/vulnerability-engine/commit/b23f0924c4d8dcd02ef1b7016a7270f3af69d150))

## v1.92.0 (2021-02-24)

### Feature

* feat(manager): add cyndi join on request in /dashboard ([`56bbf94`](https://github.com/RedHatInsights/vulnerability-engine/commit/56bbf941d3d653272616a0d1474c4e4fc8ce23f7))

* feat(manager): add cyndi join on request in /vulnerabilities ([`ea7468f`](https://github.com/RedHatInsights/vulnerability-engine/commit/ea7468f1e99a2f3ceb010142302c8f349626af96))

## v1.91.9 (2021-02-23)

### Fix

* fix(manager): systems before deadline should be deleted, not on the contrary ([`70ec4d8`](https://github.com/RedHatInsights/vulnerability-engine/commit/70ec4d8e58c039874d6ac705348bd1a3bea75d66))

### Refactor

* refactor(advisor_listener): split payload tracker for advisor and others ([`8d07f7c`](https://github.com/RedHatInsights/vulnerability-engine/commit/8d07f7c236f86126f83e8e2fa51c3c854134d64a))

## v1.91.8 (2021-02-19)

### Fix

* fix(manager): return additional rule data for recent rules ([`70fc620`](https://github.com/RedHatInsights/vulnerability-engine/commit/70fc6205d443b388f8846a129f243a4a7da7acf2))

## v1.91.7 (2021-02-18)

### Fix

* fix(manager): fix patch endpoints ([`e7f5fab`](https://github.com/RedHatInsights/vulnerability-engine/commit/e7f5fab50a61ef51b7aedc290ecc9451a5aa2b31))

## v1.91.6 (2021-02-17)

### Fix

* fix(manager): fix a bunch of errata linking bugs ([`bbaa440`](https://github.com/RedHatInsights/vulnerability-engine/commit/bbaa440d23a197564586ec9a5d242ad581101a61))

## v1.91.5 (2021-02-17)

### Fix

* fix(manager): fix incorrect counts of systems_affected on dashboard

fixes: VULN-1490 ([`3a98568`](https://github.com/RedHatInsights/vulnerability-engine/commit/3a98568fddc8c2ab985bacc9f886fb225a6fbaeb))

## v1.91.4 (2021-02-16)

### Fix

* fix(advisor_listener): skip invalid msgs instantly ([`7b0115d`](https://github.com/RedHatInsights/vulnerability-engine/commit/7b0115d2b9cb3d5486ea4a9e7dc3bd8c2a683972))

## v1.91.3 (2021-02-15)

### Fix

* fix(db): unbound variable in schema init ([`3954cff`](https://github.com/RedHatInsights/vulnerability-engine/commit/3954cffb1cb9273ce62f23d4275a6abc10ed1782))

## v1.91.2 (2021-02-11)

### Chore

* chore: add secure coding checklist ([`f58b18b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f58b18b03eff94a0422b8fad44d22d5cd95e2d1b))

### Fix

* fix(manager): edit system handler to consume new api with advisories from patch ([`ed56e09`](https://github.com/RedHatInsights/vulnerability-engine/commit/ed56e0973775f50b81efd02f8f1fddf817972155))

### Refactor

* refactor: switch cyndi mock init to database container ([`1445885`](https://github.com/RedHatInsights/vulnerability-engine/commit/1445885eea1918cfac0db9840883a92a20c5f26a))

## v1.91.1 (2021-02-04)

### Fix

* fix(taskomatic): delete also indirectly imported modules ([`93c4fbc`](https://github.com/RedHatInsights/vulnerability-engine/commit/93c4fbc9d5b4419379510bca7368522af5beaf56))

## v1.91.0 (2021-02-03)

### Feature

* feat(manager): log audit information nto access log

VULN-1437 ([`a490d7c`](https://github.com/RedHatInsights/vulnerability-engine/commit/a490d7cf55ef33a0232b66d08778367aac9b8446))

## v1.90.0 (2021-02-03)

### Feature

* feat(manager): show updated field in /affected_systems ([`bee3aa0`](https://github.com/RedHatInsights/vulnerability-engine/commit/bee3aa08bb49654f9411e77d3f0919203a5c8885))

## v1.89.2 (2021-02-03)

### Fix

* fix(manager): add cyndi join to /report ([`4f13b32`](https://github.com/RedHatInsights/vulnerability-engine/commit/4f13b328c9ea39c6152deb3042a3cb5b4d6944ad))

## v1.89.1 (2021-02-02)

### Chore

* chore: bump kafka version, previous returns 404 ([`65a3b03`](https://github.com/RedHatInsights/vulnerability-engine/commit/65a3b03c6161d96e0528d9e4558b4067a765360a))

* chore: there is no fix for tornado vulnerability yet, disable this one check

39462: tornado &lt;=6.1 resolved (6.0.3 installed)!
All versions of package tornado are vulnerable to Web Cache Poisoning by using a vector called parameter cloaking. When the attacker can separate query parameters using a semicolon (;), they can cause a difference in the interpretation of the request between the proxy (running with default configuration) and the server. This can result in malicious requests being cached as completely safe ones, as the proxy would usually not see the semicolon as a separator, and therefore would not include it in a cache key of an unkeyed parameter. See CVE-2020-28476. ([`9bb0b1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/9bb0b1ce21a6c93036f8d75acaee151b876bd790))

### Fix

* fix(manager): return empty dict when filtering by advisory ([`7dd1f51`](https://github.com/RedHatInsights/vulnerability-engine/commit/7dd1f5191055f0fa48d48c4ff172e00a2f910e72))

### Refactor

* refactor(manager): remove deprecated filters ([`725878c`](https://github.com/RedHatInsights/vulnerability-engine/commit/725878cd9eaa3ca89b6ded6b33d68c8b7a7f2005))

## v1.89.0 (2021-02-01)

### Chore

* chore: disable pipenv check ([`e13db5a`](https://github.com/RedHatInsights/vulnerability-engine/commit/e13db5ad28fe32e56622fb8144166ab50874227f))

### Feature

* feat(manager): display rules on the dashboard

VULN-1490 ([`f8c686b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f8c686b733e7d3f56fc077e30154f786e4452b09))

## v1.88.4 (2021-02-01)

### Fix

* fix(taskomatic): Force Python to forget currently imported module path ([`25190f5`](https://github.com/RedHatInsights/vulnerability-engine/commit/25190f5ab3c544334bd74be27cf7b8c09e0124bc))

## v1.88.3 (2021-02-01)

### Fix

* fix(manager): add optional join for cve_count system id sorting ([`6cb26bc`](https://github.com/RedHatInsights/vulnerability-engine/commit/6cb26bc2b01b9bd43c04c3650b5aff1f657f934f))

## v1.88.2 (2021-01-28)

### Fix

* fix(manager): fix incorrect system counts in executive report ([`b9825b1`](https://github.com/RedHatInsights/vulnerability-engine/commit/b9825b1539c5c215e5bd5f5ac8928ec83d438afa))

* fix(manager): join cyndi everytime in /cves endpoint ([`c61a3a2`](https://github.com/RedHatInsights/vulnerability-engine/commit/c61a3a2bf8aa36cc9df77cc41a8c9981a53eda4d))

## v1.88.1 (2021-01-27)

### Fix

* fix(manager): change working with dates in /dashboard ([`b96a441`](https://github.com/RedHatInsights/vulnerability-engine/commit/b96a441cdc2cb5e38a3bbc2ddb432579796476bb))

## v1.88.0 (2021-01-27)

### Feature

* feat(taskomatic): store rule publish dates

VULN-1493 ([`66d17fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/66d17fe14321ffbc26ff4e011c7027289b0f3623))

## v1.87.9 (2021-01-27)

### Fix

* fix(taskomatic): update insights-core dependency (and few others) ([`b7117e7`](https://github.com/RedHatInsights/vulnerability-engine/commit/b7117e74887382c92e389b8f9cecad0e08dbf9fd))

## v1.87.8 (2021-01-26)

### Chore

* chore: remove account cache maintenance ([`2a11df7`](https://github.com/RedHatInsights/vulnerability-engine/commit/2a11df7245465b4e86702404efaf4bf4f575e8f6))

### Fix

* fix: do not retry request if external service provided and unavailable ([`5fa7b9a`](https://github.com/RedHatInsights/vulnerability-engine/commit/5fa7b9af6009fe6186f58cee5ae94bfbe4f9f121))

## v1.87.7 (2021-01-25)

### Documentation

* docs(manager): fix incorrect behavior in excluded param ([`0a6172f`](https://github.com/RedHatInsights/vulnerability-engine/commit/0a6172f1b6cb8ebe3953d5142013feeb4d45eb6e))

### Fix

* fix(manager): leave opted-out systems at bottom of sort for /systems ([`7923b1a`](https://github.com/RedHatInsights/vulnerability-engine/commit/7923b1a4afe5409a25cb778318d15b383b00c806))

## v1.87.6 (2021-01-22)

### Fix

* fix(manager): switch to consuming new errata linking api from patch in cve_handler ([`42c6378`](https://github.com/RedHatInsights/vulnerability-engine/commit/42c6378792622c4ea5a6214428dae1602378f870))

## v1.87.5 (2021-01-21)

### Fix

* fix(manager): don&#39;t account stale/opt_out systems in rule breakdown

fixes: VULN-1454 ([`f219c00`](https://github.com/RedHatInsights/vulnerability-engine/commit/f219c00371cce60d9e493d2b02ad3c778615da1b))

## v1.87.4 (2021-01-21)

### Fix

* fix(manager): don&#39;t count stale/opt_out systems in top rules

fixes: VULN-1463 ([`498e87c`](https://github.com/RedHatInsights/vulnerability-engine/commit/498e87c5cefc390803b680a9d6f180b1bdabcb75))

## v1.87.3 (2021-01-21)

### Fix

* fix(evaluator): TypeError: Object of type &#39;UUID&#39; is not JSON serializable ([`d0723a9`](https://github.com/RedHatInsights/vulnerability-engine/commit/d0723a93bdbb9e06607a6d6cfb24f979a6eac570))

## v1.87.2 (2021-01-21)

### Chore

* chore: bump required version ([`32b3720`](https://github.com/RedHatInsights/vulnerability-engine/commit/32b37206f23bb8ad0d90ca49209c9801cb0bcbbb))

### Fix

* fix(advisor-listener): use partitioning during update ([`354b974`](https://github.com/RedHatInsights/vulnerability-engine/commit/354b974daf4f1e628362923517ac3462392cd92a))

## v1.87.1 (2021-01-19)

### Fix

* fix(manager): rules severity is in range 1-4 not 0-3 ([`49284c0`](https://github.com/RedHatInsights/vulnerability-engine/commit/49284c04c253e5c64c49a29a334a16541547ae6b))

## v1.87.0 (2021-01-18)

### Feature

* feat(manager): add API for Patch -&gt; Vulnerability integration

VULN-1465 ([`94a0ce2`](https://github.com/RedHatInsights/vulnerability-engine/commit/94a0ce2251943936ab58c865d2b2b11c61aaf86f))

## v1.86.5 (2021-01-18)

### Fix

* fix: add missing show_advisories parameter to manager.spec.yaml ([`8144de6`](https://github.com/RedHatInsights/vulnerability-engine/commit/8144de6c2ce6240c74ac6919e8bfedf4a907d3cb))

## v1.86.4 (2021-01-18)

### Chore

* chore: new stage prometheus ([`9dc9ba9`](https://github.com/RedHatInsights/vulnerability-engine/commit/9dc9ba9a2b8a974cfb58866b12d71857867982e5))

### Fix

* fix(manager): optimize partitioned select ([`c778904`](https://github.com/RedHatInsights/vulnerability-engine/commit/c77890458303b7da08ace38b65be60aaab46913d))

* fix(manager): remove usage of SystemPlatform.cve_count_cache ([`cae0c13`](https://github.com/RedHatInsights/vulnerability-engine/commit/cae0c137a3e9c6b1dab446e15fc7f6f0fca38923))

## v1.86.3 (2021-01-15)

### Fix

* fix(manager): add missing filters for systems/{inventory_id}/cves and .../ids and fix advisory filter for affected_systems/ids ([`4860c32`](https://github.com/RedHatInsights/vulnerability-engine/commit/4860c320364ae6bd09e34f0df972f4244ad0f6ba))

## v1.86.2 (2021-01-14)

### Fix

* fix(manager): remove usage of cached systems_status_divergent count ([`cab1edd`](https://github.com/RedHatInsights/vulnerability-engine/commit/cab1edde47588473e8e0e3fdaaf031af0df2f209))

## v1.86.1 (2021-01-14)

### Fix

* fix(manager): don&#39;t use caches in report handler ([`9c349f6`](https://github.com/RedHatInsights/vulnerability-engine/commit/9c349f669c74207c8825fa3037568e5cfffb08d6))

## v1.86.0 (2021-01-14)

### Feature

* feat(manager): add dashboard API with tag/workload support

VULN-1455 ([`88cf420`](https://github.com/RedHatInsights/vulnerability-engine/commit/88cf420c6f65e632faaa12f6db2fa8d620e3d9ad))

## v1.85.1 (2021-01-12)

### Fix

* fix(manager): return 400 if advisory param passed without show_advisories parameter ([`ba2f5e1`](https://github.com/RedHatInsights/vulnerability-engine/commit/ba2f5e1a01a79a15c1278dbb9176042f5d043852))

## v1.85.0 (2021-01-12)

### Feature

* feat(manager): support tag/sap filtering in vulnerabilities API ([`4233efe`](https://github.com/RedHatInsights/vulnerability-engine/commit/4233efe7ca6ac5a0a3995fa5a75a2645fbdfe70e))

## v1.84.0 (2021-01-11)

### Feature

* feat(manager): display live counts in /vulnerabilities/cves API

also changes:

* improving performance by avoiding calling distinct (required by CveRuleMapping join)
* fixed bug when SQL query is executed twice
* improved performance by splitting into subqueries and joining the result
* remove show all filter function as it can be done only using left join now
* removed separate _ids query as it was 90 % same as full one, extracting ids from full query now ([`e237cdb`](https://github.com/RedHatInsights/vulnerability-engine/commit/e237cdbc12e1a7a66315df8a4bfcad3f381ab14b))

### Test

* test(manager): fix tests ([`a914ffa`](https://github.com/RedHatInsights/vulnerability-engine/commit/a914ffa03f06c8bba15f2b7346739b02ee147b6d))

## v1.83.0 (2021-01-07)

### Feature

* feat(manager): display rules in the executive report

VULN-1427 ([`831519d`](https://github.com/RedHatInsights/vulnerability-engine/commit/831519d12d98b4ada9fd1e8df4623d7f03c4f606))

## v1.82.3 (2021-01-05)

### Chore

* chore: update pytest dependencies

fixes: VULN-1425 ([`8c713bf`](https://github.com/RedHatInsights/vulnerability-engine/commit/8c713bfc92c9f25b3ecf0490d576e636df5330aa))

### Documentation

* docs: change advisory parameter description ([`6e633e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e633e61a7b90b46b012b862f3ef6c6169c9b623))

### Fix

* fix(manager): display rules with 0 systems affected

fixes: VULN-1416 ([`f6933cc`](https://github.com/RedHatInsights/vulnerability-engine/commit/f6933ccbc1e300404fa4371e6e33e63e3b8e0aea))

## v1.82.2 (2020-12-18)

### Fix

* fix(manager): implicitly cast uuid to string ([`26d58a3`](https://github.com/RedHatInsights/vulnerability-engine/commit/26d58a3f94cf6043bb1eab41b9e32a10c84acdb2))

## v1.82.1 (2020-12-17)

### Fix

* fix(manager): do not include stale systems in counts

relates: VULN-1416 ([`25a2f6a`](https://github.com/RedHatInsights/vulnerability-engine/commit/25a2f6ae46e43050523ca4b2b3746ac5c651b648))

* fix(manager): left outer join needed for 0 count rules

relates: VULN-1416 ([`16048ed`](https://github.com/RedHatInsights/vulnerability-engine/commit/16048ed46ad4120dd63e099cb82fa06f1cc3a440))

## v1.82.0 (2020-12-17)

### Feature

* feat(manager): display number of systems affected for rules ([`5d05d8f`](https://github.com/RedHatInsights/vulnerability-engine/commit/5d05d8fae2226a39605ef643eb1735e9c1bc876b))

### Unknown

* VULN-1391 feat(listener): send listener semi-success msg to
payload-tracker ([`5039091`](https://github.com/RedHatInsights/vulnerability-engine/commit/5039091d801f6ff29bc355684cc1d411fc9e66cb))

## v1.81.0 (2020-12-16)

### Feature

* feat(manager): remove casting inventory_id to uuid ([`b07eaba`](https://github.com/RedHatInsights/vulnerability-engine/commit/b07eaba524756dd540c36d39947613f81a5b640b))

* feat(database): change inventory_id from text to uuid ([`aaee5e0`](https://github.com/RedHatInsights/vulnerability-engine/commit/aaee5e0d4a9fb310e2186ac0603ae9a95814fdc1))

## v1.80.0 (2020-12-15)

### Feature

* feat(manager): add filter in rules titles for systems/{id}/cves endpoint ([`443b766`](https://github.com/RedHatInsights/vulnerability-engine/commit/443b7663a3d0c75ff4335e0d25f9672c71d84fb2))

## v1.79.1 (2020-12-10)

### Fix

* fix(manager): add join with rule table for id_query ([`1dae954`](https://github.com/RedHatInsights/vulnerability-engine/commit/1dae954ea80d16d1d3c11a21165a948de05e61cf))

## v1.79.0 (2020-12-07)

### Feature

* feat(manager): add filter by security rules title ([`6fed16d`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fed16df12f265ece91b99e2f9fefc2362c2fca2))

## v1.78.0 (2020-12-07)

### Feature

* feat(taskomatic): try to import other rules when one fails

resolves: VULN-1400 ([`2b7cb63`](https://github.com/RedHatInsights/vulnerability-engine/commit/2b7cb632b58f9c034e0e053fd5a37ab25e716c68))

## v1.77.1 (2020-12-03)

### Fix

* fix(taskomatic): bump insights-core version for rules import to work

resolves: VULN-1398 ([`928013a`](https://github.com/RedHatInsights/vulnerability-engine/commit/928013a417e85a0582dc6b6a27f3c7981be69461))

## v1.77.0 (2020-12-02)

### Feature

* feat(database): split table with active vulnerabilities

VULN-1380 ([`573669a`](https://github.com/RedHatInsights/vulnerability-engine/commit/573669aeda4f066c27c09aca0878e9634f11b1c2))

### Fix

* fix: use rh_account_id in system_vulnerabilities ([`5c829c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/5c829c6aa582be1c4ff60207f42179ddcde8fa6e))

### Test

* test: use rh_account_id in system_vulnerabilities ([`968b3e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/968b3e6fa2f2cffad2eda1c49a690b630b72aa21))

## v1.76.0 (2020-12-02)

### Feature

* feat(database): add rule_impact column ([`911268a`](https://github.com/RedHatInsights/vulnerability-engine/commit/911268ae5dc55ef638d2e311c25d4951eeba4f1b))

### Fix

* fix(manager): add rule impact to schema ([`ab7f77d`](https://github.com/RedHatInsights/vulnerability-engine/commit/ab7f77d477205838377ac7cc9b302101954a162a))

## v1.75.0 (2020-11-30)

### Chore

* chore: reload workers when code changes ([`0b47ce1`](https://github.com/RedHatInsights/vulnerability-engine/commit/0b47ce117b4e214f9cd0569bc941d6999eb83885))

### Feature

* feat: Add opt_out info in systems/ids response ([`1deaf70`](https://github.com/RedHatInsights/vulnerability-engine/commit/1deaf701da56de5232fa908ecfb18472f3add523))

## v1.74.4 (2020-11-27)

### Fix

* fix(manager): add enforcing of endpoint identification for metrics ([`3f10c7c`](https://github.com/RedHatInsights/vulnerability-engine/commit/3f10c7c82ea38b4c507844b45c73ef9eb8ba38b5))

## v1.74.3 (2020-11-26)

### Fix

* fix(manager): fix total_items and advisory filter bugs ([`47e4a1a`](https://github.com/RedHatInsights/vulnerability-engine/commit/47e4a1a36bd0ae0d1d5f7973fa41c836f6cfd5a3))

## v1.74.2 (2020-11-26)

### Fix

* fix(manager): correct behaviour for excluded systems filter ([`66e643e`](https://github.com/RedHatInsights/vulnerability-engine/commit/66e643e8f7b796d15bf57908196184bbef735746))

## v1.74.1 (2020-11-20)

### Fix

* fix(platform-mock): empty list of should be inserted instead of empty dict

causing schema error on /cves/{CVE}/affected_systems response ([`da15f6c`](https://github.com/RedHatInsights/vulnerability-engine/commit/da15f6ceb69458bbbdd76f4777a812ec65c2d572))

## v1.74.0 (2020-11-19)

### Feature

* feat(manager-admin): support calling vmaas_sync API ([`586eba8`](https://github.com/RedHatInsights/vulnerability-engine/commit/586eba835ee9a26ed2d3a47b84da8bc444c47dd8))

* feat(manager-admin): support calling taskomatic API ([`59434b5`](https://github.com/RedHatInsights/vulnerability-engine/commit/59434b5077816b87c05bbbb129a014b7d9b3f8b5))

* feat(taskomatic): add API to trigger job run from outside ([`b193d54`](https://github.com/RedHatInsights/vulnerability-engine/commit/b193d5429953d5afee7c72e35a8a3d03b2ba2c61))

## v1.73.2 (2020-11-18)

### Fix

* fix(manager): set cloudwatch in gunicorn and log query params ([`a4d47d4`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4d47d467987c91dba496c0939a9745ff529b72e))

## v1.73.1 (2020-11-18)

### Fix

* fix: duplicate messages in kibana ([`9178e79`](https://github.com/RedHatInsights/vulnerability-engine/commit/9178e79069c46327762d3c519b7c38ed80233098))

### Test

* test: test directly cloudwatch init ([`c501046`](https://github.com/RedHatInsights/vulnerability-engine/commit/c5010463f05cc3ebaf0aa7bf1a320fb476dfa9a8))

## v1.73.0 (2020-11-13)

### Chore

* chore: remove old inventory sync script ([`fe985fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/fe985fe32393e40a2884894df6daef546df19673))

### Feature

* feat(manager-admin): delete systems not present in inventory (cyndi schema) ([`710c2b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/710c2b6c30dcda3eb5f7feaf9a595ead55d8275e))

## v1.72.4 (2020-11-12)

### Fix

* fix(manager): return empty list instead of 404 if advisory does not exist ([`b557081`](https://github.com/RedHatInsights/vulnerability-engine/commit/b557081d6cedfc7c0b5a5e1d491e1527cbe68db4))

## v1.72.3 (2020-11-11)

### Fix

* fix(manager-admin): split admin functionality to separate container

because it&#39;s not possible to make Swagger UI work with /admin/api/vulnerability here and /api/vulnerability in turnpike proxy
I was unsuccesful with setting connexion to serve openapi.json with fixed url ([`9cfbd32`](https://github.com/RedHatInsights/vulnerability-engine/commit/9cfbd32d74f2a727e45a0114de0de298c6d9d62e))

## v1.72.2 (2020-11-10)

### Fix

* fix(manager): fix overflow error in vulnerabilities/cves ([`a62aecd`](https://github.com/RedHatInsights/vulnerability-engine/commit/a62aecdc97fe63a56229926dd180bfba6fddc4b0))

## v1.72.1 (2020-11-05)

### Fix

* fix(manager): store patch_access in object ([`38e2021`](https://github.com/RedHatInsights/vulnerability-engine/commit/38e20212b3ccec08b72986e0326296c53899918f))

## v1.72.0 (2020-11-04)

### Feature

* feat(taskomatic): add signal handling ([`e961f8a`](https://github.com/RedHatInsights/vulnerability-engine/commit/e961f8a61106f30823c7e210d7475afdf380211d))

## v1.71.0 (2020-10-30)

### Feature

* feat(manager): sanitize nul values from parameters ([`39e0eab`](https://github.com/RedHatInsights/vulnerability-engine/commit/39e0eab320e634ad6eda276e36a8e36af6ae1007))

## v1.70.0 (2020-10-30)

### Feature

* feat(manager): move current admin calls to path accessible using Turnpike ([`b03e3a3`](https://github.com/RedHatInsights/vulnerability-engine/commit/b03e3a3a2be7831273afdf69683ff99f166bc8ec))

## v1.69.2 (2020-10-29)

### Chore

* chore: cyndi in smoke tests ([`d72fecb`](https://github.com/RedHatInsights/vulnerability-engine/commit/d72fecb3b25a1664dfe33d3bccc50ee1074e91b5))

### Fix

* fix(taskomatic): remove previously added path ([`9cc4826`](https://github.com/RedHatInsights/vulnerability-engine/commit/9cc482673da17e9958a1dee0b291454817a376d0))

### Test

* test: use real uuid in tests to fix casting in cyndi join ([`8362490`](https://github.com/RedHatInsights/vulnerability-engine/commit/8362490cd0112d4b3fae28bd2e7ed3e73268027e))

## v1.69.1 (2020-10-26)

### Fix

* fix(manager): casting to TEXT on inventory.hosts may be very slow

probably because whole inventory.hosts table needs to be casted sequentialy when selecting single system ([`2819436`](https://github.com/RedHatInsights/vulnerability-engine/commit/281943653462a9587d54218189c569b8dd3a14ff))

## v1.69.0 (2020-10-26)

### Chore

* chore: no need to interrupt previous tests workflow ([`07c5777`](https://github.com/RedHatInsights/vulnerability-engine/commit/07c5777346ea835e398588ef1109f9e397ca37e5))

### Feature

* feat(manager): send request to patch in parallel way ([`7a25908`](https://github.com/RedHatInsights/vulnerability-engine/commit/7a259080530c92062f59b1b2e70044908275c9d8))

## v1.68.2 (2020-10-26)

### Fix

* fix: hostname env var shouldn&#39;t be configurable ([`f58677b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f58677bceeed4810899c9f856bac49d2a5e48619))

* fix: use pod name for log-stream in CW config ([`c571162`](https://github.com/RedHatInsights/vulnerability-engine/commit/c571162cab93bb9ecc668211d3d53aed0b56b35d))

## v1.68.1 (2020-10-23)

### Fix

* fix: fix semantic-release issues

marking as fix to trigger release ([`b3010df`](https://github.com/RedHatInsights/vulnerability-engine/commit/b3010df1bb8249f9b8826411d91cf07dd43b903e))

## v1.68.0 (2020-10-23)

### Chore

* chore: fix semantic-release publishing ([`7870109`](https://github.com/RedHatInsights/vulnerability-engine/commit/787010909a043183be5a8cea497867966600866e))

* chore: replace Travis CI with Github Actions ([`a95c9b7`](https://github.com/RedHatInsights/vulnerability-engine/commit/a95c9b783e9726944c87ac94beac0fc9967ed1a8))

* chore: initial Github Actions file ([`9b444f9`](https://github.com/RedHatInsights/vulnerability-engine/commit/9b444f93e64225099bead0e2c88f7a2d41c7f06e))

* chore: fix the datasource for 2 panels ([`8affeef`](https://github.com/RedHatInsights/vulnerability-engine/commit/8affeefb0200b0364b3fe353af832110482873ef))

### Feature

* feat(manager): add filter for sap_sids ([`717e87b`](https://github.com/RedHatInsights/vulnerability-engine/commit/717e87b20100c29369d5a98c04ab59521857f4a0))

### Fix

* fix(manager): adapt affecting filter for usage with UI checkboxes ([`41a3d09`](https://github.com/RedHatInsights/vulnerability-engine/commit/41a3d09aad56a308641ebb1e56b26f0a9d09516a))

* fix(manager): iterating through view twice executes query twice ([`fe137b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/fe137b67f937a8aa4989754f43b4a17e5bedf2f2))

## v1.67.2 (2020-10-22)

### Chore

* chore: add DB metrics to dashboard ([`8fce198`](https://github.com/RedHatInsights/vulnerability-engine/commit/8fce1989eb8b56f5b8730b6b260f22dd0e7ac10a))

### Feature

* feat(taskomatic): provide advanced DB metrics ([`801bad9`](https://github.com/RedHatInsights/vulnerability-engine/commit/801bad9b008181a3b6855fa60f5e79fe485a5b80))

### Fix

* fix(manager): make tag namespace nullable ([`9dc8ed3`](https://github.com/RedHatInsights/vulnerability-engine/commit/9dc8ed36d8f0f20e404e676d583212c045f07451))

## v1.67.1 (2020-10-22)

### Fix

* fix(database): potential deadlock sources ([`44ae8c9`](https://github.com/RedHatInsights/vulnerability-engine/commit/44ae8c9af01c51e634d8c98a7bb5c032eb151884))

## v1.67.0 (2020-10-22)

### Feature

* feat(manager): use cyndi as single source of truth ([`cea4cc1`](https://github.com/RedHatInsights/vulnerability-engine/commit/cea4cc1647879aaa4a1f13c71053f852765eda54))

## v1.66.0 (2020-10-22)

### Feature

* feat(manager): add advisory filtering ([`58164b0`](https://github.com/RedHatInsights/vulnerability-engine/commit/58164b08d2b5496ddbb5e6cb5ef7111900077f4b))

## v1.65.1 (2020-10-21)

### Chore

* chore: grafana in stage/prod was updated ([`9791d71`](https://github.com/RedHatInsights/vulnerability-engine/commit/9791d71bbf4c9fab6ac332a61854641a2efc3c4e))

* chore: update RDS metrics ([`f3c546f`](https://github.com/RedHatInsights/vulnerability-engine/commit/f3c546fc67195f6f2f34d9779507877283e830a3))

### Fix

* fix(listener): don&#39;t require insights_client_version as insights-engine or cyndi doesn&#39;t require it either ([`bac2781`](https://github.com/RedHatInsights/vulnerability-engine/commit/bac27811856964d90a9b8eda404b393173f76439))

## v1.65.0 (2020-10-14)

### Feature

* feat(manager): add excluded filter for systems ([`c6c9873`](https://github.com/RedHatInsights/vulnerability-engine/commit/c6c9873ca7b7341f66b2a5479295883fc5055848))

* feat(manager): add affecting filter for vulnerabilities/cves ([`905a050`](https://github.com/RedHatInsights/vulnerability-engine/commit/905a050d58be85cc5a5dbe53a82a76b0feb0cd01))

### Fix

* fix(manager): mark old filtering options as deprecated ([`eae73e3`](https://github.com/RedHatInsights/vulnerability-engine/commit/eae73e307fdfc18ec6fafb11ebd1fb96df733bcf))

## v1.64.2 (2020-10-14)

### Fix

* fix: do not retry external requests returning HTTP 4xx

use the wait only when waiting for vmaas refresh ([`31ec7d1`](https://github.com/RedHatInsights/vulnerability-engine/commit/31ec7d104b5cf9a19679ef3041ed1494efe79dce))

* fix(listener): make non-insights msgs skip stricter ([`b6b6b37`](https://github.com/RedHatInsights/vulnerability-engine/commit/b6b6b377de07c0d8f77c60ea7b432e8aaae6011c))

## v1.64.1 (2020-10-13)

### Fix

* fix(manager): fix typo ([`3acc472`](https://github.com/RedHatInsights/vulnerability-engine/commit/3acc472e004014e4df306172378f6e2897b0e7fa))

## v1.64.0 (2020-10-13)

### Chore

* chore: don&#39;t run ui smoke tests ([`eb026fa`](https://github.com/RedHatInsights/vulnerability-engine/commit/eb026fa6775de507b75a288337ed92c451064049))

### Documentation

* docs: add descriptions for advisories ([`ee1c56a`](https://github.com/RedHatInsights/vulnerability-engine/commit/ee1c56a73de1499c2f0c4e9a8d1d446deb5a2431))

### Feature

* feat(platform_mock): add patchman empty mock ([`1eef453`](https://github.com/RedHatInsights/vulnerability-engine/commit/1eef4533b46d272655debb43b5cd1ec5bcbe66e7))

* feat(manager): add advisories_show parameter and advisories data from patch to /affected_systems and /systems/{inventory_id}/cves ([`82f7042`](https://github.com/RedHatInsights/vulnerability-engine/commit/82f70425b9f55c198d7cb0e2a76b9457501e9d85))

* feat(manager): Add advisory_details query parameter ([`fb92dde`](https://github.com/RedHatInsights/vulnerability-engine/commit/fb92ddeb9640706e3c5aa4e68dc725ea4f9a76a5))

## v1.63.1 (2020-10-08)

### Chore

* chore: refresh platform_mock libs ([`f393aaf`](https://github.com/RedHatInsights/vulnerability-engine/commit/f393aaf283de6a77d8ef1ea9499d17b68a808733))

### Fix

* fix: msg type logging in nested dicts ([`0c46dff`](https://github.com/RedHatInsights/vulnerability-engine/commit/0c46dff7c0ca1099eed0a1ed06d57b0bd433626f))

## v1.63.0 (2020-10-07)

### Chore

* chore: remove vmaas panels ([`c8dfac1`](https://github.com/RedHatInsights/vulnerability-engine/commit/c8dfac139f4a9aa7e4afdd7ce30acaa4f611d5a7))

* chore: disable logging of prometheus and grafana ([`722264f`](https://github.com/RedHatInsights/vulnerability-engine/commit/722264fc588675e2a54eeb8b38258c58fb434fbd))

* chore: use same grafana version as in prod ([`485c1e7`](https://github.com/RedHatInsights/vulnerability-engine/commit/485c1e737bcffe032c668585f65ed4bdd40c00b0))

### Feature

* feat(advisor_listener): skip non-insights messages ([`7ac47a5`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ac47a51ea5bcff7b8102e61239bc6f9eaa83a58))

* feat(listener): skip non-insights messages ([`296f702`](https://github.com/RedHatInsights/vulnerability-engine/commit/296f7022e631b535797593ba5608e80e1a2e4e0d))

## v1.62.4 (2020-10-02)

### Fix

* fix(evaluator): run prometheus before going to waiting loop so healthchecks won&#39;t go crazy ([`1f2f061`](https://github.com/RedHatInsights/vulnerability-engine/commit/1f2f061b63f814fd5cddf95221037c8d11b5850b))

## v1.62.3 (2020-10-01)

### Chore

* chore: update grafana container to consume dasboard in configmap ([`efc380d`](https://github.com/RedHatInsights/vulnerability-engine/commit/efc380d35a3db4b429dfc9db5a0e155ab3bd52ac))

* chore: migrate dashboard from saas-templates ([`0402ca2`](https://github.com/RedHatInsights/vulnerability-engine/commit/0402ca21bfda0e1e8d65f49cc6618bf29fcf02bd))

### Fix

* fix: add missing deps and update urllib3 only (CVE-2020-26137) ([`3e5584a`](https://github.com/RedHatInsights/vulnerability-engine/commit/3e5584a6ce6a7434861b00f274b33b0e732e2318))

### Test

* test: validate grafana dashboards ([`61a41d9`](https://github.com/RedHatInsights/vulnerability-engine/commit/61a41d9b18db14253ce5075c824a042a674303d8))

## v1.62.2 (2020-09-22)

### Fix

* fix(manager): add option to filter by display name in /affected_systems ([`90ec6db`](https://github.com/RedHatInsights/vulnerability-engine/commit/90ec6db38101ca52dbeb962e3f1068043bbef4d7))

## v1.62.1 (2020-09-21)

### Chore

* chore: run tests with api marker ([`f6da242`](https://github.com/RedHatInsights/vulnerability-engine/commit/f6da242f7ffcfc8363922166be5fa60992cabeac))

### Fix

* fix(database): change database init ([`edb6421`](https://github.com/RedHatInsights/vulnerability-engine/commit/edb64216ea88d822e72a80f1bc3c5ec511343745))

## v1.62.0 (2020-09-18)

### Feature

* feat(manager): add &#39;updated&#39; sort parameter ([`fa6b57e`](https://github.com/RedHatInsights/vulnerability-engine/commit/fa6b57e6085ea104fd3687ab9ad35f3ceb6e646b))

## v1.61.0 (2020-09-17)

### Chore

* chore: add example of deepObject filtering in connexion ([`9c370c0`](https://github.com/RedHatInsights/vulnerability-engine/commit/9c370c0bb6727de76693ae46508b7eac9c95e008))

### Documentation

* docs(manager): add missing status code in /apistatus ([`db34863`](https://github.com/RedHatInsights/vulnerability-engine/commit/db34863df193071e026c5b8da07a624d75839d6c))

### Feature

* feat(manager): add system filtering by SAP ([`7356be8`](https://github.com/RedHatInsights/vulnerability-engine/commit/7356be8205d352a98d0849b3b3886a7687dde284))

## v1.60.0 (2020-09-11)

### Feature

* feat(manager): add filtering by tags in /systems and /affected_systems ([`09952c1`](https://github.com/RedHatInsights/vulnerability-engine/commit/09952c150a1b36fe12f4e6e2e9d4cf4250a7867d))

## v1.59.1 (2020-09-11)

### Fix

* fix(advisor_listener): make log messages more informative and remove print ([`bd1e0ff`](https://github.com/RedHatInsights/vulnerability-engine/commit/bd1e0ffdb0a5e3dd8775a330c914420c1f894dde))

* fix: payload tracker sending lot of messages but logs don&#39;t have to be spammed by it ([`a32f5a2`](https://github.com/RedHatInsights/vulnerability-engine/commit/a32f5a2064aac102527949f68953d8c6edb618a9))

## v1.59.0 (2020-09-09)

### Feature

* feat(manager): return tags in /affected_systems ([`c43cd89`](https://github.com/RedHatInsights/vulnerability-engine/commit/c43cd8972af86afa08fc114fcf53ed87f64da4b2))

* feat(manager): return tags in /systems endpoints ([`1b3c07a`](https://github.com/RedHatInsights/vulnerability-engine/commit/1b3c07a1563159334b3b045b881c66d57fb8eeee))

* feat(database): add local dev cyndi instance ([`71b2a6d`](https://github.com/RedHatInsights/vulnerability-engine/commit/71b2a6d154b44ce9c0b4893cec4c84b308cf1f7e))

* feat(database): add cyndi view model and support for binary json ([`a3ab718`](https://github.com/RedHatInsights/vulnerability-engine/commit/a3ab7188bb688bf65e7f4b7c35f819ba134b691d))

## v1.58.0 (2020-09-09)

### Feature

* feat: add mechanism to wait until DB migration is finished

manager intentionally doesn&#39;t not waiting, problem with gunicorn worker timeout and it doesn&#39;t have sense in this service because the waiting is done because writing services and manager can work in read only mode ([`93d85d7`](https://github.com/RedHatInsights/vulnerability-engine/commit/93d85d79c10c160e78036fd7ce84968f0f138709))

### Refactor

* refactor: drop wait-for-services wrapper, it&#39;s only for startup and doesn&#39;t help anything

fix: minor counting bugs when calling vmaas ([`9e92a40`](https://github.com/RedHatInsights/vulnerability-engine/commit/9e92a40cc16c323e8c9b0efd3c8242d274d534be))

## v1.57.0 (2020-09-09)

### Feature

* feat(manager): expose playbook templates in the API ([`628498b`](https://github.com/RedHatInsights/vulnerability-engine/commit/628498b737ef338ff200f44b3f167aba016cbc28))

## v1.56.0 (2020-09-09)

### Feature

* feat(taskomatic): store CVAw CVEs playbook templates ([`aed59dc`](https://github.com/RedHatInsights/vulnerability-engine/commit/aed59dc86507b7193d72158424bd9fa7128609df))

## v1.55.0 (2020-09-08)

### Feature

* feat(database): add advisories_list column to cve_metadata table

feat(vmaas_sync): add advisories list sync to cve_metadata

feat(manager): add advisories list to /cves response ([`7d2ab53`](https://github.com/RedHatInsights/vulnerability-engine/commit/7d2ab5368dc4bda71711abd434d51b3b64a66ed7))

## v1.54.0 (2020-09-04)

### Feature

* feat(manager): split rule errkey and rule presence filtering ([`c017462`](https://github.com/RedHatInsights/vulnerability-engine/commit/c0174620cf08b4f1c3c9074622ede49a63d97b08))

## v1.53.0 (2020-09-02)

### Chore

* chore: swap database upgrades ([`ce103d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/ce103d08ebb6b8ca2decda89400497903bf44af1))

### Feature

* feat(advisor): add payload tracking of request ([`7e049e1`](https://github.com/RedHatInsights/vulnerability-engine/commit/7e049e1d8de1a7068bb8820b5f1f0afefb654bbf))

## v1.52.0 (2020-09-01)

### Feature

* feat(database): add local dbupgrade script ([`ac8ec50`](https://github.com/RedHatInsights/vulnerability-engine/commit/ac8ec50f5f553905c454dca92efff1db40e913d7))

## v1.51.0 (2020-08-31)

### Feature

* feat(taskomatic): automatic rules sync from git ([`cde21aa`](https://github.com/RedHatInsights/vulnerability-engine/commit/cde21aa802fb34c459c98c6f8e0edf476e25abee))

### Fix

* fix(taskomatic): drop old rules_details job ([`1994e8d`](https://github.com/RedHatInsights/vulnerability-engine/commit/1994e8d34eea31fe71203ab1100b977dbdf77850))

## v1.50.0 (2020-08-26)

### Feature

* feat(manager): add overall app status endpoint ([`89dbdab`](https://github.com/RedHatInsights/vulnerability-engine/commit/89dbdabe31a65a58113b4755ace330ebd119ec76))

## v1.49.4 (2020-08-20)

### Fix

* fix(manager): status is in filterable columns, it must be joined ([`fdf11ab`](https://github.com/RedHatInsights/vulnerability-engine/commit/fdf11ab6f2791eea5a0ad2836062ff9e1f07bf86))

## v1.49.3 (2020-08-19)

### Fix

* fix(evaluator): stop sending to payload tracker re-calc requests, it will fail ([`6dc1b38`](https://github.com/RedHatInsights/vulnerability-engine/commit/6dc1b38426e671d30d4f5a5d9b9b66df9dcbab56))

## v1.49.2 (2020-08-18)

### Fix

* fix(manager): fix id translation in vuln/cves ([`3129b29`](https://github.com/RedHatInsights/vulnerability-engine/commit/3129b29a53aa4d1f295830403282b05d421bdafb))

## v1.49.1 (2020-08-18)

### Fix

* fix(manager): fix base routing in swagger ([`6906054`](https://github.com/RedHatInsights/vulnerability-engine/commit/69060541fcb7e2b542c7d0dbbfac29044afcefe0))

### Unknown

* Merge pull request #721 from blayson/cvss_to_bug

Unexpected results for cvss_to=0 ([`6835241`](https://github.com/RedHatInsights/vulnerability-engine/commit/6835241194b858454ebdf33f7a03b48e5aad7553))

## v1.49.0 (2020-08-18)

### Feature

* feat(manager): add system_count for vuln/cves endpoint ([`d39c11b`](https://github.com/RedHatInsights/vulnerability-engine/commit/d39c11b44c16f5c7d0e3edf325573a1b495216c2))

## v1.48.2 (2020-08-17)

### Fix

* fix(manager): fix and refactor swagger setup ([`9f9904f`](https://github.com/RedHatInsights/vulnerability-engine/commit/9f9904f369a96c12c6ab15864729d18f21f04974))

## v1.48.1 (2020-07-31)

### Fix

* fix(advisor_listener): investigate only failed rules ([`cd0c747`](https://github.com/RedHatInsights/vulnerability-engine/commit/cd0c74747b2a94942eeefbccbed7db3b04308d76))

## v1.48.0 (2020-07-29)

### Feature

* feat(manager): do not report rule mitigated CVEs ([`7e9f162`](https://github.com/RedHatInsights/vulnerability-engine/commit/7e9f1627e9506f3bff488f77070ce50308e6b6ea))

* feat(evaluator): take rule mitigation into account ([`94971cf`](https://github.com/RedHatInsights/vulnerability-engine/commit/94971cf3eb6dc34b1e0491ef018a92d87769c95d))

* feat(taskomatic): teach taskomatic about rule CVE mitigation ([`62a6d34`](https://github.com/RedHatInsights/vulnerability-engine/commit/62a6d340da5583e58552a9f39b62e0ef8ce48ebe))

* feat(schema): update DB procedures to use rule mitigation info ([`fd5deca`](https://github.com/RedHatInsights/vulnerability-engine/commit/fd5deca8632bc8c6ae81ab787f77557f2247d4d8))

* feat(advisor_listener): store CVE mitigation information from rules ([`0743244`](https://github.com/RedHatInsights/vulnerability-engine/commit/0743244e4bd8f9a20487b5bf17eed488186bd061))

### Test

* test(vmaas_sync): update vmaas_sync tests for new data ([`b26131d`](https://github.com/RedHatInsights/vulnerability-engine/commit/b26131dae1fa8b774775aeb8c323eff9e21bd37e))

* test(metrics): update metrics tests for new data ([`b5ac3dc`](https://github.com/RedHatInsights/vulnerability-engine/commit/b5ac3dcfe64d34fe1efdc2027317d2e885015bd3))

* test(manager): update manager tests for new data ([`51dd1ff`](https://github.com/RedHatInsights/vulnerability-engine/commit/51dd1ffb5c0f8235a61808bea4798762b63dc153))

* test(advisor_listener): add tests for rule mitigation information ([`8613da8`](https://github.com/RedHatInsights/vulnerability-engine/commit/8613da8958f140d395d834e2f6812714d98abbf7))

## v1.47.2 (2020-07-29)

### Fix

* fix(database): set cyndi script password ([`2cf8a48`](https://github.com/RedHatInsights/vulnerability-engine/commit/2cf8a4817559f458c73619eb052483f7487043ea))

## v1.47.1 (2020-07-28)

### Fix

* fix: strip newline from DB password ([`04b6496`](https://github.com/RedHatInsights/vulnerability-engine/commit/04b6496d1b7bcbbb5de0f880efbce4651fe19aa2))

## v1.47.0 (2020-07-28)

### Chore

* chore: start and sync vmaas for tests ([`88a10aa`](https://github.com/RedHatInsights/vulnerability-engine/commit/88a10aa4438d20296f888e8dcbae0c8d96b66881))

### Feature

* feat(database): introduce project cyndi ([`9741f85`](https://github.com/RedHatInsights/vulnerability-engine/commit/9741f8586efdf18ba8e81cb79953da2d6098a7f0))

## v1.46.0 (2020-07-21)

### Feature

* feat(database): add mitigation_reason column ([`e310c30`](https://github.com/RedHatInsights/vulnerability-engine/commit/e310c30665cfa2b9ae8a03e1fa0cfece344be6c1))

### Refactor

* refactor: use system_vulnerabilities_active partition on other places where it makes sense ([`b12de35`](https://github.com/RedHatInsights/vulnerability-engine/commit/b12de358d05069ca8a9e78dafc837026fdbe9947))

* refactor(manager): use only system_vulnerabilities_active partition in manager ([`3ae677f`](https://github.com/RedHatInsights/vulnerability-engine/commit/3ae677fd019eaf63060ffa585fa193f0e1f58bc5))

* refactor(database): split system_vulnerabilities to active and inactive partitions ([`33a39f1`](https://github.com/RedHatInsights/vulnerability-engine/commit/33a39f17db4de1b02e4fddc37542868cebadd351))

## v1.45.3 (2020-07-20)

### Fix

* fix(manager): return 503 when DB is down ([`34c3bce`](https://github.com/RedHatInsights/vulnerability-engine/commit/34c3bce5cba84dca31448e46682c854ed1d15066))

## v1.45.2 (2020-07-16)

### Fix

* fix(evaluator): remove print statement ([`ac35ec0`](https://github.com/RedHatInsights/vulnerability-engine/commit/ac35ec0ca8c885b5597b7eeef9a1fc673b44f81b))

* fix(evaluator): skip evaluation in case of VMaaS errors ([`aeada90`](https://github.com/RedHatInsights/vulnerability-engine/commit/aeada90e2e2271d716d3b472c5deb99d524d09ee))

* fix: increase fail counter also for VMaaS ClientErrors ([`6ee1ad7`](https://github.com/RedHatInsights/vulnerability-engine/commit/6ee1ad7d0546106f90d59f13d01cb12729f29074))

## v1.45.1 (2020-07-16)

### Fix

* fix: use correct message format for remediations updates ([`ae89f8b`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae89f8b7b46652935225af3815467c8e67e50d12))

## v1.45.0 (2020-07-16)

### Feature

* feat(manager): add filtering multiple security rules ([`0e840c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/0e840c635292f0147fee1e6f96ed841b57808d72))

## v1.44.5 (2020-07-15)

### Fix

* fix(advisor_listener): propagate event loop ([`551ac93`](https://github.com/RedHatInsights/vulnerability-engine/commit/551ac9334c976d0188f48e5f89bb3585fdb8c5f7))

## v1.44.4 (2020-07-15)

### Fix

* fix: remove print ([`1522014`](https://github.com/RedHatInsights/vulnerability-engine/commit/1522014e15e15d495a33fd2eeb4bb98315e32f2a))

## v1.44.3 (2020-07-15)

### Fix

* fix(taskomatic): correct path in image ([`d3814eb`](https://github.com/RedHatInsights/vulnerability-engine/commit/d3814eb6a96f6afcc068ebb1fc6a40cbffda1af4))

### Test

* test: entrypoint changed, output is shifted ([`676a136`](https://github.com/RedHatInsights/vulnerability-engine/commit/676a13626fd9f1aa197b228e059d151d7f8407bf))

## v1.44.2 (2020-07-10)

### Chore

* chore: add traffic generator into platform_mock ([`360bb1a`](https://github.com/RedHatInsights/vulnerability-engine/commit/360bb1a5566666b1f2424aefa62f98ca00390167))

### Fix

* fix(listener): support missing platform_metadata dict ([`30b6df0`](https://github.com/RedHatInsights/vulnerability-engine/commit/30b6df04c6b189f67f3cae74dd3f5b313acd5a68))

## v1.44.1 (2020-07-09)

### Fix

* fix(listener): upload topic deprecation ([`e7ff130`](https://github.com/RedHatInsights/vulnerability-engine/commit/e7ff130737e02586c6206a4d5afd146c5ebfd778))

## v1.44.0 (2020-07-09)

### Feature

* feat(evaluator): send CVE updates to remediations ([`2a3ba0b`](https://github.com/RedHatInsights/vulnerability-engine/commit/2a3ba0bbf60625ccf6e04aa5733aa8b73d06ad05))

* feat(advisor_listener): send CVE to remediations ([`2670af3`](https://github.com/RedHatInsights/vulnerability-engine/commit/2670af3cc6ecf2558742c0d98648f86166802a92))

* feat: common code for delivering updates to remediations ([`6607606`](https://github.com/RedHatInsights/vulnerability-engine/commit/66076067522f18faf3927f3a207ed9e920e6dbe8))

## v1.43.0 (2020-07-09)

### Chore

* chore: script for running integration tests locally ([`5d13e70`](https://github.com/RedHatInsights/vulnerability-engine/commit/5d13e70e75eaec2360edc6419fe05641d42d14d4))

### Feature

* feat(manager): return also CVEs with N/A CVSS in executive report ([`6ee6a79`](https://github.com/RedHatInsights/vulnerability-engine/commit/6ee6a79570f729824db5877dc4f65650443f67f2))

### Fix

* fix(manager): make round_to_100_percent work with all zero values

previously it was failing with ZeroDivisionError ([`4ecdf5a`](https://github.com/RedHatInsights/vulnerability-engine/commit/4ecdf5ae1d2ade913b8e46e53a33f48530ae4a87))

## v1.42.3 (2020-07-03)

### Fix

* fix(advisor_listener): fix select for case where no rules are present ([`053227f`](https://github.com/RedHatInsights/vulnerability-engine/commit/053227f4e63202cb67f64b7d36e62d5b6ba28fb2))

### Refactor

* refactor: use single dockerfile for all app services ([`5825ab8`](https://github.com/RedHatInsights/vulnerability-engine/commit/5825ab8e6a815d7a85a00e68141dd73e1929c387))

* refactor(advisor_listener): do only one select from sys_vulnerabilities ([`11fa89e`](https://github.com/RedHatInsights/vulnerability-engine/commit/11fa89ed4bdcaff871a979a9f82bed5e89d57697))

### Test

* test(advisor_listener): add additional tests for advisor_listener ([`317b46a`](https://github.com/RedHatInsights/vulnerability-engine/commit/317b46a475abaf98f679ccdcfad1454fa8020d3f))

* test(database-tests): make sure database tests run last

having tests connecting to database before and after upgrade tests
caused the database to explode and other tests to fail ([`8193b7e`](https://github.com/RedHatInsights/vulnerability-engine/commit/8193b7ee0445564bf89911aa0854bc52f65ae956))

* test(advisor_listener): add tests for advisor listener ([`7fd71ff`](https://github.com/RedHatInsights/vulnerability-engine/commit/7fd71ff953e12ea53ec390aeb1b12bdf9a3f3c07))

## v1.42.2 (2020-06-26)

### Fix

* fix(evaluator): use correct condition for increasing CVE counts

54c934fea3088c8ac09ba73802e578e7256e9fa8 changed behavior
                     unmitigated_cves_ids.add(system_cves_map[cve][&#39;cve_id&#39;])
-                    if system_cves_map[cve][&#39;rule_id&#39;] is None:  # unmitigated only if there wasn&#39;t rule hit before
+                    if system_cves_map[cve][&#39;active_rule&#39;]:  # unmitigated only if there wasn&#39;t rule hit before
                         inc_cves_ids.add(system_cves_map[cve][&#39;cve_id&#39;])

system_cves_map[cve][&#39;rule_id&#39;] is None
meant that rule wasn&#39;t present for the system CVE

system_cves_map[cve][&#39;active_rule&#39;]
means that rule is existing for the system CVE, which inverted the
condition ([`e14879f`](https://github.com/RedHatInsights/vulnerability-engine/commit/e14879f39df23a4785c0d0b5776e417927b4a5ce))

## v1.42.1 (2020-06-25)

### Performance

* perf: Increase evaluator performance using all asyncio ([`ee36bc9`](https://github.com/RedHatInsights/vulnerability-engine/commit/ee36bc949c43fcf0f80380685d043484a9f7a4c8))

## v1.42.0 (2020-06-24)

### Chore

* chore: remove iqe-rbac-plugin

it shouldn&#39;t be needed anymore and it started to execute rbac tests ([`03af80d`](https://github.com/RedHatInsights/vulnerability-engine/commit/03af80dc2172e8cf7f2f3265e7067ffcad19bd85))

### Feature

* feat(manager): add CVE reporter infomation to the system-cve pairs ([`324cf5d`](https://github.com/RedHatInsights/vulnerability-engine/commit/324cf5d9fe1a2c48ed0fc04710ee52e1f0df1906))

### Refactor

* refactor(manager): join with Status table is not necessary in ids query ([`33cee1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/33cee1c103b685bbd8e8d4e9af259224e42ecbe6))

* refactor(manager): move full query into its own method ([`d67b95f`](https://github.com/RedHatInsights/vulnerability-engine/commit/d67b95fcc6bfbf5ab759ac84d1b0605b0ed2f2c2))

* refactor(manager): rework filters so they share code ([`744a648`](https://github.com/RedHatInsights/vulnerability-engine/commit/744a6486d346c5978e15ebfe9d7f2d94e84918be))

## v1.41.5 (2020-06-19)

### Fix

* fix(manager): fix cvss_to filtering parameter

previously when cvss_to parameter was used, we returned zero results ([`c32bcf1`](https://github.com/RedHatInsights/vulnerability-engine/commit/c32bcf130e9a727134fb9598cce416a75cb34a00))

## v1.41.4 (2020-06-19)

### Fix

* fix(taskomatic): select real and cached count in one select and support running the script in fix mode ([`bbc327b`](https://github.com/RedHatInsights/vulnerability-engine/commit/bbc327b452c5644b6e02f88062a1137e58b30c9b))

## v1.41.3 (2020-06-18)

### Fix

* fix(manager): update only active vulnerabilities ([`a497214`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4972143d5c92d3264982d2585cee8038324e46a))

## v1.41.2 (2020-06-18)

### Fix

* fix(vmmas-sync): delete unused CVEs faster ([`80de23f`](https://github.com/RedHatInsights/vulnerability-engine/commit/80de23f13af6dbffa8c65c650294d7ccbd53b29a))

## v1.41.1 (2020-06-16)

### Fix

* fix(manager): if rule is specified by name, it has to be active ([`09f4627`](https://github.com/RedHatInsights/vulnerability-engine/commit/09f4627bde137ed1541ff0e6f78bffa4763507eb))

## v1.41.0 (2020-06-11)

### Feature

* feat(vmaas-sync): sync only those CVEs which have an errata ([`d3028e5`](https://github.com/RedHatInsights/vulnerability-engine/commit/d3028e52f3fe0c03182a511bbcce369bfe7a3b95))

## v1.40.0 (2020-06-11)

### Feature

* feat(manager): add uuid filter for affected_systems endpoint ([`4535dc0`](https://github.com/RedHatInsights/vulnerability-engine/commit/4535dc07c4cf37953c8a2a1061a872fdea7574a4))

### Refactor

* refactor: remove version lock workaround ([`1cd7ad5`](https://github.com/RedHatInsights/vulnerability-engine/commit/1cd7ad545bfd62a7ef126717cc939fe9ece5c1cd))

## v1.39.0 (2020-06-09)

### Feature

* feat(manager): add /ids API for /systems ([`aa920ac`](https://github.com/RedHatInsights/vulnerability-engine/commit/aa920ac62e83271a0f8ff18c362de5751662e6d0))

* feat(manager): add /ids API for /systems/{inventory_id}/cves ([`5c3e04e`](https://github.com/RedHatInsights/vulnerability-engine/commit/5c3e04e33fc853abd39dd9fcb4f00f5ab9c2926c))

* feat(manager): add /ids API for /vulnerabilities/cves ([`539aff3`](https://github.com/RedHatInsights/vulnerability-engine/commit/539aff385a981e4573c405086b2cdb7005ad7093))

### Refactor

* refactor(database): initialize schema if database container is not present (RDS) ([`2386ed8`](https://github.com/RedHatInsights/vulnerability-engine/commit/2386ed851b8725c9eeaa0f8be314f6147dc526bc))

### Test

* test: delete obsolete response schemas ([`de6ccd7`](https://github.com/RedHatInsights/vulnerability-engine/commit/de6ccd700770094c52a38d238f125166043dd6a6))

## v1.38.0 (2020-06-02)

### Feature

* feat(manager): create API for retrieving only IDs of systems affected by CVE ([`2bf5719`](https://github.com/RedHatInsights/vulnerability-engine/commit/2bf5719cc2037b95b3cf971781cb4a6de81eff7f))

## v1.37.1 (2020-06-02)

### Fix

* fix(manager): provide better message to user about why return 403 ([`4e38caa`](https://github.com/RedHatInsights/vulnerability-engine/commit/4e38caac56534221d126e8f7868ed935d54539ed))

## v1.37.0 (2020-06-02)

### Feature

* feat(manager): add filtering for null cvss ratings ([`e941a7c`](https://github.com/RedHatInsights/vulnerability-engine/commit/e941a7c835ca45f35631defd0075e32faed5d481))

## v1.36.0 (2020-06-02)

### Feature

* feat(manager): add metric for referer checking ([`313fad0`](https://github.com/RedHatInsights/vulnerability-engine/commit/313fad0bd9debe148ffa68f343c134c67f1d56d7))

## v1.35.2 (2020-05-26)

### Fix

* fix(listener): it&#39;s actually &#39;updated&#39; ([`7866f11`](https://github.com/RedHatInsights/vulnerability-engine/commit/7866f11d7913f876cd9b5eda2a93a4e6395b503b))

## v1.35.1 (2020-05-26)

### Fix

* fix(listener): fix crash on logging ([`6b06fac`](https://github.com/RedHatInsights/vulnerability-engine/commit/6b06fac689c1b3cfda484b9932f3ec7edec84ffb))

## v1.35.0 (2020-05-26)

### Feature

* feat(listener): update display_name when received event message ([`dcdd5d4`](https://github.com/RedHatInsights/vulnerability-engine/commit/dcdd5d45ebeda6bebb99acec384954ee16154b4d))

### Test

* test(listener): test update system functions ([`929a128`](https://github.com/RedHatInsights/vulnerability-engine/commit/929a128640185dfe080740f0e3754af70133f2a7))

## v1.34.2 (2020-05-25)

### Fix

* fix(taskomatic): detect not cached CVEs and optimize ([`3248c6c`](https://github.com/RedHatInsights/vulnerability-engine/commit/3248c6ce316bf0cf147a23e6b690408f9a85f683))

* fix(database): trigger only once in case both columns are updated ([`1dc3b40`](https://github.com/RedHatInsights/vulnerability-engine/commit/1dc3b40b8254a6fe1e6e450ecc261a5744f17484))

## v1.34.1 (2020-05-22)

### Fix

* fix: import rules 1by1 due to memory constraints ([`04aa90f`](https://github.com/RedHatInsights/vulnerability-engine/commit/04aa90fecfcba4b497cf407220834a8960cffd6a))

* fix(database): taskomatic needs to be able to delete systems ([`2438ba4`](https://github.com/RedHatInsights/vulnerability-engine/commit/2438ba4ebe37c007b87c61d8e78058175619cd86))

## v1.34.0 (2020-05-21)

### Chore

* chore: install insights-core into debugger container ([`b0fe0c7`](https://github.com/RedHatInsights/vulnerability-engine/commit/b0fe0c78ceb0b78811f2622c4ca823c0109e7599))

### Feature

* feat: send Slack notifications for unhandled exceptions in manager ([`c1124fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/c1124fe43dc7296aa5aa5af837976759bc9b4fef))

### Test

* test: add manager tests for security rules ([`e82092c`](https://github.com/RedHatInsights/vulnerability-engine/commit/e82092cf953efa31d8261d33693e7e7357c1752e))

* test: fix pylint issues ([`1086e89`](https://github.com/RedHatInsights/vulnerability-engine/commit/1086e8926812ba6f5de5d85b080b755d1a6a98ab))

* test: update pylint to 2.5.2 ([`1cd2074`](https://github.com/RedHatInsights/vulnerability-engine/commit/1cd20741a066ec4d16970a737d097eb5f17c13b1))

## v1.33.2 (2020-05-19)

### Chore

* chore: add a script for importing rules directly from source ([`16dfe57`](https://github.com/RedHatInsights/vulnerability-engine/commit/16dfe5784ffd1b74e3f2c43562da1b2bedc24e53))

### Fix

* fix(advisor-listener): store system culling timestamps ([`8d59ae9`](https://github.com/RedHatInsights/vulnerability-engine/commit/8d59ae9583ebba43a1ff037a3eb7c1b5d33d09a2))

* fix(listener): account should not change, cache handling is not implemented if it does ([`d409d54`](https://github.com/RedHatInsights/vulnerability-engine/commit/d409d545e07c2ac68e6ba74309c0a4f303517fb1))

* fix(manager): don&#39;t consider stale flag when querying specific inventory_id ([`707441a`](https://github.com/RedHatInsights/vulnerability-engine/commit/707441af7b07c1ffc3f88c7b3bf073e114c091f1))

## v1.33.1 (2020-05-15)

### Fix

* fix(manager): double the default timeout ([`b9a4fb2`](https://github.com/RedHatInsights/vulnerability-engine/commit/b9a4fb2df6bafc6f3eee0da3ab8abce45c6540a5))

## v1.33.0 (2020-05-13)

### Chore

* chore: pipenv check workaround

https://github.com/pypa/pipenv/issues/4188

PIPENV_PYUP_API_KEY= can be removed when pipenv-2020.X.X is released ([`1d66c49`](https://github.com/RedHatInsights/vulnerability-engine/commit/1d66c4946dd51b0e9dcb33fe73fcaf5d1747bd95))

### Feature

* feat(taskomatic): cleanup deleted systems rows ([`b22b4c5`](https://github.com/RedHatInsights/vulnerability-engine/commit/b22b4c5c832e80b693dda293e32d1cfe3bde40ee))

### Fix

* fix(manager): fix selects to not display deleted systems ([`dcad8b2`](https://github.com/RedHatInsights/vulnerability-engine/commit/dcad8b2efaa8e70a3fb815afa176f1562c3b645c))

* fix: selects to not select deleted systems ([`867937c`](https://github.com/RedHatInsights/vulnerability-engine/commit/867937cafa759aa203c7e0573ab7c286b54d920f))

* fix(listener): make sure single system import/delete can&#39;t happen concurrently ([`87b3aa1`](https://github.com/RedHatInsights/vulnerability-engine/commit/87b3aa1d5a498edad26c3385c1a82d9c3028384a))

* fix(database): use system_platform to store deleted systems instead of separate table ([`bee3823`](https://github.com/RedHatInsights/vulnerability-engine/commit/bee38236043d6e2b7bc104d5dafc43a1fb776e8f))

### Test

* test: send account in delete message ([`5c1e8b5`](https://github.com/RedHatInsights/vulnerability-engine/commit/5c1e8b54ee97ec5ffb622882b8e72068ba77b123))

* test: add systems marked as deleted to test data ([`ed215a2`](https://github.com/RedHatInsights/vulnerability-engine/commit/ed215a23cca1009db0d8ef64d2ef35ad5b030cab))

## v1.32.3 (2020-05-05)

### Fix

* fix(manager): add missing overall status field ([`d607c7a`](https://github.com/RedHatInsights/vulnerability-engine/commit/d607c7aab5d4092142d0ed6f10afa939350e7b94))

* fix(advisor-listener): need to return one more None ([`2ecb55c`](https://github.com/RedHatInsights/vulnerability-engine/commit/2ecb55cf3bff7828ffe56b8b6f830f71369739a2))

## v1.32.2 (2020-04-30)

### Fix

* fix: don&#39;t update caches for stale systems ([`df8c002`](https://github.com/RedHatInsights/vulnerability-engine/commit/df8c0029141ddce7b6e528edf7658a3ee8b62eb1))

## v1.32.1 (2020-04-27)

### Chore

* chore: exclude culled systems in default view ([`0fcc739`](https://github.com/RedHatInsights/vulnerability-engine/commit/0fcc739aef5525ff14d927f666b96722edd63d5a))

* chore: allow to run without deleting systems ([`c3aa983`](https://github.com/RedHatInsights/vulnerability-engine/commit/c3aa98341c0ae70730ec5f9ba25538459a307bb6))

### Fix

* fix(manager): filter rules by exact match instead of substring ([`1ed72e5`](https://github.com/RedHatInsights/vulnerability-engine/commit/1ed72e5c52245e7da565fcd8f24d71b96bb69ec4))

## v1.32.0 (2020-04-23)

### Chore

* chore(taskomatic): allow jobs to be run manully in easier way ([`53db420`](https://github.com/RedHatInsights/vulnerability-engine/commit/53db420209644ac9f5b120cd54bba7ba5c2a34a2))

### Feature

* feat(taskomatic): add job for checking whether cached_counts are OK ([`685ad84`](https://github.com/RedHatInsights/vulnerability-engine/commit/685ad849690d70e9264f147e04c77b0bd7d498bd))

## v1.31.4 (2020-04-23)

### Chore

* chore: fix check_counts.py to include rules + stale systems ([`34f73bf`](https://github.com/RedHatInsights/vulnerability-engine/commit/34f73bfe1c400ab30606fbcc2bf0e16f37caa196))

### Fix

* fix: Update payload_id to request_id ([`4fa1e31`](https://github.com/RedHatInsights/vulnerability-engine/commit/4fa1e31d119e0cc6c4b3b7b6543b805308803336))

## v1.31.3 (2020-04-22)

### Fix

* fix(evaluator): wait when VMaaS is refreshing ([`d8cb616`](https://github.com/RedHatInsights/vulnerability-engine/commit/d8cb6161333bc679c7328e07d42774f8ea76804d))

## v1.31.2 (2020-04-21)

### Fix

* fix(manager): sort by newest uploads by default since the page doesn&#39;t support sorting yet ([`c410da1`](https://github.com/RedHatInsights/vulnerability-engine/commit/c410da16d9aafd6fedb4818d66ff405b4344910c))

## v1.31.1 (2020-04-21)

### Fix

* fix(manager): stale systems should not be included ([`a248da5`](https://github.com/RedHatInsights/vulnerability-engine/commit/a248da5e5d3235b9d8bc7b03decc850eaf7435e7))

## v1.31.0 (2020-04-21)

### Chore

* chore: make PIPENV_CHECK configurable ([`159ec38`](https://github.com/RedHatInsights/vulnerability-engine/commit/159ec38eb74cbefe7a74d931f9b90523b7fb7883))

* chore: install pg_repack client for maintenance ([`e4c4335`](https://github.com/RedHatInsights/vulnerability-engine/commit/e4c4335f07c77824da3970e094f601d833486ddd))

* chore: fix kafka download (HTTP 404) ([`ae2e861`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae2e861d7cc6eb8d09c67e8c20c73a7c60d284cf))

* chore: add script to refresh CVE cache by account ([`195f9f8`](https://github.com/RedHatInsights/vulnerability-engine/commit/195f9f84d0bdcacc5f8b765d1c2a8221a6fe8b4a))

### Feature

* feat(manager): add searching /systems by uuid (inventory_id) ([`7b1ea7f`](https://github.com/RedHatInsights/vulnerability-engine/commit/7b1ea7f54d5617a0fc84aaab8f925e2261c99db5))

## v1.30.10 (2020-04-17)

### Chore

* chore: remove obsolete examples ([`1b6a1bb`](https://github.com/RedHatInsights/vulnerability-engine/commit/1b6a1bb0e0fccccf42fc50fb36c8e338f07aba68))

### Documentation

* docs(taskomatic): add documentation for taskomatic ([`2649225`](https://github.com/RedHatInsights/vulnerability-engine/commit/2649225da870a2e62970c5b193acda825368f4d6))

### Fix

* fix(manager): knowledgebase id needs to be returned in affected systems ([`fd57ab3`](https://github.com/RedHatInsights/vulnerability-engine/commit/fd57ab31b1a13a25cfbe426c134aab96df729a26))

### Refactor

* refactor: remove unused webhook integration ([`c221fa9`](https://github.com/RedHatInsights/vulnerability-engine/commit/c221fa9a92e6afecdf14bf095aa741955468c783))

## v1.30.9 (2020-04-17)

### Fix

* fix(database): default 64mb is not always enough for PostgreSQL 12 ([`6e767c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e767c6719e78705edfcb2ae14179b2e1fd3b2ae))

## v1.30.8 (2020-04-16)

### Fix

* fix(advisor_listener): don&#39;t cause VMaaS hits with inactive rules

When creating new record in system_vulnerabililies insert into
when_mitigated to make sure evaluator corretly handles situation where
new CVE appears first in advisor listener and then in evaluator.
With inactive rules evaluator and when_mitigated set to NULL evaluator
thinks that this CVE has been previously processed by it and does not
update CVE count caches accordingly.
Additionally for inactive rules and cases where VMaaS says that the CVE
is not applicable it creates short period of false positivity untill
when_mitigated is set by evaluator. ([`386ee3c`](https://github.com/RedHatInsights/vulnerability-engine/commit/386ee3c43dd4bff49780002ca480b9b5a4f3c403))

* fix(evaluator): correctly update mitigated CVEs with rules ([`e294ff3`](https://github.com/RedHatInsights/vulnerability-engine/commit/e294ff3bef170f63a0539cd4e9e64f5e85372ca2))

* fix: some applications require auth_type key in identity ([`d5ec853`](https://github.com/RedHatInsights/vulnerability-engine/commit/d5ec8535576fa06b0e04c1f16a7dd12e607ce7a4))

## v1.30.7 (2020-04-15)

### Fix

* fix(manager): don&#39;t fail when cve_account_data record is missing for CVE ([`72f723b`](https://github.com/RedHatInsights/vulnerability-engine/commit/72f723bbd9b85c27c09bbdf7a5dc56e4c23e9cc6))

## v1.30.6 (2020-04-14)

### Chore

* chore: Revert &#34;chore: Revert &#34;disable pipenv check because pyup.io is down&#34;&#34;

This reverts commit 3b443c7d6777590985a4b4ad3318d60a98a3dada. ([`754cdaa`](https://github.com/RedHatInsights/vulnerability-engine/commit/754cdaa9222cd525cdc88a2302a2b9b2abe52b69))

### Fix

* fix(database): generate dbdocs on centos ([`70a44a9`](https://github.com/RedHatInsights/vulnerability-engine/commit/70a44a905c19dd7566b13ec254fafcd7a0664752))

## v1.30.5 (2020-04-09)

### Fix

* fix(manager): 8.1-409 has broken dependencies

error: Error running transaction: package systemd-libs-239-18.el8_1.5.x86_64 (which is newer than systemd-libs-239-18.el8_1.4.x86_64) is already installed ([`71d4827`](https://github.com/RedHatInsights/vulnerability-engine/commit/71d4827e057a146dee2a14f1e9b062fa77a90f80))

## v1.30.4 (2020-04-09)

### Chore

* chore: lower resource consumption for smoke tests ([`d93bfda`](https://github.com/RedHatInsights/vulnerability-engine/commit/d93bfdac65bc6f5292aaa90bf03fc8a5976e5f78))

### Fix

* fix: related CVEs should not appear in description of rule ([`edc3fc7`](https://github.com/RedHatInsights/vulnerability-engine/commit/edc3fc7e237bf2d6b52ffb8b2bb0e8b7f1b3751e))

## v1.30.3 (2020-04-07)

### Chore

* chore: Revert &#34;disable pipenv check because pyup.io is down&#34;

This reverts commit be12c55b310edf2c97104a2ecaa315c86dfa6386. ([`3b443c7`](https://github.com/RedHatInsights/vulnerability-engine/commit/3b443c7d6777590985a4b4ad3318d60a98a3dada))

### Fix

* fix(manager): do not return CVE names in rule description ([`0f718a2`](https://github.com/RedHatInsights/vulnerability-engine/commit/0f718a2af2250b4bf8dfe8956323995202ee801c))

## v1.30.2 (2020-04-07)

### Fix

* fix(database): add indexes for speeding up marking stale systems ([`1e0e01f`](https://github.com/RedHatInsights/vulnerability-engine/commit/1e0e01f28658296281710c516ee3f88d0a33ef84))

* fix(taskomatic): update stale systems one by one ([`6326313`](https://github.com/RedHatInsights/vulnerability-engine/commit/6326313011d6c303548d649c0449dfc7786051c0))

* fix(taskomatic): mark systems as stale in batches ([`7fdf80c`](https://github.com/RedHatInsights/vulnerability-engine/commit/7fdf80c3ae437222701dd63c708cf339e334e6b4))

### Refactor

* refactor(taskomatic): add bit more logging into taskomatic jobs ([`ea47ff6`](https://github.com/RedHatInsights/vulnerability-engine/commit/ea47ff62dd967a541a75b211152686b87cec7ac2))

## v1.30.1 (2020-04-07)

### Fix

* fix(dbdocs): fix generating bug for db docs ([`bdad9a2`](https://github.com/RedHatInsights/vulnerability-engine/commit/bdad9a2e1bf17d4bd0c8d6d507fa612405560688))

## v1.30.0 (2020-04-06)

### Chore

* chore: disable pipenv check because pyup.io is down ([`be12c55`](https://github.com/RedHatInsights/vulnerability-engine/commit/be12c55b310edf2c97104a2ecaa315c86dfa6386))

### Feature

* feat(manager): return data needed for population of rule cards ([`cfde610`](https://github.com/RedHatInsights/vulnerability-engine/commit/cfde6105044b374dd59f30c32ed442757becdd79))

* feat(taskomatic): store additional rule information ([`2c61530`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c615304e8d94d028d35e1172e3c5d93976b9734))

### Fix

* fix(database): fix collision in numbering of upgrade scripts ([`63722fc`](https://github.com/RedHatInsights/vulnerability-engine/commit/63722fcdb37440c711d6a6aa1c357311f0f98005))

## v1.29.1 (2020-04-06)

### Fix

* fix(database): don&#39;t count stale systems in when refreshing caches ([`ed4c30a`](https://github.com/RedHatInsights/vulnerability-engine/commit/ed4c30a346232d1dcd2ea1f53bede77a5b496290))

## v1.29.0 (2020-04-06)

### Feature

* feat(advisor-listener): store rule hit details in the database ([`15d9c48`](https://github.com/RedHatInsights/vulnerability-engine/commit/15d9c48f371db15b7bd3a99502e60eddc511d2d1))

* feat(database): store rule info in DB ([`8ac4dec`](https://github.com/RedHatInsights/vulnerability-engine/commit/8ac4dec41f7cb40546f24e111ec136a68de8ecbf))

## v1.28.7 (2020-04-06)

### Fix

* fix(manager): return newest systems first ([`a08f625`](https://github.com/RedHatInsights/vulnerability-engine/commit/a08f625868c7f8e51190e42137dca70f0c7739ed))

* fix(taskomatic): Revert &#34;mark stale systems based on right timestamp&#34;

This reverts commit 687d34a086b814e9ab769143055703c49769b260.

inventory default view displays fresh and stale systems, display them as well until better filtering is implemented ([`a33627e`](https://github.com/RedHatInsights/vulnerability-engine/commit/a33627efafff5d40aa4c8ebed34d786823faa54f))

## v1.28.6 (2020-04-06)

### Fix

* fix(manager): return rule description in the API response ([`444c775`](https://github.com/RedHatInsights/vulnerability-engine/commit/444c775258c75bf9503e3714605ced408f23947b))

## v1.28.5 (2020-04-06)

### Fix

* fix(manager): do not count stale systems in executive report ([`ac6ffb4`](https://github.com/RedHatInsights/vulnerability-engine/commit/ac6ffb47fdb0b57b0902ea77be25a462bd47d873))

## v1.28.4 (2020-04-03)

### Fix

* fix(advisor_listener): update caches only for active rules ([`f3add22`](https://github.com/RedHatInsights/vulnerability-engine/commit/f3add2293a3556128882fffd4bb9b422dcb5aac8))

* fix(manager): take rule active status into account during filtering ([`6abd914`](https://github.com/RedHatInsights/vulnerability-engine/commit/6abd914d6be05f086f6e3557f13f9c176e5ec829))

* fix(manager): return rule_id only if the rule is active ([`5703ef2`](https://github.com/RedHatInsights/vulnerability-engine/commit/5703ef241a181c95775552a25399a451f525315c))

## v1.28.3 (2020-04-03)

### Fix

* fix(manager): display all associated CVEs in rule details ([`98a1522`](https://github.com/RedHatInsights/vulnerability-engine/commit/98a15225dac0b6a903eafe76ec9fdfe2ad95f3c2))

## v1.28.2 (2020-04-02)

### Fix

* fix(taskomatic): mark stale systems based on right timestamp ([`687d34a`](https://github.com/RedHatInsights/vulnerability-engine/commit/687d34a086b814e9ab769143055703c49769b260))

## v1.28.1 (2020-04-02)

### Fix

* fix(manager): do not return stale systems in affected_systems ([`525b718`](https://github.com/RedHatInsights/vulnerability-engine/commit/525b718cfab7c64842ba17bba46999fe0050aa71))

## v1.28.0 (2020-04-02)

### Feature

* feat(database): upgrade to PostgreSQL 12

re-introduce 2 dockerfiles because registry.redhat.io doesn&#39;t allow unauthenticated download ([`98b3a1d`](https://github.com/RedHatInsights/vulnerability-engine/commit/98b3a1d5c1f293d53aefc70fe1b91d5e91bee268))

### Fix

* fix(manager): upgrade migrations client ([`91ce98e`](https://github.com/RedHatInsights/vulnerability-engine/commit/91ce98e6c6c90e5e42fa063d44aa7f538b70c2ce))

### Test

* test: upgrade travis ci PG version ([`be9e8ba`](https://github.com/RedHatInsights/vulnerability-engine/commit/be9e8ba8921faef61cca7caa653c9f377279de54))

## v1.27.0 (2020-04-02)

### Feature

* feat(taskomatic): (de)activate rules based on Inisghts API ([`daa2444`](https://github.com/RedHatInsights/vulnerability-engine/commit/daa24441542def5cec0ed9e64156499b84c4a870))

### Refactor

* refactor(manager): enhance filtering by rules in affected_systems API ([`27209da`](https://github.com/RedHatInsights/vulnerability-engine/commit/27209dadb75df9c57ff26125b71bef129e1ec923))

## v1.26.5 (2020-03-31)

### Fix

* fix(database): update database functions to take only active rules into account ([`16bf754`](https://github.com/RedHatInsights/vulnerability-engine/commit/16bf7545ceba7209bf1d4058bb4e9bbc264c805e))

## v1.26.4 (2020-03-30)

### Fix

* fix(database): CVE &lt;-&gt; rule mapping should be unique ([`2c0eab4`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c0eab45264592abd65165c5add04111190fc013))

## v1.26.3 (2020-03-30)

### Fix

* fix(manager): fix typo in paramater name ([`5aacd81`](https://github.com/RedHatInsights/vulnerability-engine/commit/5aacd81b59e267d483f6bc7959bff6b818a8c410))

## v1.26.2 (2020-03-27)

### Fix

* fix: &#39;pipenv install&#39; re-generates lockfile by default, install only from what&#39;s already in lockfile ([`efcaf2f`](https://github.com/RedHatInsights/vulnerability-engine/commit/efcaf2fe5584d4820a04cec25a6ac4001758e267))

## v1.26.1 (2020-03-27)

### Fix

* fix(advisor_listener): adapt to new message format coming from advisor ([`89f1a43`](https://github.com/RedHatInsights/vulnerability-engine/commit/89f1a4362dd136e7abba19d63deb113b233c232f))

## v1.26.0 (2020-03-27)

### Feature

* feat(manager): add filtering by security rules to affected_systems ([`a46ef5a`](https://github.com/RedHatInsights/vulnerability-engine/commit/a46ef5a1d5abe85e6377f21266ba2661c5d85dc4))

## v1.25.0 (2020-03-26)

### Feature

* feat(evaluator): take only active rules into account ([`54c934f`](https://github.com/RedHatInsights/vulnerability-engine/commit/54c934fea3088c8ac09ba73802e578e7256e9fa8))

* feat(manager): return only enabled rules ([`b197c11`](https://github.com/RedHatInsights/vulnerability-engine/commit/b197c115f5401fac6af8002ea9c6a1d7c0a193d6))

* feat(taskomatic): store whether insights rule is enabled or not ([`a877d96`](https://github.com/RedHatInsights/vulnerability-engine/commit/a877d968e7efe0fc3900ffa801b149c21eb78923))

## v1.24.1 (2020-03-26)

### Fix

* fix: update pyyaml (CVE-2020-1747) ([`6c1f71f`](https://github.com/RedHatInsights/vulnerability-engine/commit/6c1f71f8e9420c966a1abb3d5f4d9dd6f32603a2))

## v1.24.0 (2020-03-24)

### Feature

* feat(manager): return rule details in systems CVEs API ([`9a22333`](https://github.com/RedHatInsights/vulnerability-engine/commit/9a2233313f2976d366b9d2c1f751b3b2dd86e6d0))

## v1.23.2 (2020-03-24)

### Fix

* fix: storing systems_affected on top rule level doesn&#39;t make sense ([`b9279c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/b9279c64a705aa6fbe041bb11299f86054855feb))

### Refactor

* refactor(manager): two /vuln/cves and /cves share same rules object ([`74f89c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/74f89c6cb48788bca68f9d4c6c4fc012e822b378))

## v1.23.1 (2020-03-24)

### Fix

* fix(manager): don&#39;t return dabase ID, return real rule ID ([`71b023c`](https://github.com/RedHatInsights/vulnerability-engine/commit/71b023cd79987f295666f47d2a1a40cfcd8b325b))

## v1.23.0 (2020-03-24)

### Feature

* feat(listener): remove obsolete archive parsing capability ([`df78978`](https://github.com/RedHatInsights/vulnerability-engine/commit/df789781d1e8c980cb5193423d149e9c59b61ad6))

## v1.22.2 (2020-03-23)

### Fix

* fix(taskomatic): there might be rules without knowledgebase article ([`a4c1612`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4c1612df43a8bb3318b7770bbd16b2bbda5fc78))

### Refactor

* refactor(taskomatic): add more logging into rules details download ([`ada5479`](https://github.com/RedHatInsights/vulnerability-engine/commit/ada547993aca88a82f47cf5e65a31b75e24c620d))

## v1.22.1 (2020-03-20)

### Fix

* fix(taskomatic): Insights API is expecting &#39;/&#39; at the end of path ([`f7e26e7`](https://github.com/RedHatInsights/vulnerability-engine/commit/f7e26e79a7f85c10b03a44efb35737f88b9a7e67))

## v1.22.0 (2020-03-20)

### Feature

* feat(manager): return rules information in API ([`9adfd59`](https://github.com/RedHatInsights/vulnerability-engine/commit/9adfd59a917d65e5c9eb72e05fe5ddf00be771bf))

* feat(manager): allow filtering /vulnerabilities API by presence of rule ([`0c05b7f`](https://github.com/RedHatInsights/vulnerability-engine/commit/0c05b7fcfa8741be49a6ad0972fdd1ed0ff35557))

## v1.21.2 (2020-03-19)

### Chore

* chore: add script for syncing database with inventory ([`cae5184`](https://github.com/RedHatInsights/vulnerability-engine/commit/cae51843b373b3a0b5f9f1a61766caf02cc6d15b))

* chore: count Future errors ([`1c2bcc0`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c2bcc09736ae103c00dc0ba6c5deaeeb319e59c))

### Fix

* fix(listener): missing id may be causing KeyError as well ([`762da18`](https://github.com/RedHatInsights/vulnerability-engine/commit/762da187cb4dade96868de23be9fbba355af3281))

## v1.21.1 (2020-03-19)

### Fix

* fix(manager): make high-end range check to be exclusive

normilize ranges to a single decimal place ([`fb68248`](https://github.com/RedHatInsights/vulnerability-engine/commit/fb68248810315ab01dd503d73d75e7ddd6ba2d27))

* fix(manager): choose cves for executive report wisely ([`0dabba8`](https://github.com/RedHatInsights/vulnerability-engine/commit/0dabba8467631d43c86cfb6f645dd406afa7706d))

### Test

* test(manager_tests): fix executive report test ([`3d0ac94`](https://github.com/RedHatInsights/vulnerability-engine/commit/3d0ac94b0aff3e2ac6e3e826fb41b117e1a2e44f))

## v1.21.0 (2020-03-19)

### Feature

* feat(taskomatic): add job for getting rule information ([`45877c7`](https://github.com/RedHatInsights/vulnerability-engine/commit/45877c7026adb3160ca71c72281ef5c75cb2db1b))

## v1.20.1 (2020-03-18)

### Fix

* fix: update urllib3 to fix CVE-2020-7212 ([`294adf3`](https://github.com/RedHatInsights/vulnerability-engine/commit/294adf32d6181c0e8fb601ea57a6390171080591))

* fix: check on system level to find vulnerabilities and workaround pipenv to make it work ([`cf3bd53`](https://github.com/RedHatInsights/vulnerability-engine/commit/cf3bd53cfe6e847dae99233c4cdea0fd0517ad1b))

* fix: Revert &#34;temporarily disable pipenv check due to error in pipenv&#34;

This reverts commit 121fa98b322221c411a5dbafbbb67b7d0a79949f. ([`5714774`](https://github.com/RedHatInsights/vulnerability-engine/commit/571477483d7211f28cd04005afe35912fb3b3b90))

### Unknown

* tests: update pytest, pytest-flask, GitPython and connexion ([`637b1cc`](https://github.com/RedHatInsights/vulnerability-engine/commit/637b1cc41b4c5ab3e22a9fdd783e970e47e9ecad))

## v1.20.0 (2020-03-16)

### Feature

* feat(manager): return global cve &lt;-&gt; rule mapping ([`2c7ff19`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c7ff19584ff7b920355933f9f4eb8d2158643c5))

* feat(advisor-listener): store global cve &lt;-&gt; rule mapping ([`95fac04`](https://github.com/RedHatInsights/vulnerability-engine/commit/95fac04abe40a55ef0d0d5bdb371863590c1f8d2))

* feat(database): add global cve &lt;-&gt; rule mapping table ([`1fd7eed`](https://github.com/RedHatInsights/vulnerability-engine/commit/1fd7eedffbadd4e93209a408f5fd711dd2bc5bf7))

## v1.19.5 (2020-03-13)

### Fix

* fix: replace smart_management with insights ([`22b1a46`](https://github.com/RedHatInsights/vulnerability-engine/commit/22b1a46411eafb203bb4c0b6db55f612abfc3ea8))

## v1.19.4 (2020-03-12)

### Fix

* fix: fix error when bucket is empty ([`3c3c65e`](https://github.com/RedHatInsights/vulnerability-engine/commit/3c3c65ed518b76065fefe27869a007685bf6e37e))

## v1.19.3 (2020-03-11)

### Chore

* chore: follow redirects ([`5dddec0`](https://github.com/RedHatInsights/vulnerability-engine/commit/5dddec08dc5db6a0b75f57336ce68a2c488a5b59))

### Fix

* fix(listener): filter out empty strings ([`b3a1632`](https://github.com/RedHatInsights/vulnerability-engine/commit/b3a163206d7961221dcb5d4f1df6c6aa2566e883))

## v1.19.2 (2020-03-09)

### Fix

* fix(listener): workaround missing enabled field ([`a06649e`](https://github.com/RedHatInsights/vulnerability-engine/commit/a06649e74a7bb52a23de94a03d1e831b3286fedf))

## v1.19.1 (2020-03-09)

### Fix

* fix: temporarily disable pipenv check due to error in pipenv

https://github.com/pypa/pipenv/issues/4147 ([`121fa98`](https://github.com/RedHatInsights/vulnerability-engine/commit/121fa98b322221c411a5dbafbbb67b7d0a79949f))

* fix: metrics dockerfile failing due to missing .txt files ([`1e384de`](https://github.com/RedHatInsights/vulnerability-engine/commit/1e384de951de1c24c5f86d176c52692d13cd533c))

## v1.19.0 (2020-03-06)

### Feature

* feat(manager): return systems evaluated only by advisor + rule hits ([`9c0588d`](https://github.com/RedHatInsights/vulnerability-engine/commit/9c0588de1f618d583713d61d56c822d9199bd740))

## v1.18.0 (2020-03-06)

### Feature

* feat(advisor_listener): add date of latest advisor evaluation ([`af3e285`](https://github.com/RedHatInsights/vulnerability-engine/commit/af3e285702e783e8d53da16f3e57536cc5646437))

## v1.17.5 (2020-03-05)

### Fix

* fix(advisor_listener): update system level count cache as well ([`7c86bfc`](https://github.com/RedHatInsights/vulnerability-engine/commit/7c86bfc802fcbf0978c9a87a90f19e6279051ada))

* fix(manager): change default page size to 20

other apps use 10,20,50,100
vulnerability uses 10,25,50,100 ([`29ff61c`](https://github.com/RedHatInsights/vulnerability-engine/commit/29ff61c320034eb9e661379fbca6b5cecddc86a1))

## v1.17.4 (2020-03-05)

### Fix

* fix: remove exclude_accounts file, pass as env ([`9cc6faa`](https://github.com/RedHatInsights/vulnerability-engine/commit/9cc6faa0be4d3bb72f6b2ed51ea50c9be5851e07))

## v1.17.3 (2020-03-05)

### Fix

* fix(database): update functions to take rules into account ([`7d5cfd1`](https://github.com/RedHatInsights/vulnerability-engine/commit/7d5cfd116d986aff6327cc592a0244a9975439c6))

### Test

* test: update tests to take rule CVEs into account ([`65c481f`](https://github.com/RedHatInsights/vulnerability-engine/commit/65c481f4baf5cc7cd0d1cec2d09e715d3ed34f3c))

## v1.17.2 (2020-03-04)

### Fix

* fix: unpublic a URL ([`247814b`](https://github.com/RedHatInsights/vulnerability-engine/commit/247814b24be5a2339ce2dbf5603ebb54c6237719))

## v1.17.1 (2020-03-04)

### Fix

* fix(evaluator): take rules into account when updating caches ([`a9ebeac`](https://github.com/RedHatInsights/vulnerability-engine/commit/a9ebeac44e0fbd8834c75c406e89ceb3d8accf03))

### Test

* test: add metrics unit tests ([`e25a8eb`](https://github.com/RedHatInsights/vulnerability-engine/commit/e25a8eb60dd95795b8e9e451952704e5297d796a))

## v1.17.0 (2020-03-03)

### Chore

* chore: use iqe-rbac-plugin for rbac smoke tests ([`21c7082`](https://github.com/RedHatInsights/vulnerability-engine/commit/21c7082422f838fdea13443b348f21f2a9003c03))

### Feature

* feat(advisor_listener): update caches accordigly to rule results ([`48abba3`](https://github.com/RedHatInsights/vulnerability-engine/commit/48abba34cde19a16101c49cc9e07b77e3afe1fd8))

## v1.16.0 (2020-02-24)

### Feature

* feat: metrics collection use S3 buckets, calculate monthly report, and email it ([`251a558`](https://github.com/RedHatInsights/vulnerability-engine/commit/251a5584ff416fe95b3ea62abbdb7c23a1e30e7f))

* feat(manager): return rule hits for system CVEs ([`7c121b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/7c121b6bdefe8161fa9b29552b9b83bbd34727f2))

### Fix

* fix(database): add constraint referencing insights rules ([`f82071b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f82071bff99d909da2d7e30e2fee544b9a2c7051))

## v1.15.3 (2020-02-24)

### Chore

* chore: platform service set was split into multiple service sets in e2e-deploy ([`aa87bf2`](https://github.com/RedHatInsights/vulnerability-engine/commit/aa87bf2a2705e5ead6df9ad2f1af3c215976ac7a))

### Fix

* fix(evaluator): track only new uploads

fix(common): use current timestamp in msg ([`3130af6`](https://github.com/RedHatInsights/vulnerability-engine/commit/3130af6ffb5af71299edfb54e9d2fc5713be8a23))

## v1.15.2 (2020-02-20)

### Fix

* fix(advisor-listener): don&#39;t update stale timestamps with advisor data ([`b390841`](https://github.com/RedHatInsights/vulnerability-engine/commit/b390841b1e9ef55361d2c2a65e265a0c32131601))

## v1.15.1 (2020-02-19)

### Fix

* fix(advisor-listener): don&#39;t look up for rule hits if there are no hits ([`3f240a2`](https://github.com/RedHatInsights/vulnerability-engine/commit/3f240a2e6116fd55d05fa707d7db4f8f33fb4fa4))

## v1.15.0 (2020-02-19)

### Feature

* feat(advisor-listener): store rule hits in the database ([`dd1b7b0`](https://github.com/RedHatInsights/vulnerability-engine/commit/dd1b7b0c81f543bbf5af5ac17ca918eae37ae943))

## v1.14.0 (2020-02-19)

### Feature

* feat(advisor-listener): store new uploads from coming from advisor ([`44b2121`](https://github.com/RedHatInsights/vulnerability-engine/commit/44b2121c89ecc582f88a236dc6adca9e73248481))

## v1.13.2 (2020-02-18)

### Fix

* fix(listener): avoid excessive logging of system_profiles ([`da5e316`](https://github.com/RedHatInsights/vulnerability-engine/commit/da5e316a0e745a7821faa649bac36e42affd12b5))

* fix(listener): read system profile from kafka msg ([`f785db2`](https://github.com/RedHatInsights/vulnerability-engine/commit/f785db25a29338698aa33e34ca02431f1e2b234f))

## v1.13.1 (2020-02-17)

### Fix

* fix(advisor-listener): fix path to expected one in entrypoint.sh ([`052d141`](https://github.com/RedHatInsights/vulnerability-engine/commit/052d141ac863f1dbe629ca3cbd94ee83e4f80fc4))

## v1.13.0 (2020-02-17)

### Chore

* chore(codecov): add new components to code coverage ([`abee202`](https://github.com/RedHatInsights/vulnerability-engine/commit/abee2023472cf965f3271a0bbb2c148a076b28a0))

* chore(lint): run lint also on advisor-listener ([`8cb0e42`](https://github.com/RedHatInsights/vulnerability-engine/commit/8cb0e42cd9a6631e6bd42aabfac3417eec94d699))

### Feature

* feat(advisor-listener): store error keys in the database ([`f1a9800`](https://github.com/RedHatInsights/vulnerability-engine/commit/f1a98002be1a9d07a9abd3c6b977da467a5cce44))

* feat(advisor-listener): add component for receiving advisor results ([`b46a188`](https://github.com/RedHatInsights/vulnerability-engine/commit/b46a188ae445d01cb6c30b35ea394d9a7c25f45a))

## v1.12.2 (2020-02-12)

### Fix

* fix(taskomatic): commit the transaction + allow taskomatic to delete ([`8e7ed34`](https://github.com/RedHatInsights/vulnerability-engine/commit/8e7ed34da5f3af74fb886ddf5ad96b954806fa2b))

## v1.12.1 (2020-02-11)

### Fix

* fix(database): taskomatic user updates cve_account_data via trigger ([`63d55d1`](https://github.com/RedHatInsights/vulnerability-engine/commit/63d55d1a61c30dd0403ea6d697b797fcd43a402b))

## v1.12.0 (2020-02-11)

### Feature

* feat(manager): add percentage of cves  for executive report ([`841bcf0`](https://github.com/RedHatInsights/vulnerability-engine/commit/841bcf0b9781dce859cfa0fb7764422be4377019))

## v1.11.4 (2020-02-07)

### Fix

* fix(listener): yum_repos key missing in profile ([`835afca`](https://github.com/RedHatInsights/vulnerability-engine/commit/835afcafff5fd550a0d83373d9e7e06a19f216f1))

## v1.11.3 (2020-02-07)

### Fix

* fix(listener): empty package list ([`4c354b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/4c354b6acebd9bd29da6bd489a0234d4eeb8424d))

## v1.11.2 (2020-02-07)

### Chore

* chore: deploy rbac during smoke tests ([`c464a86`](https://github.com/RedHatInsights/vulnerability-engine/commit/c464a86a750d8a0ca1c413fc67a77868ba11a6e2))

### Fix

* fix(manager): don&#39;t throw exceptions and HTTP 500 errors when Rbac doesn&#39;t work ([`0c5e9d2`](https://github.com/RedHatInsights/vulnerability-engine/commit/0c5e9d239a3aa5d09f6a85ee27e50793d0ac6459))

* fix: request_id is not always sent, if it&#39;s not, tracking payload makes no sense ([`0d1669f`](https://github.com/RedHatInsights/vulnerability-engine/commit/0d1669f888f12128d4a6a45c3520fbe43f24aa34))

## v1.11.1 (2020-02-06)

### Fix

* fix(listener): typo ([`6fc3b4b`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fc3b4bf9a981bbc350b6a6f2e2462edc76f6c7f))

## v1.11.0 (2020-02-06)

### Chore

* chore: adapt platform_mock to simulate inventory API ([`c817572`](https://github.com/RedHatInsights/vulnerability-engine/commit/c817572669385ad926f67b8f345b47c5369c39e4))

* chore(debug): add kafka to debuger container ([`5edda56`](https://github.com/RedHatInsights/vulnerability-engine/commit/5edda56f05293befe826a1b92a8b6851bb0a57db))

### Feature

* feat(listener): fetch system profiles from inventory instead of parsing archive ([`2e83c47`](https://github.com/RedHatInsights/vulnerability-engine/commit/2e83c47fe7dfb307c6f65b1abc4d8d1c097fa199))

## v1.10.0 (2020-01-28)

### Feature

* feat(manager): allow sorting of systems by display_name ([`d945f2c`](https://github.com/RedHatInsights/vulnerability-engine/commit/d945f2ca1bf10a1db041808fd69d3b6e3f8cd9e0))

## v1.9.0 (2020-01-27)

### Chore

* chore: add debugging service

other containers don&#39;t have psql, tar etc. and it&#39;s difficult to do any debugging from them ([`4273f1d`](https://github.com/RedHatInsights/vulnerability-engine/commit/4273f1d19d96ad3588b09c8e0b562c6d0cff525e))

### Feature

* feat(taskomatic): automatically mark systems as stale ([`9d4d28b`](https://github.com/RedHatInsights/vulnerability-engine/commit/9d4d28b3e6904c91b190ec4b528165249537fbb2))

* feat(manager): hide stale systems ([`e86223a`](https://github.com/RedHatInsights/vulnerability-engine/commit/e86223a653080c4299518846c3d9f9d798a65769))

* feat(listener): new uploads should cancel system stale status ([`5fc585a`](https://github.com/RedHatInsights/vulnerability-engine/commit/5fc585a92e2cb66df74956f0d3d5aacb93b348e2))

* feat(database): add stale system flag + update functions to use it ([`36b252b`](https://github.com/RedHatInsights/vulnerability-engine/commit/36b252b94456ed7fa414603f1172025309843302))

## v1.8.3 (2020-01-21)

### Fix

* fix: change msg format in code ([`e94f3a6`](https://github.com/RedHatInsights/vulnerability-engine/commit/e94f3a6d38c2e85f9aaef93a8b42e508eca78541))

* fix: change from platform.upload.available to platform.inventory.host-egress

platform.upload.available is now legacy ([`4f4a3f1`](https://github.com/RedHatInsights/vulnerability-engine/commit/4f4a3f1cd68919b3062770036539aeeabcea45fb))

### Refactor

* refactor: use common database_handler ([`7396645`](https://github.com/RedHatInsights/vulnerability-engine/commit/7396645302eadbd3926948db84b09e729c670e5c))

### Test

* test: fix platform mock and tests ([`19427ad`](https://github.com/RedHatInsights/vulnerability-engine/commit/19427ada193417e149a5e98f6a54af2a531ee9fb))

## v1.8.2 (2020-01-20)

### Fix

* fix(manager): workaround for build in openshift builder

fixing microdnf error: no such package &#39;postgresql10&#39; ([`afbb8fb`](https://github.com/RedHatInsights/vulnerability-engine/commit/afbb8fbbf6756f2b5288484d1ae9571abaaeb1b4))

## v1.8.1 (2020-01-20)

### Fix

* fix(manager): install psql tool

not available from UBI8 repo, use postgresql repo ([`f24b488`](https://github.com/RedHatInsights/vulnerability-engine/commit/f24b4882781f9fd403bec4dfcb2cf8503b59a917))

## v1.8.0 (2020-01-20)

### Feature

* feat(taskomatic): add a service for running periodic tasks ([`77ed922`](https://github.com/RedHatInsights/vulnerability-engine/commit/77ed92287bba6c75a6e1c6ffd9cc231377715005))

## v1.7.3 (2020-01-20)

### Fix

* fix(metrics): Add db user for metrics cronjob with read-only access ([`0180a52`](https://github.com/RedHatInsights/vulnerability-engine/commit/0180a527b7c94ad0d09d4cb6db6a2719ab66c31f))

## v1.7.2 (2020-01-14)

### Chore

* chore(conf): update local RBAC URL ([`1ef6e67`](https://github.com/RedHatInsights/vulnerability-engine/commit/1ef6e6720ebf4dd991e13c9f1aab3579835188d2))

### Fix

* fix(manifest): fix manifest generation ([`4731eb4`](https://github.com/RedHatInsights/vulnerability-engine/commit/4731eb4d22359cba63bedc8cc39015653cc09585))

* fix(listener): add dependencies needed for archive extraction ([`ce30cb7`](https://github.com/RedHatInsights/vulnerability-engine/commit/ce30cb7fadc7d659ef27d0c2147449b432a445a2))

## v1.7.1 (2020-01-14)

### Fix

* fix(manager): provide full RBAC URL ([`0aef2b2`](https://github.com/RedHatInsights/vulnerability-engine/commit/0aef2b256bf609ba993bc57ea3ca944ea8e80561))

## v1.7.0 (2020-01-10)

### Chore

* chore: migrate to RHEL 8 UBI ([`039ab1d`](https://github.com/RedHatInsights/vulnerability-engine/commit/039ab1d5e9922355cd7f53f927c914ea9cc595a8))

### Feature

* feat: Add support for usage metrics ([`7cb0b79`](https://github.com/RedHatInsights/vulnerability-engine/commit/7cb0b79f15ee025fd5939993c6e7df6b4ddaf184))

## v1.6.3 (2020-01-10)

### Chore

* chore: migrate CentOS 7 images to RHEL 8 UBI and obsolete RHEL 7 ([`179447e`](https://github.com/RedHatInsights/vulnerability-engine/commit/179447e69f9e350aca737a5e18908db75e3234e3))

* chore: use only RHEL-based Dockerfile ([`41c02b7`](https://github.com/RedHatInsights/vulnerability-engine/commit/41c02b703d57a16675115e4e76c0ce8450d70a1b))

### Fix

* fix: obsolete Dockerfile diff test ([`6c39cb3`](https://github.com/RedHatInsights/vulnerability-engine/commit/6c39cb38f97bd44ba87bed33e2439c8ca1b82cf9))

### Refactor

* refactor: wait for postgresql without psql ([`35d1f26`](https://github.com/RedHatInsights/vulnerability-engine/commit/35d1f267ca151a2453b531421bd5dfc789a518c8))

## v1.6.2 (2020-01-10)

### Fix

* fix(manager): unify executive report and api call report by public_date

set the executive report to include the day on the edge of interval ex: public_date &gt;= (today - X) ([`e31637a`](https://github.com/RedHatInsights/vulnerability-engine/commit/e31637a4e511b440f1aa07ee732e27173a1f699a))

## v1.6.1 (2020-01-10)

### Fix

* fix(manager): pass x-rh-identity into RBAC ([`415a92a`](https://github.com/RedHatInsights/vulnerability-engine/commit/415a92a88cf888621c2db02cfad40d812678697e))

## v1.6.0 (2020-01-09)

### Feature

* feat(manager): integration with RBAC ([`ade11e3`](https://github.com/RedHatInsights/vulnerability-engine/commit/ade11e3c7edac5ee9112319f50f996d3748ac33f))

## v1.5.1 (2020-01-08)

### Fix

* fix(listener): fix storing of stale timestamps ([`d49e779`](https://github.com/RedHatInsights/vulnerability-engine/commit/d49e77917d2880ab4b46aa875d2f0e08129ccec4))

## v1.5.0 (2020-01-08)

### Feature

* feat(listener): start storing system culling timestamps ([`7340de3`](https://github.com/RedHatInsights/vulnerability-engine/commit/7340de338bf9572b20fbf8954f6f8e8a0b10b4c6))

## v1.4.2 (2019-12-11)

### Fix

* fix(listener): skip messages earlier if there are missing fields, before payload tracker reads not existing fields ([`2e18c30`](https://github.com/RedHatInsights/vulnerability-engine/commit/2e18c3018f3378bb3e4ed5066212b15749cc2e34))

## v1.4.1 (2019-12-11)

### Fix

* fix(manager): revert disable filtering by inv-id

remove it once all names are ready in all envs

This reverts commit 57b5b2202d3efa254fdc3dee022c14e589e14f30. ([`8efc855`](https://github.com/RedHatInsights/vulnerability-engine/commit/8efc85580506bd2a436d333e70324189a174cea4))

## v1.4.0 (2019-12-10)

### Feature

* feat: add payload-tracker integration ([`29432ca`](https://github.com/RedHatInsights/vulnerability-engine/commit/29432ca5c413f3663d6074d34864fd665fe2ebd3))

## v1.3.2 (2019-12-09)

### Fix

* fix(manager): disable filtering by inv-id ([`57b5b22`](https://github.com/RedHatInsights/vulnerability-engine/commit/57b5b2202d3efa254fdc3dee022c14e589e14f30))

## v1.3.1 (2019-12-06)

### Fix

* fix(listener): extract correct field ([`3a7ab6c`](https://github.com/RedHatInsights/vulnerability-engine/commit/3a7ab6c32556c21f7da80714335f2e7307f0d5db))

## v1.3.0 (2019-11-27)

### Feature

* feat: Add failed cache to remember failed upload or delete messages ([`50eb91c`](https://github.com/RedHatInsights/vulnerability-engine/commit/50eb91c87198a8095cbe64bebb661bb242031b34))

## v1.2.0 (2019-11-25)

### Feature

* feat(manager): return FQDN and filter based on FQDN ([`0178400`](https://github.com/RedHatInsights/vulnerability-engine/commit/01784001669032972045d1e9ee3b5cab2f478e6f))

* feat(listener): store system FQDN in database ([`9a58d5f`](https://github.com/RedHatInsights/vulnerability-engine/commit/9a58d5f9b0f954a2430189394a9d9c42f056ccc3))

### Refactor

* refactor(manager): VMAAS_HOST is unused ([`48ae09a`](https://github.com/RedHatInsights/vulnerability-engine/commit/48ae09a2452285c6ab2a4d69ad98b96c811b03a0))

## v1.1.4 (2019-11-21)

### Chore

* chore(scripts): add script for checking if cached counts are OK ([`0452f09`](https://github.com/RedHatInsights/vulnerability-engine/commit/0452f097a999ca772a1d9629fab8e5f2ad58efa6))

### Fix

* fix(evaluator): correctly handle malformed Kafka messages ([`e12681b`](https://github.com/RedHatInsights/vulnerability-engine/commit/e12681bfdf783fa6634ace84225c407a63cf3db7))

## v1.1.3 (2019-11-18)

### Fix

* fix(manager): fix NULL characters in /status API ([`d41a460`](https://github.com/RedHatInsights/vulnerability-engine/commit/d41a46099404ea9614487a3d05a42ec4e9afdd14))

* fix(manager): fix setting CVE attributes for accounts with 0 systems ([`e05cd22`](https://github.com/RedHatInsights/vulnerability-engine/commit/e05cd22ff33df30d791a72e38e66ef0682f39896))

## v1.1.2 (2019-11-13)

### Chore

* chore(travis): run travis also on stable branch to generate db doc ([`69044ea`](https://github.com/RedHatInsights/vulnerability-engine/commit/69044eaaea3f2ed5849b3c7e853f17ac4548adfa))

### Fix

* fix(manager): don&#39;t reuse old responses

this caused e.g. top_cves list to bloat as it wasn&#39;t reinitalized each
time ([`41ea647`](https://github.com/RedHatInsights/vulnerability-engine/commit/41ea647344aaf4330d700c071f54c7f53e228cd1))

* fix(manager): use only date for calculation of recently published CVEs ([`641b205`](https://github.com/RedHatInsights/vulnerability-engine/commit/641b20511c06b8a8b98c7f1f0fef78716ac7e13e))

## v1.1.1 (2019-11-08)

### Documentation

* docs(manager): fix typos in documentation ([`8364ed6`](https://github.com/RedHatInsights/vulnerability-engine/commit/8364ed6b5de6ec1daec7f0bdad5ad49e8db1d38f))

### Fix

* fix(manager): don&#39;t count not evaluated systems in the report ([`fd02467`](https://github.com/RedHatInsights/vulnerability-engine/commit/fd024672d66cc8a4f1f5dfe42ed9b5f4e5d59c3a))

## v1.1.0 (2019-10-31)

### Feature

* feat(manager): add reporting API ([`287297c`](https://github.com/RedHatInsights/vulnerability-engine/commit/287297c992d65bfcce6d42312f8583de701b5e5b))

## v1.0.4 (2019-10-30)

### Chore

* chore: move to pipeline-lib v3 ([`c385e13`](https://github.com/RedHatInsights/vulnerability-engine/commit/c385e13b950cc92f3e4f27fe27bb2e9b98a5587c))

### Documentation

* docs: Add db docs generations script ([`051356b`](https://github.com/RedHatInsights/vulnerability-engine/commit/051356b1a6f4a9bd60b209b134a6d7d94678119b))

### Fix

* fix(dbdocs): Fix typo in dbdocs generating script ([`8159413`](https://github.com/RedHatInsights/vulnerability-engine/commit/81594135c400b3de311e3bc9c881dc8be2e8c114))

## v1.0.3 (2019-10-30)

### Fix

* fix(listener): avoid comparing similar timestamps from different containers/machines

clocks may be slightly out of sync

better compare with last evaluation timestamp to decide if re-evaluate again

should fix unreliable re-evaluation when archive changes ([`f831016`](https://github.com/RedHatInsights/vulnerability-engine/commit/f83101640c0ad1acb8e54e520dd4d3b9807a51ae))

### Test

* test(listener): system needs to have evaluation timestamp otherwise is always considered CHANGED ([`acc2900`](https://github.com/RedHatInsights/vulnerability-engine/commit/acc29004fe8c212b9ac92e8709c4df3fc4951ebc))

## v1.0.2 (2019-10-25)

### Fix

* fix(manager): null handling in filter and sort params ([`3ed5447`](https://github.com/RedHatInsights/vulnerability-engine/commit/3ed5447e2da3207f98546d8ed941d036e6d8bc38))

## v1.0.1 (2019-10-25)

### Documentation

* docs: update README ([`962bbde`](https://github.com/RedHatInsights/vulnerability-engine/commit/962bbdeb109af840d743ac5474f4dbc0e25c3b7f))

### Fix

* fix(manager): app version can be only string ([`2d33217`](https://github.com/RedHatInsights/vulnerability-engine/commit/2d332171a90259f5d15c817db665cdd9efd95de0))

### Refactor

* refactor: new-release.sh is now obsolete ([`3d9cfca`](https://github.com/RedHatInsights/vulnerability-engine/commit/3d9cfcada480905926e5df43a62b14f358320df2))

* refactor: use version from common python module controlled by semantic-release ([`2744c3f`](https://github.com/RedHatInsights/vulnerability-engine/commit/2744c3f844c9ee5fc51af87dd82f3c1539f51c67))

### Test

* test: fix test for semantic-release versioning ([`c86b5e4`](https://github.com/RedHatInsights/vulnerability-engine/commit/c86b5e4249674bc8559ec1babc82aa35602de99f))

## v1.0.0 (2019-10-23)

### Unknown

* enable semantic release ([`0cbdc85`](https://github.com/RedHatInsights/vulnerability-engine/commit/0cbdc8579378e8f9668ec3af2b78a96a79f1908d))

* Fix status_handler not syncing for opted_out systems ([`821fa54`](https://github.com/RedHatInsights/vulnerability-engine/commit/821fa544f968abe716d578957dbfec389c103978))

* correctly get list of repositories and add debug message how many systems is scheduled ([`8692f62`](https://github.com/RedHatInsights/vulnerability-engine/commit/8692f6203bf7a5c1cc6d4922524fba1d98d48e7a))

* Typo ([`46ce2a7`](https://github.com/RedHatInsights/vulnerability-engine/commit/46ce2a7b934901b8839f6faecbf26182289124b6))

## v0.18.0 (2019-10-11)

### Chore

* chore(pylint): increase line lenghth to 160

800x600 px monitors are thing of the past ;-) ([`6e22614`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e2261408884bfa8539d7635561ffbbb9c7826b0))

### Fix

* fix(metrics): fix missing endpoint name ([`f1cb166`](https://github.com/RedHatInsights/vulnerability-engine/commit/f1cb16622af8444fbc7d22f29b80448c1097321b))

* fix(cvss-filtering): filter by v2 score if v3 is not available ([`edee2b5`](https://github.com/RedHatInsights/vulnerability-engine/commit/edee2b52d30b58ad2ab70a64d0256e4ab7024d8b))

### Unknown

* add initial ocupgrader config ([`e2d898e`](https://github.com/RedHatInsights/vulnerability-engine/commit/e2d898e27e7a4d39fb9acfc68ac1a45c11f0d452))

* increase performance a bit ([`255d066`](https://github.com/RedHatInsights/vulnerability-engine/commit/255d0661c91b475acbb5293abb7ba00ae28053e8))

* treat list of empty strings as invalid input ([`05905ca`](https://github.com/RedHatInsights/vulnerability-engine/commit/05905ca12334a4730ee8c8a37d2524c627109a54))

* strip leading and trailing spaces when parsing a string ([`9d86084`](https://github.com/RedHatInsights/vulnerability-engine/commit/9d8608453df6faffbc8dd4a714943de7bad68ad4))

* fix a nasty bug when empty value can cause omiting on input parsing ([`e3ced9e`](https://github.com/RedHatInsights/vulnerability-engine/commit/e3ced9efcfe4a3e1ddbb8faac1d57e424cbe0edd))

* Unify error handling between different request handlers, handle database errors

 To resolve: do we want to report str(exc) or customized error message for DataErrors ? ([`b56f7c3`](https://github.com/RedHatInsights/vulnerability-engine/commit/b56f7c332c2c0eb076abce78e27a80ebd11e35da))

* Fix ISE when receiving \u0000 in inventory_id

This ISE was caused by ValueError being thrown by postgres driver, added validation
for this specific endpoint, that removes invalid strings, might wanna show 404 by default
when a handler raises a ValueError ([`16f946f`](https://github.com/RedHatInsights/vulnerability-engine/commit/16f946f45fe9e89b1ffeb9a38dca47b3de75683c))

* update grafana dashboard ([`2d8978c`](https://github.com/RedHatInsights/vulnerability-engine/commit/2d8978c1caf4778e1c78dd1c3c85e0801c72566f))

* include cve_status_id in list views ([`7350974`](https://github.com/RedHatInsights/vulnerability-engine/commit/73509743641c5d967e402356875eb0c70d974a44))

## v0.17.0 (2019-10-02)

### Unknown

* fix a nasty bug when whole cve_account_data table is wiped ([`00de254`](https://github.com/RedHatInsights/vulnerability-engine/commit/00de2546ed350cc47302e8925c79a27c5b04d051))

* fix incorrect evaluation of divergent count ([`f54efea`](https://github.com/RedHatInsights/vulnerability-engine/commit/f54efeaf614f9efe1885bc853202e41acbbfdacb))

* fix incorrectly set account id ([`f2b4f01`](https://github.com/RedHatInsights/vulnerability-engine/commit/f2b4f0156bfe6d8786b5c67483085ee9c3b31fa3))

* fix 500 error when specified CVE doesn&#39;t exist ([`cb4ae64`](https://github.com/RedHatInsights/vulnerability-engine/commit/cb4ae649541f8682bb1cfc0c6f2474fea41da00d))

* first_reported should not be updated when CVE occurs again ([`f828b16`](https://github.com/RedHatInsights/vulnerability-engine/commit/f828b1690d228b00f3b02e984a8cd6b218af0072))

* Fix error code when status value is invalid big integer ([`44282bc`](https://github.com/RedHatInsights/vulnerability-engine/commit/44282bcb2a6f27184839003b01a2e24c434783e4))

* return systems_status_divergent in APIs ([`0d38f7e`](https://github.com/RedHatInsights/vulnerability-engine/commit/0d38f7e480387ed9d7ce8164250337283281ea19))

* update systems_status_divergent when opting out/in system ([`76ecb6a`](https://github.com/RedHatInsights/vulnerability-engine/commit/76ecb6af226db0d1d0674bd4422e63b7c7386cc8))

* update systems_divergent_status when changing status of system-CVE pairs ([`a48379f`](https://github.com/RedHatInsights/vulnerability-engine/commit/a48379fa514dd262c076de88b822f041cd0e8198))

* re-count divergent system-cve pairs when CVE-level status is changed ([`9caab3d`](https://github.com/RedHatInsights/vulnerability-engine/commit/9caab3d62480304ef4a30af354590d4d3bdadd6c))

* update divergent status count in evaluation ([`c9a7b27`](https://github.com/RedHatInsights/vulnerability-engine/commit/c9a7b2763a7156373718851bb09873f2a7ea89d1))

* introduce new systems_status_divergent attribute saying how many systems have different status than is on CVE level ([`01cec13`](https://github.com/RedHatInsights/vulnerability-engine/commit/01cec13814d92638f67e9d77037bd9f8c5551fcf))

## v0.16.0 (2019-09-26)

### Unknown

* add smoke tests conf ([`7f0c911`](https://github.com/RedHatInsights/vulnerability-engine/commit/7f0c9116453ec992d9c624ac1c21b8050c31b5ca))

* fix none type traceback ([`08a30e9`](https://github.com/RedHatInsights/vulnerability-engine/commit/08a30e982d9737305a306a30a901ea3e8074bbd7))

* don&#39;t trigger alerts when evaluator.recalc queue exceeds 100

use more sane number instead ([`9c1a508`](https://github.com/RedHatInsights/vulnerability-engine/commit/9c1a508817669675877f232ef46d37d14f234134))

* Fix return 500 when string is NULL in PATCH operations ([`8a0fc89`](https://github.com/RedHatInsights/vulnerability-engine/commit/8a0fc89d10f1bc8742320f301e80f836cc1379d8))

* delete unused preserve_individual parameter ([`71bb0a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/71bb0a18350d5e0e2bdbfa8f7e0e4f0911ed7165))

* Fix 500 error when string is NUL ([`3340dcc`](https://github.com/RedHatInsights/vulnerability-engine/commit/3340dcc95b80982ca5b1363ab583ed0a0b600327))

* display systems counts for each status ([`c8d8ee3`](https://github.com/RedHatInsights/vulnerability-engine/commit/c8d8ee3565f859c3aed5da58bccd473e4d0a5795))

* Delete cves with pagination refactoring ([`1af1d01`](https://github.com/RedHatInsights/vulnerability-engine/commit/1af1d010ceaa628c5afa12ef2a477a6965b6eebb))

* vmaas-sync fetches all pages of updated repos + paging module ([`f17b4bb`](https://github.com/RedHatInsights/vulnerability-engine/commit/f17b4bb118c38acc4a8266cdfc5c2b1d3d102070))

* silence pipev pointles messages in tests ([`c7d0c24`](https://github.com/RedHatInsights/vulnerability-engine/commit/c7d0c2464e10b903487d4772e75364dcd22cb7f0))

* fix vmaas sync tests with new data ([`bc77965`](https://github.com/RedHatInsights/vulnerability-engine/commit/bc77965dfcee6d91cee23671b42576d28a1c48c6))

* don&#39;t cast flags object into integer ([`51d180e`](https://github.com/RedHatInsights/vulnerability-engine/commit/51d180ed3e2b4aa3e939fa0ad6842b2856d4eff3))

* improve query a bit ([`ad3a5ad`](https://github.com/RedHatInsights/vulnerability-engine/commit/ad3a5ade87cef455e942f192fc6639d1938c949f))

* fix records coming from different org in /systems/{id}/cves api ([`0018f7c`](https://github.com/RedHatInsights/vulnerability-engine/commit/0018f7cdd19f4ee52062740cdb8a5282d38714bb))

* fix test name ([`f21ed6d`](https://github.com/RedHatInsights/vulnerability-engine/commit/f21ed6dd983bb176b88e76a94b6e315c16544cf4))

* a test record was deleted by accident ([`8fd15dc`](https://github.com/RedHatInsights/vulnerability-engine/commit/8fd15dc0d72125533ab2d1af634577a9fb37876d))

* if show all is not set don&#39;t return CVEs with 0 systems (with status) ([`1d6d141`](https://github.com/RedHatInsights/vulnerability-engine/commit/1d6d14183e0465f6fe76cbf70cc324bf990f8a80))

* vmaas_sync user needs to delete from cve_account_data table ([`2d66c6b`](https://github.com/RedHatInsights/vulnerability-engine/commit/2d66c6bd5c8d690ef204c8068e577ecae56985e2))

* cve_affected_systems_cache table no longer exists ([`9f5295d`](https://github.com/RedHatInsights/vulnerability-engine/commit/9f5295d4740073f1299266a55677157469341dab))

* cve_affected_systems_cache table no longer exists ([`52ddf54`](https://github.com/RedHatInsights/vulnerability-engine/commit/52ddf54212442caf9ab4deb18f06edb3e7af63ca))

* Fix None Type traceback ([`3cfeb84`](https://github.com/RedHatInsights/vulnerability-engine/commit/3cfeb84e164e4c495e700e3fbbe621ae50aa0eed))

* Fix nist cve PR traceback ([`a5b0c65`](https://github.com/RedHatInsights/vulnerability-engine/commit/a5b0c654aac0ad149a7fded469592722800f66b4))

* Merge branch &#39;tkasparek-missing-grant&#39; ([`24219c9`](https://github.com/RedHatInsights/vulnerability-engine/commit/24219c9347ab78fad2f45335fd32b3e50b197a34))

* remove grant on deleted table ([`0de4e3e`](https://github.com/RedHatInsights/vulnerability-engine/commit/0de4e3ebdd5cedacb6fe4a0f523ec5e5664c6927))

* Fix same name for two upgrade scripts ([`b218742`](https://github.com/RedHatInsights/vulnerability-engine/commit/b2187421fba4f5bd2a2ae0f82588bdf6f03930ee))

* Migrate data from cve_affected_systems_cache table to cve_account_data table ([`64a1254`](https://github.com/RedHatInsights/vulnerability-engine/commit/64a12542f7411b5bf56a19503493da0d6c105005))

* Add cve delete handler ([`8d90865`](https://github.com/RedHatInsights/vulnerability-engine/commit/8d9086549894e5c0124956e80a09c312a19c45f6))

* Add deleteing from cve_affected_systems_cache table ([`62e1f90`](https://github.com/RedHatInsights/vulnerability-engine/commit/62e1f9091dec941c518de5b0e195b25ff314b844))

* Fix vmaas_sync tests ([`abe4469`](https://github.com/RedHatInsights/vulnerability-engine/commit/abe446937ff3f5a54077e1335d0a4f39764af5f2))

* Add deleteing cves from ve_engine database ([`434f0b4`](https://github.com/RedHatInsights/vulnerability-engine/commit/434f0b4cfd803421e2af5343fff2e3bd2941caa7))

* set also status for CVEs which has no system in across all orgs ([`79b94f1`](https://github.com/RedHatInsights/vulnerability-engine/commit/79b94f117335fb1db20731afbc54f29b4ac9ad74))

* extend the test data a bit ([`a8744f6`](https://github.com/RedHatInsights/vulnerability-engine/commit/a8744f6276346d65507804394d818e61e9f40b86))

* re-factor CVE sorting to be defined outside _apply_sort method ([`43fa560`](https://github.com/RedHatInsights/vulnerability-engine/commit/43fa56042fcb3812e5de3964c98ac2e8082a649e))

* Add CVE sorting according to the string representation ([`f572782`](https://github.com/RedHatInsights/vulnerability-engine/commit/f57278205a571cdc2f1aa48ff9ee834d2452b907))

* Add reconnection to manager service ([`325b7a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/325b7a1b7e439e8fd3131d50f676463498541fe0))

* Add recovering connection to database ([`6ae17d4`](https://github.com/RedHatInsights/vulnerability-engine/commit/6ae17d47c4aa6a1c2c9befeead502aaeb442418f))

* set text to NULL when there&#39;s blank string incoming

also remove leading and trailing spaces ([`fe2e266`](https://github.com/RedHatInsights/vulnerability-engine/commit/fe2e2662969eb6f5d622240836fbfd6901bb70f3))

* allow business_risk_text and status_text to be set to null ([`af476a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/af476a1192264f9b5700e73e4ff83cd61dcd686b))

* for columns sorted by id, allow to sort by keyword with or without _id suffix ([`4882cb5`](https://github.com/RedHatInsights/vulnerability-engine/commit/4882cb5a29a43f9fcaeaeea595678c7db6c91fc2))

* don&#39;t update images ourselves ([`281eb78`](https://github.com/RedHatInsights/vulnerability-engine/commit/281eb7854ad0bc6b7fdc8e7d686541a81a3aaff4))

* make status_text an attribute of system-cve pair ([`0862334`](https://github.com/RedHatInsights/vulnerability-engine/commit/0862334c16af5d015b50ace4b789bff544149063))

* move data preparation into separate method ([`95ca1b8`](https://github.com/RedHatInsights/vulnerability-engine/commit/95ca1b89cf06a34a06f150626fa95b1afbedf98c))

* fix incorrect comments ([`65ac8bf`](https://github.com/RedHatInsights/vulnerability-engine/commit/65ac8bf08b12b3edee00a7f2bdf9054286c70ae4))

* allow to omit inventory_id list to change status for all user&#39;s systems at once ([`e777c51`](https://github.com/RedHatInsights/vulnerability-engine/commit/e777c516128499d914adc48e464ef04de276cd8c))

* report back what has been updated instead of empty string ([`d00850b`](https://github.com/RedHatInsights/vulnerability-engine/commit/d00850b3e40823558f0e9d1b6903147e3e57dfe8))

* make status_id optional, use CVE-level status if not specified ([`465f6d1`](https://github.com/RedHatInsights/vulnerability-engine/commit/465f6d1a10c05782d44d779f9b8c7c5a23f4e782))

* support setting status for a CVE ([`b03f860`](https://github.com/RedHatInsights/vulnerability-engine/commit/b03f860337414b9b0c2e13e1e7d601ef4cca9813))

* input parameter should be called business_risk_id + make it required in the response ([`17af7d3`](https://github.com/RedHatInsights/vulnerability-engine/commit/17af7d31dc864ffc9f74ce968290cbfb4fa6a68d))

* enhance status API to support bulk updates ([`3373653`](https://github.com/RedHatInsights/vulnerability-engine/commit/337365395fa7786f6649df0620d2d35fbf524e66))

* add iso format to last_upload for csv ([`1b1b2f2`](https://github.com/RedHatInsights/vulnerability-engine/commit/1b1b2f21fd106a8d6793c141eb90d6ef64faa75f))

* increase number of max connections ([`e5da968`](https://github.com/RedHatInsights/vulnerability-engine/commit/e5da9689df3418c95154731f32fa44533c943007))

* Update tests ([`89e8e1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/89e8e1c3666a97a28841bb642b080c70b6ee6133))

* Remove vmaas call and add cve data to cve_metadata table ([`ad73158`](https://github.com/RedHatInsights/vulnerability-engine/commit/ad731582c78c69cfae77820443fb13f17f765469))

* Change empty strings to None in systems and vulnerabilities/cves handlers ([`b23be6a`](https://github.com/RedHatInsights/vulnerability-engine/commit/b23be6aaa233051b155aab15896a42599fb32e5f))

* no need to install git ([`6fdae82`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fdae828627aac4de70c932a60b926571013f4b0))

* change push script to commit using github API ([`fd6508a`](https://github.com/RedHatInsights/vulnerability-engine/commit/fd6508a46b2789ec55f88914eca37dcad6ddce4b))

* simplify manager startup ([`86d4c44`](https://github.com/RedHatInsights/vulnerability-engine/commit/86d4c44ab596c4a36a84c1416ec18bdadeaedcd0))

* store number of API calls per account in metrics ([`a230c02`](https://github.com/RedHatInsights/vulnerability-engine/commit/a230c02571ad45e99be470ef65de55bc24496b3d))

* create script for pushing manifests and include it in containers ([`c4d7f09`](https://github.com/RedHatInsights/vulnerability-engine/commit/c4d7f09eff1f4b56948ee5fe8a3621ac702305c4))

* include only relevant RPMs in manifest ([`bddb052`](https://github.com/RedHatInsights/vulnerability-engine/commit/bddb0526fc25317ddc023c84f3fd2661ac72a1e8))

* fix warnings about missing LANG ([`50b6263`](https://github.com/RedHatInsights/vulnerability-engine/commit/50b62635753e34006c03160b02894d225a20e2d2))

* optimize dockerfiles, add code at the end ([`70ace09`](https://github.com/RedHatInsights/vulnerability-engine/commit/70ace09b1d43102528d57c5d6567b8f07a946112))

* updated manifest generator script doc string ([`440063e`](https://github.com/RedHatInsights/vulnerability-engine/commit/440063eaad7cf5efff025c04963baa538aa10f2a))

* updated .travis.yml to use pipenv ([`4ebe425`](https://github.com/RedHatInsights/vulnerability-engine/commit/4ebe425b0c936a92adbd154d80be835901b84cb2))

* added Pipfile and Pipfile.lock for tests ([`2fbdc55`](https://github.com/RedHatInsights/vulnerability-engine/commit/2fbdc55512dc963c5825d45defdaa8df5f32d1ae))

* updated platform-mock deps ([`42e54d4`](https://github.com/RedHatInsights/vulnerability-engine/commit/42e54d495feec1387237c6a1e144035d27cbc2d6))

* used pipenv for components deps management ([`d0ccb4d`](https://github.com/RedHatInsights/vulnerability-engine/commit/d0ccb4d9b56960b78e345c5fb6377a5540628be1))

* test for business risk feature ([`6fa245d`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fa245d528c9ae8adb3b04acce0fdc6b5d1ec582))

* display business risk information ([`25c90d2`](https://github.com/RedHatInsights/vulnerability-engine/commit/25c90d2d2b8718430bed53a780bfcdd88a7e3c8f))

* add API for setting business risk ([`43b49f1`](https://github.com/RedHatInsights/vulnerability-engine/commit/43b49f13df12e47afc2e7ec04a38060d1b43fffc))

* schema changes for business risk feature ([`d4fc67b`](https://github.com/RedHatInsights/vulnerability-engine/commit/d4fc67b0323a5d881ca9187973f281095afcf273))

* revert kafka client version due to problems in production ([`5cadbbe`](https://github.com/RedHatInsights/vulnerability-engine/commit/5cadbbeb5c119be3c939ebdc05fb6913c2574903))

## v0.15.0 (2019-08-13)

### Unknown

* improved scripts/new-release.sh syntax ([`9d546ad`](https://github.com/RedHatInsights/vulnerability-engine/commit/9d546ada5fcabda7e2fa6735f0cecc9ae04a64c6))

* renamed INSIGHTS_VULNERABILITY_VERSION to generic name APP_VERSION ([`8db4d03`](https://github.com/RedHatInsights/vulnerability-engine/commit/8db4d03f3641492da9e5cf64061941fab762de5f))

* added deps manifest to dockerfiles, added manifest generator script ([`f481f39`](https://github.com/RedHatInsights/vulnerability-engine/commit/f481f39b862e6f9bb2b40f092ccda4be236c0d04))

* fix devel compose to use split evaluator containers ([`985329e`](https://github.com/RedHatInsights/vulnerability-engine/commit/985329e2e40bad39713c1c80b305f6f4870daf32))

* added docs for metrics tuning ([`dd4cbdd`](https://github.com/RedHatInsights/vulnerability-engine/commit/dd4cbdd71b389d613d2a992456602c9cd768d308))

* split evaluator to recalc and upload instances

like in production and because of dev monitoring containers (Grafana and Prometheus)
recalc and upload instances have separate metrics labeled with different
kubernetes_name labels ([`f419c97`](https://github.com/RedHatInsights/vulnerability-engine/commit/f419c976876066cdff8279a1622d6b22b6aecdb6))

* added dev Prometheus and Grafana containers and Grafana board ([`21ed0b8`](https://github.com/RedHatInsights/vulnerability-engine/commit/21ed0b8c9e0747dcbcf8b6ae6f98d50d68e2a10d))

* locked testing deps ([`b970c63`](https://github.com/RedHatInsights/vulnerability-engine/commit/b970c6380925b1a325c1500948bddb9c2bef1d07))

* fixed PatchStatus handler due to peewee update ([`2d57e5e`](https://github.com/RedHatInsights/vulnerability-engine/commit/2d57e5e223f77089fb8c32b32a06dd33bc30ffe9))

* updated python package versions ([`a88a9b7`](https://github.com/RedHatInsights/vulnerability-engine/commit/a88a9b7746204e0e8ca0e3c172508296d4997f2d))

* mitigate only when system-cve pair wasn&#39;t mitigated before ([`5c9743f`](https://github.com/RedHatInsights/vulnerability-engine/commit/5c9743fbef7409e7c360b01d43d23eb3aad52efb))

* add test to ensure mitigated timestamp doesn&#39;t update multiple times ([`84aeaf3`](https://github.com/RedHatInsights/vulnerability-engine/commit/84aeaf314331186cb71bff70683bf578a00e14dc))

* simplified components Dockerfiles

removed scl-enable.sh usage
used python3 by default ([`dba4fbc`](https://github.com/RedHatInsights/vulnerability-engine/commit/dba4fbc38eae61060d81afc9b50dcc74ee4a514b))

* Fix typo in log message ([`1725013`](https://github.com/RedHatInsights/vulnerability-engine/commit/17250130c4e3bd2f3e193f4e5a0d884fb151d1ef))

* fixed rh_account_number pairing in SystemCvesView ([`bc69834`](https://github.com/RedHatInsights/vulnerability-engine/commit/bc69834f1888773f8709dd592a8cefdcf7c861a0))

* simplified command to open database terminal in README.md ([`868ee6e`](https://github.com/RedHatInsights/vulnerability-engine/commit/868ee6e88d1855bfc99123cda2517300f00126bf))

* replaced rh_account with rh_account_id in python code ([`ed2714d`](https://github.com/RedHatInsights/vulnerability-engine/commit/ed2714dbc5ec257493418f09030fc8833ca457c6))

* added rh_account table and used rh_account_id foreign key ([`8520ac4`](https://github.com/RedHatInsights/vulnerability-engine/commit/8520ac4ae498614ce27059e250cf49a72746540b))

* allow bulk opt_out changes ([`20c6622`](https://github.com/RedHatInsights/vulnerability-engine/commit/20c66228e3e346be5078d6860ee1195a6f6b498d))

* Update README.md ([`1407807`](https://github.com/RedHatInsights/vulnerability-engine/commit/140780785c4c4d4302e32e110ec5a00004547324))

## v0.14.0 (2019-07-31)

### Unknown

* get rid of CVE ID map ([`308c6fc`](https://github.com/RedHatInsights/vulnerability-engine/commit/308c6fc12a28fe60836442c53377525df282d645))

* Fix last_upload field for empty database fields. ([`b402336`](https://github.com/RedHatInsights/vulnerability-engine/commit/b4023362b063985d494333f88fbc0ef7f16e38b7))

* fix tests ([`02ecf0b`](https://github.com/RedHatInsights/vulnerability-engine/commit/02ecf0b9027e36ac2bf832bebbbc86f9fbb7bfdd))

* re-factor ListView class, remove all pylint disables ([`36297a9`](https://github.com/RedHatInsights/vulnerability-engine/commit/36297a9b1c0e6d997f5bfa5e04e43f6e11a1e154))

* set default sorting column for various APIs ([`759a632`](https://github.com/RedHatInsights/vulnerability-engine/commit/759a6327d29d0e4d4dde51850498382605f54d3b))

* support default sorting column in list view ([`7fcf258`](https://github.com/RedHatInsights/vulnerability-engine/commit/7fcf258c791ec03b26f01a9c115e3df47218ab1d))

* Add last_seen field in DB for latest archive uploads. ([`134570b`](https://github.com/RedHatInsights/vulnerability-engine/commit/134570b3ba4fdf71e5c5f4cbd1c975076ac7925a))

* don&#39;t lookup CVE ids while we already have in another data structure ([`a5345e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/a5345e6b560e5fb143e35324565318d86d7fa858))

* update new release script to rebase on top of stable ([`506e9bf`](https://github.com/RedHatInsights/vulnerability-engine/commit/506e9bfe951307f222edd6e7c646a69116ba3895))

* Fix /systems/{inventory_id} empty last_evaluation return 500. ([`e663f7e`](https://github.com/RedHatInsights/vulnerability-engine/commit/e663f7eb1f6ad347647fe0199842850894f441d9))

* propagate event loop to successfuly send webhooks message ([`9bb067d`](https://github.com/RedHatInsights/vulnerability-engine/commit/9bb067da15378c3a737120636610210361c08acb))

* Add supporting multiple threads ([`5c96792`](https://github.com/RedHatInsights/vulnerability-engine/commit/5c96792e4545a6ee715569ad0552114b6f5060dc))

* Move on_thread_done to utils/ ([`7b8e975`](https://github.com/RedHatInsights/vulnerability-engine/commit/7b8e9751bee80111b3d190cd7e4641edfac3298e))

* Fix opted out systems returned wrong number of items ([`4aef2c2`](https://github.com/RedHatInsights/vulnerability-engine/commit/4aef2c2f33be5d6d1471da411b65ca7a9607914b))

* Change &#34;severity&#34; to &#34;impact&#34; for APIs ([`8baf677`](https://github.com/RedHatInsights/vulnerability-engine/commit/8baf67730eb920d57b7d4495f21fa58364f52728))

* run smoke tests against PR to stable branch ([`f75f57f`](https://github.com/RedHatInsights/vulnerability-engine/commit/f75f57fdcff9aa24cf079605a2639edb5cfcafbc))

* strict validation should be default ([`c36545c`](https://github.com/RedHatInsights/vulnerability-engine/commit/c36545c30f855f45f9aea7432bcb2cf040f5ea5c))

* optimze evaluation using CVE ids ([`fb1a426`](https://github.com/RedHatInsights/vulnerability-engine/commit/fb1a426d86a7fba24106c2043091603f8adeea73))

* /systems/{inventory_id}/cves opted out systems now returns empty data. ([`8bc1f8a`](https://github.com/RedHatInsights/vulnerability-engine/commit/8bc1f8a410faad15d71f5df4ae2bc8a73b4c869e))

* base test container on Fedora 29

Fedora 27 has PostgreSQL 9.6 while Fedora 29 has PostgreSQL 10 and we&#39;re
running PG 10 in production (and the code is written with PG 10) syntax
which was causing some issues in the tests (dbupgrade test mainly) ([`1cc30c4`](https://github.com/RedHatInsights/vulnerability-engine/commit/1cc30c44c1cd85895993c0b855b02efef03acc60))

* use swagger UI provided natively instead of extra container ([`2c0b494`](https://github.com/RedHatInsights/vulnerability-engine/commit/2c0b494ed990f41ee49cf7a81da7b2d584ff0c1b))

* wait a bit before retrying request ([`b64c9d1`](https://github.com/RedHatInsights/vulnerability-engine/commit/b64c9d16892abbfe6d13b83463f780847a46d2b6))

* /systems API returns null CVEs for opted-out systems ([`a46611a`](https://github.com/RedHatInsights/vulnerability-engine/commit/a46611acccfa6330e1ac888b5d6c3e866a9cce52))

* fix key-error during vmaas sync re-evaluation ([`f9b8545`](https://github.com/RedHatInsights/vulnerability-engine/commit/f9b8545ce4e84cd035de74d8289cb91dfc2abec7))

* limit ammount of fetched data from database ([`8cc51bd`](https://github.com/RedHatInsights/vulnerability-engine/commit/8cc51bd5d00e42a9ac0a4596aa21f4258a314585))

* fix a key error in logger output ([`0879640`](https://github.com/RedHatInsights/vulnerability-engine/commit/08796406a190cf928e6bcb2d12e2095883da90b1))

* use IDs for system_platform and cve_metadata tables in vmaas_sync ([`5868f51`](https://github.com/RedHatInsights/vulnerability-engine/commit/5868f515150c4bd2c2ea01c78fc423588dc88f99))

* use IDs for system_platform and cve_metadata tables in manager ([`8706e72`](https://github.com/RedHatInsights/vulnerability-engine/commit/8706e7259ab3642082d6ca7719f63ab14ca95803))

* use IDs for system_platform and cve_metadata tables in listener ([`6fcfb2e`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fcfb2e080bfe7d94a9a93d42fc6de74908a847b))

* use IDs for system_platform and cve_metadata tables in evaluator ([`36bdfdb`](https://github.com/RedHatInsights/vulnerability-engine/commit/36bdfdba5a38fa575d2cbee86f2b2e3c6283ba62))

* don&#39;t enforce ordering of columns in schema upgrade test

causes issues when a new column is added via ALTER TABLE as the new
column is appended to the end, while in the schema initialization script
it should be put at the top ([`2b9a318`](https://github.com/RedHatInsights/vulnerability-engine/commit/2b9a3183997012d8e9819b27ad421a5981bdb11b))

* use serial IDs for system_platform and cve_metadata ([`ce2fd0f`](https://github.com/RedHatInsights/vulnerability-engine/commit/ce2fd0fce4a36b7d3298772be2023adf8ca50975))

* update version in RHEL Dockerfile ([`dd6726a`](https://github.com/RedHatInsights/vulnerability-engine/commit/dd6726a783870a71085ec45cb72eda1c6eb1cd10))

* Readme.md upgraded with switching into database and running database terminal ([`04ef226`](https://github.com/RedHatInsights/vulnerability-engine/commit/04ef2260d761854087044d3dee1b6b79e70a1f40))

## v0.13.0 (2019-07-15)

### Unknown

* don&#39;t delete from main repo table and use cache for repo IDs

make sure repo list is list

fix tests ([`d5aaf39`](https://github.com/RedHatInsights/vulnerability-engine/commit/d5aaf391d9db99e5d8e8add3c45ccd3b000f2a00))

* Add requirements check for the CI pipelines. ([`602555f`](https://github.com/RedHatInsights/vulnerability-engine/commit/602555f2faa66a487908f22253bb1bea5f5c50e6))

* Edit requirements.txt ([`40a13cc`](https://github.com/RedHatInsights/vulnerability-engine/commit/40a13ccf560454abb2e7845bf6818cec01208d63))

* parse only repos in redhat.repo ([`14d3688`](https://github.com/RedHatInsights/vulnerability-engine/commit/14d3688ba55cb647220fc0954b7f862bffd0fe2a))

* remember only systems deleted on platform level ([`aae13f6`](https://github.com/RedHatInsights/vulnerability-engine/commit/aae13f60a8e4053788e8ba195a0428275a228551))

* vmaas request code refactoring ([`e72b479`](https://github.com/RedHatInsights/vulnerability-engine/commit/e72b479246660ddc1d7ba9b6c38b46c588538b95))

* remove satellite managed feature ([`bb848b3`](https://github.com/RedHatInsights/vulnerability-engine/commit/bb848b348c8a78b8f32e78a4b57a60a759f91909))

* enable smart_management entitlement check for uploaded archives ([`1c0835c`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c0835c10c09e0c1e201fc66b723a5c3f32bcfe3))

* include uploader&#39;s b64_identity in platform message ([`1ba9d94`](https://github.com/RedHatInsights/vulnerability-engine/commit/1ba9d945235485bf4f61d376b2df6b84cf34fa0e))

* teach 3scale-mock to not have smart_management entitlement ([`d5331a9`](https://github.com/RedHatInsights/vulnerability-engine/commit/d5331a9245ef0de5655584ec5ab91e324a5a08a6))

* disable sessions for vmaas API to balance load ([`86a6ba5`](https://github.com/RedHatInsights/vulnerability-engine/commit/86a6ba51b2d67f4911c066c2c671a889962c3bd3))

* Data format should be present in meta. ([`03967ae`](https://github.com/RedHatInsights/vulnerability-engine/commit/03967ae0bbe68dfc8acde47b2928496f4dd86b0e))

* simplified test method names

due to pylint ([`02829d8`](https://github.com/RedHatInsights/vulnerability-engine/commit/02829d82d2790a04f539049a7412290c9d45bebe))

* added last repo-based eval timestamp to database ([`72d8a4f`](https://github.com/RedHatInsights/vulnerability-engine/commit/72d8a4f719ffc3a92b030cd51caec7b83791e8aa))

* added timestamp_kv db table ([`97b1de0`](https://github.com/RedHatInsights/vulnerability-engine/commit/97b1de0c20da41da54006be310471e8237b9eaff))

* added vmaas request to repo endpoint

repo_based param
added repo-based re-evaluation test ([`849d11e`](https://github.com/RedHatInsights/vulnerability-engine/commit/849d11eb9bf8569442decdb4c791e8c2c7c67bcf))

* added tests for inventory_ids selecting ([`3fd11e1`](https://github.com/RedHatInsights/vulnerability-engine/commit/3fd11e17b0dc3c5e717e95b4717f90a7f0b5db3c))

* added env param to enable repo-based recalculation ([`c46ede6`](https://github.com/RedHatInsights/vulnerability-engine/commit/c46ede623b7021e2e3df6ecd5ea715769aef1990))

* added testing db items to repo and system_repo tables ([`d0bd528`](https://github.com/RedHatInsights/vulnerability-engine/commit/d0bd5285ba3e5fde3adcbf54d3d1f1aba7f2d4e3))

* removed unused counter CANNOT_CNX ([`d5bd563`](https://github.com/RedHatInsights/vulnerability-engine/commit/d5bd563156119253d727b6e205cb0ea74a4fe8c8))

* Added LICENSE file GPLv2 ([`684ebc6`](https://github.com/RedHatInsights/vulnerability-engine/commit/684ebc6e01f81184103849f8a42bf2518a901224))

* upgraded insights-core version ([`f7e51be`](https://github.com/RedHatInsights/vulnerability-engine/commit/f7e51be792ece6196522bf121f6707c35fd2e94f))

* upgraded pyyaml version

to fix security issuer reported by GitHub ([`2ca25ca`](https://github.com/RedHatInsights/vulnerability-engine/commit/2ca25cad72bdeecb5c44b9b50af4d63f1e8993da))

* match schema only for path with valid method ([`46ae29b`](https://github.com/RedHatInsights/vulnerability-engine/commit/46ae29b26b521e581f1de98ebec912009c9200fd))

* test system deletion ([`f09524c`](https://github.com/RedHatInsights/vulnerability-engine/commit/f09524ce26d680ac5704b935aebca7aa939b6a0e))

* support deleting systems using API to fix inconsistent states ([`3395ddc`](https://github.com/RedHatInsights/vulnerability-engine/commit/3395ddc675f7c9e190cf137600b317ad4581569b))

* move delete system to database function ([`b7a6830`](https://github.com/RedHatInsights/vulnerability-engine/commit/b7a6830b9df0b1e17f3e072cdce0f513503df906))

* check if kafka lib is installed, skip if not ([`58f2fb8`](https://github.com/RedHatInsights/vulnerability-engine/commit/58f2fb83480aabfc8d9c11eb82b488ac68edefbe))

* added db import methods for repo and system_repo tables

and tests ([`5496cd6`](https://github.com/RedHatInsights/vulnerability-engine/commit/5496cd6726561f2dd0cc9f9db58ea1fe2f26264f))

* added repo and system_repo tables ([`d820d7c`](https://github.com/RedHatInsights/vulnerability-engine/commit/d820d7c0875effacac210a4d4c9e34a101205787))

* Fix data field displaying, and `meta` section ([`fb897f0`](https://github.com/RedHatInsights/vulnerability-engine/commit/fb897f0d373d18fd6b198aa63dcc2b22647728be))

## v0.12.0 (2019-07-01)

### Unknown

* limit number of test cases by changing import ([`2d1086a`](https://github.com/RedHatInsights/vulnerability-engine/commit/2d1086a53ba725375681d2d5f496ec47775845ac))

* variables cleanup - remove duplicates, add missing, remove unused

remove unused API_VERSION

add RETRY_INTERVAL config

add WEBHOOKS_TOPIC config

add cloudwatch variables ([`069a6b2`](https://github.com/RedHatInsights/vulnerability-engine/commit/069a6b261bb33f2cb5a2333f27362b685b92443e))

* add simple test to compare variables used in code and conf/*.env files

add test for searching duplicated variables in env files

db upgrade script is executed manually in local environment, doesn&#39;t have env variables related to any service

register_webhooks script is executed manually in local environment, doesn&#39;t have env variables related to any service

ignore cloudwatch secret variables ([`162feb3`](https://github.com/RedHatInsights/vulnerability-engine/commit/162feb3de9ea9692f680d1ba57fcb5c758e31b25))

* add an API providing system details ([`caa42bd`](https://github.com/RedHatInsights/vulnerability-engine/commit/caa42bd55578773c881d618e62cbbee453430ebd))

* allow to set status for opted out system ([`dd27930`](https://github.com/RedHatInsights/vulnerability-engine/commit/dd279302be937e2c49ee0548dcc7419529801c1d))

* don&#39;t throw 404 for opted out systems ([`7b9725a`](https://github.com/RedHatInsights/vulnerability-engine/commit/7b9725aa758cd0dda04a560fe16ae85f6927fc13))

* update 3scale-mock script for usage with new test data ([`59ac75a`](https://github.com/RedHatInsights/vulnerability-engine/commit/59ac75ae35e8829c03a98e7e47b61b2730c5821a))

* add test for skipping of upload of recently deleted systems ([`2566a5e`](https://github.com/RedHatInsights/vulnerability-engine/commit/2566a5e7f67a81a9a3887b5db7c8c279957547fc))

* skip recently deleted systems during upload ([`de19abf`](https://github.com/RedHatInsights/vulnerability-engine/commit/de19abff593c657f09f7a4c7d383285726c67a1b))

* Add config to disable optimistaions ([`f4cfb5e`](https://github.com/RedHatInsights/vulnerability-engine/commit/f4cfb5e799086e8ae29500bfc778d11a6eb234c1))

* support internal user in tests, add put method and fix matching schema ([`8211c7a`](https://github.com/RedHatInsights/vulnerability-engine/commit/8211c7a7878a1f9571200c931e5208b0dc48f0cc))

* add basic refresh handler tests ([`8d95e1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/8d95e1c7f1edbfb85024af7b9ebd67106af80d3e))

* don&#39;t cover not implemented functions ([`3bc0fe7`](https://github.com/RedHatInsights/vulnerability-engine/commit/3bc0fe776b049bd0ffb1a8a2f94733633170c114))

* manager user needs to update cache ([`2ff5a30`](https://github.com/RedHatInsights/vulnerability-engine/commit/2ff5a30b7ec80f609554ef603fe0089e77445db0))

* add refresh APIs ([`fd53b46`](https://github.com/RedHatInsights/vulnerability-engine/commit/fd53b465ad30c8529ef3588834b2f7f1fea283ad))

* support PUT method ([`2521dd5`](https://github.com/RedHatInsights/vulnerability-engine/commit/2521dd5f6910586dbf7cafbec7245d63dabf8cd4))

* support authentication for APIs available to internal users only ([`84cd5a8`](https://github.com/RedHatInsights/vulnerability-engine/commit/84cd5a85f8bb5f590c6f7df575e0bd306e04577a))

* teach 3scale mock to identify as internal user (RH-employee) ([`4bc790e`](https://github.com/RedHatInsights/vulnerability-engine/commit/4bc790e77f082063d9bd3b5b826c1f5367d1f2bb))

* improve cve-account cache refresh

- avoid deadlocks
- don&#39;t delete everything from cve_affected_systems_cache always ([`41d22b0`](https://github.com/RedHatInsights/vulnerability-engine/commit/41d22b0a7875ab028ecf0b9b2be5df5983d0495d))

* fix possible deadlocks when updating system counts - lock in order ([`4dc4a75`](https://github.com/RedHatInsights/vulnerability-engine/commit/4dc4a75ba1f0f30cd886e1031bb93baee57d08b9))

* parse repolist from /etc/yum.repos.d ([`05844f2`](https://github.com/RedHatInsights/vulnerability-engine/commit/05844f217cb24331de74e3a704122a261b4dc804))

* Fix test status id response code ([`18ad956`](https://github.com/RedHatInsights/vulnerability-engine/commit/18ad956aca168aec7a1dacf31134bfb6b9f41171))

* Correct error message about status id ([`2cb5af9`](https://github.com/RedHatInsights/vulnerability-engine/commit/2cb5af928d14bb371929ecb4be7cdb51f5a09a9c))

* webhooks registration have to be done in one action ([`e38a386`](https://github.com/RedHatInsights/vulnerability-engine/commit/e38a38626770517a5f8410a503fdce4ddf544958))

* rename upload to file to match current upload service ([`755e2b0`](https://github.com/RedHatInsights/vulnerability-engine/commit/755e2b0d6227929b3326cc6fda2615ecee497016))

* rh_account field was renamed to account ([`f352d44`](https://github.com/RedHatInsights/vulnerability-engine/commit/f352d4438677ba00ae338ad2d57629e305a0f665))

* send notification for newly found CVEs during evaulation ([`47a66cd`](https://github.com/RedHatInsights/vulnerability-engine/commit/47a66cd03a21c2937b645780beb59de1eabf9bba))

* register new webhook message type ([`b660e3e`](https://github.com/RedHatInsights/vulnerability-engine/commit/b660e3ed3402d00ca9752d84215162216401312f))

* start using flake8 ([`22fceaa`](https://github.com/RedHatInsights/vulnerability-engine/commit/22fceaa7a99abe878369fff4811c79da0eea83f1))

* updated README.md ([`006b9c8`](https://github.com/RedHatInsights/vulnerability-engine/commit/006b9c861ce0b49c29b1eca1a47fa3cf070acbf4))

* optimized testing Dockerfile.test ([`aa074e4`](https://github.com/RedHatInsights/vulnerability-engine/commit/aa074e40527d6c2dc79f581bcf0a38c7a209c700))

* simplified testing var names

simplified testing inventory_id strings
simplified testing rh_account, 00000000 replaced with 0
simplified testing s3_url values
simplified testing system_platform checksum value, changed 11111111 to 1
simplified testing cve ids ([`5246af4`](https://github.com/RedHatInsights/vulnerability-engine/commit/5246af4e7d61bfa181afb644b546f5a87f0d8870))

* refactored test_evaluator.py module ([`89b4984`](https://github.com/RedHatInsights/vulnerability-engine/commit/89b498498c747b5d99d87ac09fec5207590dec88))

* fix tests ([`6d0d1d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/6d0d1d094262f1df6b950e318798523a99dbae6e))

* don&#39;t create future per message, create future per batch, limit number of simultaneous futures ([`f78c443`](https://github.com/RedHatInsights/vulnerability-engine/commit/f78c4432e50c63bbcdc181f079c4f517022275b6))

* add method sending list of messages in one future ([`869bc8e`](https://github.com/RedHatInsights/vulnerability-engine/commit/869bc8e672696bec60faa60c42e8769580fb81a9))

* enable/disable CloudWatch logging based on setting ([`2f0f557`](https://github.com/RedHatInsights/vulnerability-engine/commit/2f0f557365542a9f7a93d8c35fe5d7c89b11ef35))

* fix tests ([`85f9059`](https://github.com/RedHatInsights/vulnerability-engine/commit/85f9059a1c08abbe86838469bb54a55d38c4ad91))

* drop simple DatabaseHandler ([`aad8ab0`](https://github.com/RedHatInsights/vulnerability-engine/commit/aad8ab0fc2c2b3a7145153db5947fa561b7c0b37))

* use pooled connection in upgrader ([`cd81214`](https://github.com/RedHatInsights/vulnerability-engine/commit/cd81214188a027373d278ae5a91997d99af3ccc4))

* use pooled connection in vmaas-sync ([`a796d6d`](https://github.com/RedHatInsights/vulnerability-engine/commit/a796d6dcffb6b56e41c310900f7db1a592460159))

* use pooled connection from evaluator ([`afc1931`](https://github.com/RedHatInsights/vulnerability-engine/commit/afc1931e6f8b6ff8e9a9fc9680b62d12a8b880b1))

* use pooled db connections to ensure transaction isolation in different threads ([`ab5dd4a`](https://github.com/RedHatInsights/vulnerability-engine/commit/ab5dd4ac273dd786ce7200ef4a6992f7fc1d0abd))

* add database handler using connection pool ([`99eb0ca`](https://github.com/RedHatInsights/vulnerability-engine/commit/99eb0ca12c6db3439a33b2a1b3e7df34c13793fc))

* remove useless init_db ([`cdd0c7e`](https://github.com/RedHatInsights/vulnerability-engine/commit/cdd0c7e137f0a28574fbcc3a74aac8ffb6620567))

* fix tests ([`0db3eea`](https://github.com/RedHatInsights/vulnerability-engine/commit/0db3eea157c072b2abacd453f0e1705f885774e1))

* send notificiations about newly synced CVEs ([`774f7f8`](https://github.com/RedHatInsights/vulnerability-engine/commit/774f7f86468ab63e7cb0d6d12e3cf1e57002d4a5))

* scripts for registration to webhook service ([`0e018e7`](https://github.com/RedHatInsights/vulnerability-engine/commit/0e018e7694327c153e3695fd17c7e1490ec02b0d))

* fix formatting ([`15fc996`](https://github.com/RedHatInsights/vulnerability-engine/commit/15fc9963d24dc14247faf806c89fcf7fb803d2e7))

* avoid duplicated inserts ([`9846bdc`](https://github.com/RedHatInsights/vulnerability-engine/commit/9846bdceffa912c6e302adab6a43d519ad22798f))

* avoid deadlocks and duplicated inserts in opt_out and satellite_managed triggers ([`bdff812`](https://github.com/RedHatInsights/vulnerability-engine/commit/bdff812e9d7313cf750e8f14a386695ed5f32a04))

* mount git root directory in devel compose ([`745aaab`](https://github.com/RedHatInsights/vulnerability-engine/commit/745aaab3a8dce4965a434df62a1a013105a0d7a6))

* vmaas-sync depends on DB ([`71c789c`](https://github.com/RedHatInsights/vulnerability-engine/commit/71c789c0be976ef68f2b657f57503fafaf6b9fb8))

* gracefully stop vmaas-sync ([`4610d89`](https://github.com/RedHatInsights/vulnerability-engine/commit/4610d89dbd3dbed98b72d79c02d3bf08a75999bc))

* gracefully stop platform-mock ([`ecf7825`](https://github.com/RedHatInsights/vulnerability-engine/commit/ecf7825769d3bef5c20d7f88783ee24a488172b9))

* gracefully stop evaluator ([`1005b61`](https://github.com/RedHatInsights/vulnerability-engine/commit/1005b61bdd2ec476c2a41fc8b8510d12694d20a3))

* add test ([`f6c9dd6`](https://github.com/RedHatInsights/vulnerability-engine/commit/f6c9dd6a7be574a05f3b096fbae97bcf45f68564))

* better check satellite_managed value ([`64d3441`](https://github.com/RedHatInsights/vulnerability-engine/commit/64d34418b09e00468742ba85440117cd98165f73))

* removed github-fetch-pullrequest script, packed to PyPI ([`50d3a47`](https://github.com/RedHatInsights/vulnerability-engine/commit/50d3a47d5155cc48af69b95cacc7c590c554c9e6))

* fix probe name ([`29d392b`](https://github.com/RedHatInsights/vulnerability-engine/commit/29d392b4ca51a4a7865f6b7373981af56616d3b9))

* test also unknown db version ([`c718309`](https://github.com/RedHatInsights/vulnerability-engine/commit/c718309d4f7a036af6a8caebea10906e48aae3d3))

* fix test ([`d64228c`](https://github.com/RedHatInsights/vulnerability-engine/commit/d64228c0f00bfb914866ddbdf338db33164d968c))

* improve version API to provide database version ([`6c7b67a`](https://github.com/RedHatInsights/vulnerability-engine/commit/6c7b67aaa263affd9461ab4a61aae7f0a05288b9))

* put version under v1 too ([`1157072`](https://github.com/RedHatInsights/vulnerability-engine/commit/1157072e91958d2cc4e86f564ab99bea8f194e0f))

* make prometheus probes naming consistent ([`e3a9231`](https://github.com/RedHatInsights/vulnerability-engine/commit/e3a9231eae6e1df1f1c8cac8f87aa2d7b942447f))

* fix cache refresh counting for subsets of systems ([`284fa43`](https://github.com/RedHatInsights/vulnerability-engine/commit/284fa43562e38b944b3b078c02ab44eadeb04c9b))

* producer is never used in evaluator ([`1e9a06a`](https://github.com/RedHatInsights/vulnerability-engine/commit/1e9a06a90096404681ffd35759dbe4b8b4dd87d5))

* evaluate from 2 different topics also locally ([`1c29ef0`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c29ef0b9906676dc061b9a615d1b75ae7d3ee1e))

* all messages don&#39;t have type ([`b1cb514`](https://github.com/RedHatInsights/vulnerability-engine/commit/b1cb5140c2c2a4e0ff7aada341e956bda1ccf10f))

* upload message doesn&#39;t have type field, route messages based on source topic ([`7ff0311`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ff0311d91ccab1d2d0586d432d19ccf346c6bab))

* upload service doesn&#39;t send type field ([`7b7bf8b`](https://github.com/RedHatInsights/vulnerability-engine/commit/7b7bf8ba76448e480f173b59692d9e5ccf3b0e20))

* handle case when message is invalid JSON ([`fb2a42f`](https://github.com/RedHatInsights/vulnerability-engine/commit/fb2a42f52d25f9a9a3bb267df4dc5176904130ec))

## v0.11.0 (2019-05-30)

### Unknown

* add unit tests ([`90c5894`](https://github.com/RedHatInsights/vulnerability-engine/commit/90c5894fc9f59c689ba1a1b93482562a0f9c5174))

* update count cache before deleting system ([`8e4b685`](https://github.com/RedHatInsights/vulnerability-engine/commit/8e4b685852c3ee4459bfae5cfcb1a517c99f62db))

* teach listener to delete systems ([`40cea42`](https://github.com/RedHatInsights/vulnerability-engine/commit/40cea424ae44aaf7385f38bd2aa208167fd6df89))

* teach platform mock to send delete system message ([`8ef2f08`](https://github.com/RedHatInsights/vulnerability-engine/commit/8ef2f08390d3a70adae519614e708a9dfc45b1b0))

* functions for cache updating per rh_account / cve ([`897ff80`](https://github.com/RedHatInsights/vulnerability-engine/commit/897ff807cde0a7c826d24237fc381dee4443a3e9))

* delete old, useless, duplicated API ([`ae59ad8`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae59ad8f54b8353f068e6d41d3f2d8f80be25d5d))

* bump insights-core to version containing rpm-version-compare fixes ([`cb72331`](https://github.com/RedHatInsights/vulnerability-engine/commit/cb723313af6aa56d8e21e89c2398b62cfcead86e))

* Add x-methodName to apiSpec ([`3a93951`](https://github.com/RedHatInsights/vulnerability-engine/commit/3a939516f069a2a335db0cc6bfd4512566a547eb))

* increase number of retries for vmaas-sync

there is a bug when it takes number of requests to succesfully connect to vmaas in openshift (fails with no route to host) ([`d0dabd3`](https://github.com/RedHatInsights/vulnerability-engine/commit/d0dabd3f9d495ec67ddbf1d347a35efcdd45fe34))

* catch better exception to make retry work in more cases ([`5554539`](https://github.com/RedHatInsights/vulnerability-engine/commit/5554539c71036bdc1a08fcfb634c250b460d681d))

* change to named cursor when querying db for systems to reevaluate ([`848dc1d`](https://github.com/RedHatInsights/vulnerability-engine/commit/848dc1ddad80e1173f41454bc5ef7e625169f079))

* add tests testing cloudwatch setup (error states) ([`ccc93d6`](https://github.com/RedHatInsights/vulnerability-engine/commit/ccc93d6545ed9f92d13c38ae34659fe0d6f1e4f5))

* notify logger about multiple gunicorn workers ([`18c507c`](https://github.com/RedHatInsights/vulnerability-engine/commit/18c507cdc0ae63b5f48e078b7a29947e10455bdc))

* non OPENSHIFT logging should be default ([`09b5fdf`](https://github.com/RedHatInsights/vulnerability-engine/commit/09b5fdf7394d0eaafe33e81361cfd33520b35b50))

* catch connection error and log messages properly ([`ed52b1e`](https://github.com/RedHatInsights/vulnerability-engine/commit/ed52b1ee84d25479927a0a3b1d38616eb92c6844))

* use CloudWatch for logging ([`ee20d93`](https://github.com/RedHatInsights/vulnerability-engine/commit/ee20d9365c8f29b4a6cc2e7fa0288fccacfa1252))

* extend tests of upload_listener ([`cb73a92`](https://github.com/RedHatInsights/vulnerability-engine/commit/cb73a92ab9a089385c150624f3451af0d8f44a4c))

* add mocked download service for downloading archives ([`0a13bb1`](https://github.com/RedHatInsights/vulnerability-engine/commit/0a13bb10016e07db6e047507735a6f2840e33a26))

* add more test cases for archive parsing ([`b479f4e`](https://github.com/RedHatInsights/vulnerability-engine/commit/b479f4edae14b50ff1a6d2d34bd7b4b623b7e3a8))

* restore functionality of # pragma: no cover ([`c5e64be`](https://github.com/RedHatInsights/vulnerability-engine/commit/c5e64bebf796a10176b5826fb6ecd17ffcb286a7))

* Close connection after cve sync so new connection is created next time around ([`b6a1ffc`](https://github.com/RedHatInsights/vulnerability-engine/commit/b6a1ffc148b07cf95d5e2c7a0e756d8cc9a380b1))

* add tests for ISE cases ([`43f1bba`](https://github.com/RedHatInsights/vulnerability-engine/commit/43f1bba2849461394c98f71154d601e637e4784f))

* requests session is not thread-safe

vulnerability-engine-listener | 166310cd0345 2019-05-14 14:54:43,297:WARNING:urllib3.connectionpool:Connection pool is full, discarding connection: platform_mock ([`e5309b3`](https://github.com/RedHatInsights/vulnerability-engine/commit/e5309b34f8165c959e80b9b147cf5ea3f64aa32e))

* add bounded executor to limit max internal queue size ([`7da1bd3`](https://github.com/RedHatInsights/vulnerability-engine/commit/7da1bd3b7fa88a115c421d995f77c2991516b8a8))

* add tests for show all sorting by systems affected ([`4f8f5e2`](https://github.com/RedHatInsights/vulnerability-engine/commit/4f8f5e285e4e35107440dc780f6ea13e7c2d8d81))

* used fedora:27 as the testing docker base image ([`bf767d4`](https://github.com/RedHatInsights/vulnerability-engine/commit/bf767d4e4d4f22cc1dbda912852b1eba38202089))

* added guide to run tests using docker-compose ([`2fd8fb3`](https://github.com/RedHatInsights/vulnerability-engine/commit/2fd8fb36502f34d9a815f2a6f059bd44cdad6ec8))

* added colorizing to pylint and pytest ([`b2af465`](https://github.com/RedHatInsights/vulnerability-engine/commit/b2af465a681f7403b00bbc373aed02c6fedfdf68))

* added docker-compose.test.yml and Dockerfile.test ([`7f823d4`](https://github.com/RedHatInsights/vulnerability-engine/commit/7f823d4d1972dba149007cefa10825e0790e914c))

* exclude __name__ == &#39;__main__&#39; from coverage ([`1553920`](https://github.com/RedHatInsights/vulnerability-engine/commit/1553920ed0a6708a3b9a929046781ccb3d10b6bd))

* add tests for readonly mode ([`ade0ee3`](https://github.com/RedHatInsights/vulnerability-engine/commit/ade0ee30a3279f0117f507dd05f2c95e66de4646))

* support read-only mode for manager - only GET reqs allowed ([`0e0b2d7`](https://github.com/RedHatInsights/vulnerability-engine/commit/0e0b2d7c675ae5f04e7a098963a55a19a3154a48))

* fix ordering of systems_affected with show_all=true ([`bc6047c`](https://github.com/RedHatInsights/vulnerability-engine/commit/bc6047cc93a8ca91695a81f1fa5b59ea145c61d0))

* connexion casts versions to float automatically, it&#39;s not only string ([`5da80c4`](https://github.com/RedHatInsights/vulnerability-engine/commit/5da80c4afe58646ab8556a93d313ba531355c4fe))

* fix CVE-2019-11324 ([`ec964be`](https://github.com/RedHatInsights/vulnerability-engine/commit/ec964bec5e95eb7bba962ce0d89c95a267d8552e))

* revert proxy changes, they are not needed ([`a2cd673`](https://github.com/RedHatInsights/vulnerability-engine/commit/a2cd6734a4ed2eb215a61ac0edefffae257c20c0))

* make openapi.json available under /v1 ([`596291b`](https://github.com/RedHatInsights/vulnerability-engine/commit/596291b267560f321ff38d336ccacb6a06b35d33))

* Revert &#34;set full manager URL&#34;

This reverts commit ad19175422da1eda68b7114dbe946f15b1c78ff8. ([`46e82eb`](https://github.com/RedHatInsights/vulnerability-engine/commit/46e82eb7c86ac7c8e9a08804406312c4cb23065c))

* catch more permission errors caused by new swagger image + run as regular user to catch such errors ([`8cfac65`](https://github.com/RedHatInsights/vulnerability-engine/commit/8cfac653c9a0c47cf6e1e3bed292469dd6fd4919))

* fix openshift permission denied ([`3f884c8`](https://github.com/RedHatInsights/vulnerability-engine/commit/3f884c8a2423103e04aae1f3fbbbbb4e545761a2))

* fix connexion &#39;x-basicInfoFunc missing&#39; warning ([`ae23f8a`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae23f8a2e0a312042a96151f8994402a47f11bbc))

* support user/pass login ([`03755a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/03755a1a5f990e2c62eb719963ee958b05888ec3))

* proxy requests to openapi spec to local url ([`ea0add3`](https://github.com/RedHatInsights/vulnerability-engine/commit/ea0add33d1b8ab34069fc8de44757385c34adde1))

* set full manager URL ([`ad19175`](https://github.com/RedHatInsights/vulnerability-engine/commit/ad19175422da1eda68b7114dbe946f15b1c78ff8))

* lock rows in ordered manner ([`9c5919b`](https://github.com/RedHatInsights/vulnerability-engine/commit/9c5919bcc6c3a0a8eb7a31dd6fed9854c85af5d5))

* support OpenShift arbitrary user IDs ([`255c1b8`](https://github.com/RedHatInsights/vulnerability-engine/commit/255c1b882b85c04fe83707ff5852a2fb36590b6b))

* typo fix

smart_managament -&gt; smart_management ([`870e47c`](https://github.com/RedHatInsights/vulnerability-engine/commit/870e47c369e2f75cbfe5829ca2ca3a277892b45d))

* use prometheus multiprocess for multiple gunicorn workers ([`91b7b8d`](https://github.com/RedHatInsights/vulnerability-engine/commit/91b7b8d37ffdc2aee1bbe8b5e9a5ec5f5684cbd1))

## v0.10.0 (2019-05-02)

### Unknown

* don&#39;t propagate errors into message users see ([`d68b362`](https://github.com/RedHatInsights/vulnerability-engine/commit/d68b3629ba87f0d550f08f0bb79653d6c04004b7))

* run tests with exactly same pip package versions as we run the code ([`1d5c4d3`](https://github.com/RedHatInsights/vulnerability-engine/commit/1d5c4d356bbf41e21783e4ffde5502acc76036a7))

* catch also integrity errors coming from psycopg2 ([`6bc985c`](https://github.com/RedHatInsights/vulnerability-engine/commit/6bc985c69bf8dfc61c3fadbaae98953ef119caa3))

* Add pytz to requirements.txt for testing ([`73bd265`](https://github.com/RedHatInsights/vulnerability-engine/commit/73bd2650afd2886cd287a1b30792cb8b5507fe1c))

* import-ordering and include pytz explicitly in builds ([`62cab10`](https://github.com/RedHatInsights/vulnerability-engine/commit/62cab105970007c0cc5f1d71ca2e69e2e7491c2f))

* Make listener selective about giving work to evaluator

Listener should only send eval-messages on new systems or systems whose
vmaas_json is different than the last time we saw them. ([`2647b38`](https://github.com/RedHatInsights/vulnerability-engine/commit/2647b38bc4196eb4d67b26774cf2f6381f68fc8e))

* rewritten response did not match expected format ([`522bdb8`](https://github.com/RedHatInsights/vulnerability-engine/commit/522bdb839b664de78ff9c0daa95dc30e9605ba97))

* log access to stdout ([`5e0dbf5`](https://github.com/RedHatInsights/vulnerability-engine/commit/5e0dbf52f4eaf997a7c2aa48a82c3e79adf655f8))

* add new config ([`2a6510a`](https://github.com/RedHatInsights/vulnerability-engine/commit/2a6510a0e136730e90c9cec353e05ff0e38fcf27))

* gracefully stop listener when signal is received ([`13632aa`](https://github.com/RedHatInsights/vulnerability-engine/commit/13632aac57fb9332b280473b677eb8451d321547))

* run main app with PID 1 to receive signals ([`1b8408e`](https://github.com/RedHatInsights/vulnerability-engine/commit/1b8408e395b2e654b8f9896d440d216065952a63))

* process uploads in ThreadPoolExecutor ([`626cf5e`](https://github.com/RedHatInsights/vulnerability-engine/commit/626cf5e438af53fc329903bdcae854f65ef7a63b))

* split archive processing to smaller functions + add more error handling ([`d0fea9d`](https://github.com/RedHatInsights/vulnerability-engine/commit/d0fea9dbefc11de1a518da01d4e3ea730fca770e))

* bump insights-core version to contain new thread-safety fixes ([`b8aae2d`](https://github.com/RedHatInsights/vulnerability-engine/commit/b8aae2d9df3faae114936eb9eed236e3e23b94fe))

* fix old variables ([`338218d`](https://github.com/RedHatInsights/vulnerability-engine/commit/338218da6e6d5fd81f82b35fb28807940e1483e3))

* Set SHA256 of vmaas-json on insert/update ([`d43b12f`](https://github.com/RedHatInsights/vulnerability-engine/commit/d43b12f3a0ff30b896bc916448a41bd34e41574b))

* Return one error-msg for page/offset out of range ([`b9aee78`](https://github.com/RedHatInsights/vulnerability-engine/commit/b9aee7816e858f52095956877be3613fbfbf6a1e))

* this file was deleted ([`ffe1f77`](https://github.com/RedHatInsights/vulnerability-engine/commit/ffe1f77f41e9c796802989d8065f37d23205fc14))

* add unit test ([`ae5919f`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae5919fd670a5aba4a673f750483c33434a92674))

* blacklist gpg-pubkey as insights-core crashes in get_max method ([`2b3eb25`](https://github.com/RedHatInsights/vulnerability-engine/commit/2b3eb257af754109f67cb769d0ee29ca62a87d64))

* Revert &#34;Revert &#34;only evaluate latest version of each package&#34;&#34;

This reverts commit 1af2fc608a1c2b1ddceb93ab29c4b577907e75a1. ([`1599b6a`](https://github.com/RedHatInsights/vulnerability-engine/commit/1599b6a291af59c86168a44b7ea87edd0ca620aa))

* remove unused arg ([`7dd9bd9`](https://github.com/RedHatInsights/vulnerability-engine/commit/7dd9bd9d5d808b9a7de45080b68b114fedfc88fa))

* More mocks to get aiokafka out of the way of the tests ([`ecc697e`](https://github.com/RedHatInsights/vulnerability-engine/commit/ecc697e9c4fe811a6fa7b1a96ce60444de936ed3))

* Adding missed file ([`24c3453`](https://github.com/RedHatInsights/vulnerability-engine/commit/24c3453d4320142081d3d628d1dded47d7300c21))

* Add a little more upload_listener testing ([`0d9f478`](https://github.com/RedHatInsights/vulnerability-engine/commit/0d9f47882b735c7c7317fb3cd02408c54880e34e))

* actual entitlements implementation differs from proposal

previously &#39;entitlements&#39; was a key inside &#39;identity&#39; now it&#39;s new key ([`8aa939e`](https://github.com/RedHatInsights/vulnerability-engine/commit/8aa939ec7c977383a666d5393cf1d47e4e78fb7d))

* use correct endpoint name for metrics ([`2ffb666`](https://github.com/RedHatInsights/vulnerability-engine/commit/2ffb66695ea36c70b66e660b0feb65dc7a1498fd))

* make entitlement check configurable ([`781ecf6`](https://github.com/RedHatInsights/vulnerability-engine/commit/781ecf6ba25951f397597f2bbb3173b8d6bf0de4))

* add tests cases for authentication ([`ac1df9b`](https://github.com/RedHatInsights/vulnerability-engine/commit/ac1df9be760b7b73844a476d7933c684911dac44))

* add entitlement checking for API ([`f33330f`](https://github.com/RedHatInsights/vulnerability-engine/commit/f33330fe20496ac2be00613a1460bd893dd2e2be))

* vmaas_sync pytest coverage, part II:The Mockery ([`1ac5919`](https://github.com/RedHatInsights/vulnerability-engine/commit/1ac5919ec04b5762d39f373b155cfb20533e739a))

* move from tornado to gunicorn ([`4afea5d`](https://github.com/RedHatInsights/vulnerability-engine/commit/4afea5dd42870deb71cae52e4c20098aa21156b3))

## v0.9.0 (2019-04-24)

### Unknown

* simplify _check_int_arg function

connexion is doing check for int value for us, there&#39;s no need
to do it one more time in our code ([`a94397e`](https://github.com/RedHatInsights/vulnerability-engine/commit/a94397e4bd8aa199178d4436405498a9f93a6150))

* test invalid export format ([`309c183`](https://github.com/RedHatInsights/vulnerability-engine/commit/309c1836fad2f9dea9917b6770e27cf3fab09ee7))

* add tests for CSV export ([`6d4b1f8`](https://github.com/RedHatInsights/vulnerability-engine/commit/6d4b1f807fd47d50395245c82c8acfd544e8c206))

* allow data_format parameter ([`ab46553`](https://github.com/RedHatInsights/vulnerability-engine/commit/ab465530252ac221dbbef2f2754bd9ffa69717bf))

* remove old manager tests ([`aebf45f`](https://github.com/RedHatInsights/vulnerability-engine/commit/aebf45f45988b3ab47fb78ee5311d3012d3dd30d))

* remove unused function ([`0d6dd5c`](https://github.com/RedHatInsights/vulnerability-engine/commit/0d6dd5c061a9007dc717a792ac81492c3197ef57))

* additional tests for manager/list_view.py ([`7e1cf4b`](https://github.com/RedHatInsights/vulnerability-engine/commit/7e1cf4b04c813b92248bb48aeab45e0edf857732))

* bring coverage of manager/cve_handler.py to 100% ([`6257aed`](https://github.com/RedHatInsights/vulnerability-engine/commit/6257aedd82f8a777e32ff3a85e1cf77fb99dae54))

* bring coverage of manager/status_handler.py to 100% ([`215ffa9`](https://github.com/RedHatInsights/vulnerability-engine/commit/215ffa9c8c29cd81c1a647e7f18532f7db924e99))

* vmaas_sync pytest, intial cut ([`d967170`](https://github.com/RedHatInsights/vulnerability-engine/commit/d967170a4858ee94cef946d0afae38c39beda05b))

* fix also manager/test/test.py ([`4e33083`](https://github.com/RedHatInsights/vulnerability-engine/commit/4e33083d30378089730587d3aea4eb1184d897a4))

* add more tests for system_handler.py ([`3d24153`](https://github.com/RedHatInsights/vulnerability-engine/commit/3d241539054010a84786aa310ede2751324e3238))

* fix a bug during hide_satellite_managed evaluation ([`70b7f11`](https://github.com/RedHatInsights/vulnerability-engine/commit/70b7f115832f489aba51c1665183adf0c4b5cda9))

* use parametrize + add new test in test_vulnerabilities_handler.py ([`6add344`](https://github.com/RedHatInsights/vulnerability-engine/commit/6add34450c6839e3e8be065b4d9d7771b923d61f))

* current test data don&#39;t make sense (records for non evaluated systems) ([`590ca85`](https://github.com/RedHatInsights/vulnerability-engine/commit/590ca858f9dc6408a4f70d9b372d6ca4740c85b2))

* no need to test /updates and /errata APIs here, only /vulnerabilities ([`70ffc1f`](https://github.com/RedHatInsights/vulnerability-engine/commit/70ffc1fb7c82129a23292f6901571d57eb4228ce))

* start using /vulnerabilities VMaaS API ([`04bfe84`](https://github.com/RedHatInsights/vulnerability-engine/commit/04bfe84a4b48de5e4fe4f22ff72956972e799d27))

* extract handler tests into separate modules ([`461feac`](https://github.com/RedHatInsights/vulnerability-engine/commit/461feac16983abdd57940341e3502a422c72a004))

* POST api for /status is no longer needed ([`67eb258`](https://github.com/RedHatInsights/vulnerability-engine/commit/67eb258e8a5825d6946a211745d4a3994ca61547))

* use correct URI for /metrics ([`25a4072`](https://github.com/RedHatInsights/vulnerability-engine/commit/25a40723300a51f89b79269ab525471bc502c820))

* Fix(?) links-stanza to include all args from incoming query ([`4dbee06`](https://github.com/RedHatInsights/vulnerability-engine/commit/4dbee0665a596316fc2537a789989155da453995))

* ignore test file for codecov ([`c22dc67`](https://github.com/RedHatInsights/vulnerability-engine/commit/c22dc67f0f93b0ef074fcd55a263d672427f16f9))

* fix pylint on missed files ([`dc9da6d`](https://github.com/RedHatInsights/vulnerability-engine/commit/dc9da6db2399c88119ac554de588a51f0fbb27e2))

* add missing __init__.py files ([`9b7a489`](https://github.com/RedHatInsights/vulnerability-engine/commit/9b7a489975fa728a3f2dd2b4911baeb34c45fbc5))

* Make sure there is __init__.py in each dir containing python scripts ([`1cba4e4`](https://github.com/RedHatInsights/vulnerability-engine/commit/1cba4e48023908c6e4259f9cad40ac6644230106))

* Missing whitespace re-added ([`72abc5c`](https://github.com/RedHatInsights/vulnerability-engine/commit/72abc5c5568794d618c1f61193f41590105abc90))

* Fixes per review comments ([`36b3619`](https://github.com/RedHatInsights/vulnerability-engine/commit/36b36193299533690c44a2a2040ade98651d70ff))

* VMAAS-442 - Make upload-listener more resilient in the face of archive-access-failures

* Add env-var MAX_ARCHIVE_RETRIES, for # of times we will attempt to access a given tgz. Default is &#39;2&#39;
* Log and count *any* exception while attempting tgz-retrieval
* Upon hitting max, log/count as a different error, drop this archive and move on ([`320acc7`](https://github.com/RedHatInsights/vulnerability-engine/commit/320acc7da6ffc15b6dc0ff01d249fdaf2d685968))

* fix 3scale-mock on python3 ([`a7d3520`](https://github.com/RedHatInsights/vulnerability-engine/commit/a7d352054a9579a361e44def3ab665cfb6ae836c))

* Teach fetch-pr to show assignee if there is one ([`7d730bb`](https://github.com/RedHatInsights/vulnerability-engine/commit/7d730bba4f58ec1af785babbc0f51cdcaa8a6bc8))

* fix unit tests being dependent on each other ([`5eb77dc`](https://github.com/RedHatInsights/vulnerability-engine/commit/5eb77dc3d091b5e3f59dac1a4282dd2d2d782b38))

* if there&#39;s no previous or next link, return no link instead of first/last ([`9a5d864`](https://github.com/RedHatInsights/vulnerability-engine/commit/9a5d8646ab041da9c0cf1010c54dc9086ad45544))

* don&#39;t generate next link past last record ([`d74e3c7`](https://github.com/RedHatInsights/vulnerability-engine/commit/d74e3c7d582acd692484991676c7a4977c893dc8))

* use endpoint names for prometheus statistics ([`64f7274`](https://github.com/RedHatInsights/vulnerability-engine/commit/64f7274bd9c10f4e2edf20004d7f018e9662b686))

* set strict_validation through an environment variable ([`2b3b434`](https://github.com/RedHatInsights/vulnerability-engine/commit/2b3b434edeed01732dbe1b7469c013cc79c16944))

* log exception details ([`ce818e5`](https://github.com/RedHatInsights/vulnerability-engine/commit/ce818e5150bedf5e374c58c31106e98f92eb8e9a))

* return Flask exceptions in format required by IPP ([`3465e8b`](https://github.com/RedHatInsights/vulnerability-engine/commit/3465e8bf39447fd438d0d24d74054e46aaa62536))

* Add listener module tests ([`128f379`](https://github.com/RedHatInsights/vulnerability-engine/commit/128f37938d3a11131d8ff05dfc53b728b0c079d3))

* don&#39;t show whole URL in links ([`dcae9ed`](https://github.com/RedHatInsights/vulnerability-engine/commit/dcae9ed6c5cd1eda6aa1de0c24ff8bcefdc3d2af))

* Set correct default-ports to listener/vmaas_sync ([`32cfa83`](https://github.com/RedHatInsights/vulnerability-engine/commit/32cfa836e4b414c843c3c438fc66421ce9bbfbe7))

* affected systems takes regular set of parameters ([`3594bc0`](https://github.com/RedHatInsights/vulnerability-engine/commit/3594bc0279b8b091347ea8df87bc95650e1b2bb2))

* adapt mock platform service to parse satellite_managed ([`d0bd091`](https://github.com/RedHatInsights/vulnerability-engine/commit/d0bd091950dfd2145b676f8096076291e084e5d4))

* satellite_managed fact is now included in incoming message ([`6ae7016`](https://github.com/RedHatInsights/vulnerability-engine/commit/6ae7016cd82e0ff8572d0beea4c37efdcd38945e))

* response validation in vulnerabilities_handler.py ([`690c5de`](https://github.com/RedHatInsights/vulnerability-engine/commit/690c5dec15df699b51ad68e5f07c5700b94e06c1))

* response validation in in cve_handler.py ([`7a8f549`](https://github.com/RedHatInsights/vulnerability-engine/commit/7a8f549fe19e37f418a7b70bcbd854fea5dd11df))

* add filtering by severity for /systems/{inventory_id}/cves ([`d06d95b`](https://github.com/RedHatInsights/vulnerability-engine/commit/d06d95bd61c03ec70339e07146b5fb43a2ce5ed6))

* response validation + other fixes to system_handler ([`49b1374`](https://github.com/RedHatInsights/vulnerability-engine/commit/49b13740e22844e9b743f756c693c8893594eddb))

* turn on response_validation ([`b153f13`](https://github.com/RedHatInsights/vulnerability-engine/commit/b153f1330e6b45452044ce5c3ba7829614b67d20))

* return all query args in meta ([`2276634`](https://github.com/RedHatInsights/vulnerability-engine/commit/2276634ff5ffb900d45eeec5c3e738a0832bea5f))

* use null for not provided values instead of an empty string ([`2d1ddd1`](https://github.com/RedHatInsights/vulnerability-engine/commit/2d1ddd10aa63fe172fef84b58b672c20c21d86dd))

* fix links for list type paramaters (status_id) ([`37c3c5f`](https://github.com/RedHatInsights/vulnerability-engine/commit/37c3c5f2c10c296b47abd9b88e5893ddcb036dd3))

* support disabling re-evaluation of systems ([`7ceeda3`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ceeda3fae7a5617f63937c5cee2c909335a7b5b))

* Revert &#34;only evaluate latest version of each package&#34;

This reverts commit 3bda28dfa8c08f09284408d1171ff447fb53f90c. ([`1af2fc6`](https://github.com/RedHatInsights/vulnerability-engine/commit/1af2fc608a1c2b1ddceb93ab29c4b577907e75a1))

* clone whole git history to make testing DB upgrades possible ([`c8e0640`](https://github.com/RedHatInsights/vulnerability-engine/commit/c8e064048b470b580c995cc0efe7986f8e7491eb))

* grant missing select permissions to match new deployment ([`ab39bb4`](https://github.com/RedHatInsights/vulnerability-engine/commit/ab39bb44652ba7f10287ca0f8b730946c72cd481))

* test from -1 commit to test also 001 upgrade ([`219ad7a`](https://github.com/RedHatInsights/vulnerability-engine/commit/219ad7a35174d1b6bcd5573a4d4894f8f12c2831))

* (un)stash only when repo is dirty and don&#39;t keep stashed items ([`3b9a938`](https://github.com/RedHatInsights/vulnerability-engine/commit/3b9a938ad3cfa85fdcedac8bd970a30d5dd9618c))

* delete previously created branch ([`5da540c`](https://github.com/RedHatInsights/vulnerability-engine/commit/5da540cefc9972cc7d0071e831babe36beaeda36))

* test data in static tables as well ([`025bd57`](https://github.com/RedHatInsights/vulnerability-engine/commit/025bd57757a769029b59be73d280dbe19f126bc1))

* fix pylint in upgrade script ([`b191694`](https://github.com/RedHatInsights/vulnerability-engine/commit/b19169414ea69b647183b42d958002ff99cfcf8d))

* enable codecov and run pylint on db upgrade script ([`c52bfd1`](https://github.com/RedHatInsights/vulnerability-engine/commit/c52bfd1889362d510095fbfb513f9d33ffdb15fd))

* fix travis ([`b60cf63`](https://github.com/RedHatInsights/vulnerability-engine/commit/b60cf63421d75d57da6e092081ff9d40f16bda8f))

* Add missing requirement ([`d966dcf`](https://github.com/RedHatInsights/vulnerability-engine/commit/d966dcf55650e9fdc68ebc8d4c34a59fed4ff004))

* Add upgrade test ([`1e0cd37`](https://github.com/RedHatInsights/vulnerability-engine/commit/1e0cd379b3ac79bae8eca6de4f7e4a8413c09148))

* Set DB owner and create tables as this user ([`e09d748`](https://github.com/RedHatInsights/vulnerability-engine/commit/e09d748f3969d08e4757a709baf9c28c11500ece))

* POST API for /status is still required ([`8e10ee9`](https://github.com/RedHatInsights/vulnerability-engine/commit/8e10ee99749aa543410f0ecbb09f3367bf05cfac))

* add README file for manager ([`07fdc32`](https://github.com/RedHatInsights/vulnerability-engine/commit/07fdc32c1bb07996defc0f3514041de0bb27ff57))

* update tests ([`f7765c5`](https://github.com/RedHatInsights/vulnerability-engine/commit/f7765c5149d4562a92c421105ec79dbe0e61c0b4))

* rewrite vulnerabilities_handler into Flask application ([`4dc6b8a`](https://github.com/RedHatInsights/vulnerability-engine/commit/4dc6b8a4e69e1d1d27b969df4690c8b238d0751e))

* rewrite system_handler into Flask application ([`059947d`](https://github.com/RedHatInsights/vulnerability-engine/commit/059947db6b61cf2b25b39495abffe65929522b94))

* rewrite status_handler into Flask application ([`f07627f`](https://github.com/RedHatInsights/vulnerability-engine/commit/f07627fffdfe4475fee448ecc66e8f9a6ca6c227))

* rewrite cve_handler into Flask application ([`a3be117`](https://github.com/RedHatInsights/vulnerability-engine/commit/a3be117ab456d57e233a157c99dcaf47717353ce))

* rewrite base application handling into Flask compatible style ([`6d2e904`](https://github.com/RedHatInsights/vulnerability-engine/commit/6d2e90458b44efd23be8e68cabe1acf1b3573a93))

* create connexion (Flask) app instead of tornado one ([`bd69f1f`](https://github.com/RedHatInsights/vulnerability-engine/commit/bd69f1fe0004eddf02e9355a35a453c66ad6f37f))

* API documentation is not versioned ([`d4ff573`](https://github.com/RedHatInsights/vulnerability-engine/commit/d4ff5735f39cb61c98c311ba6718df7263ef1938))

* update API documentation ([`30cb919`](https://github.com/RedHatInsights/vulnerability-engine/commit/30cb919362d5a4ad9e13a60ae817658c8ae5c5c0))

* use vmaas v2 updates API and make it configurable ([`9e52d78`](https://github.com/RedHatInsights/vulnerability-engine/commit/9e52d7851862875c494db97a60416145165116c4))

* authentication header must be allowed in CORS ([`1871902`](https://github.com/RedHatInsights/vulnerability-engine/commit/1871902999064b193acbfe07d6b9e8c2dee2e6e7))

* fix API parameters examples ([`bf5ed85`](https://github.com/RedHatInsights/vulnerability-engine/commit/bf5ed8566fd784951e99d85eb9108f34d78e5fdc))

* use fixed versions of python libraries in requirements-xxx.txt files ([`71c6f4c`](https://github.com/RedHatInsights/vulnerability-engine/commit/71c6f4c2f18f9f7f7cb41a4b030304da32305a81))

* populate dynamic values of the API documentation ([`84e153c`](https://github.com/RedHatInsights/vulnerability-engine/commit/84e153cf9244365c9e1026de82df66c9d5307310))

* OPTIONS API should always succeed unauthenticated ([`9354133`](https://github.com/RedHatInsights/vulnerability-engine/commit/93541333475832c53e88a256ec22805d15b5570b))

* update database readme with new location of files ([`2d467a5`](https://github.com/RedHatInsights/vulnerability-engine/commit/2d467a5e8c11cb7f2e64ccd881da542bf64b6da8))

* Accepted PR for links-stanza was missing an entire commit. Here it is.

* link-stanza links should now include all args passed into the API
* More/better tests

The leaking abstractions between Handler and View are really painful - this
part of the architecture neds to be revisted and tightened up. ([`20d1bac`](https://github.com/RedHatInsights/vulnerability-engine/commit/20d1bac040b86a9233091666713e5241f979495a))

* test overrides init, need to add new attribute ([`1e5bd6e`](https://github.com/RedHatInsights/vulnerability-engine/commit/1e5bd6e7a19d109a52fe20c4a76b0015869b70a3))

* start using requests sessions to reuse connections ([`eacfe1d`](https://github.com/RedHatInsights/vulnerability-engine/commit/eacfe1d8cb8448b1fa563c57ecf5291c2267a829))

* wait until kafka is up and create topics with multiple partitions for scalability testing ([`65fe6db`](https://github.com/RedHatInsights/vulnerability-engine/commit/65fe6db083692a30be4c01132abd42ab71217a07))

* only evaluate latest version of each package ([`3bda28d`](https://github.com/RedHatInsights/vulnerability-engine/commit/3bda28dfa8c08f09284408d1171ff447fb53f90c))

* enable PG10 in travis ([`ba013cc`](https://github.com/RedHatInsights/vulnerability-engine/commit/ba013ccdeb4ab70a89a88bc7b0b7c04e450bbd91))

* commit once after system is processed ([`ce7fbc4`](https://github.com/RedHatInsights/vulnerability-engine/commit/ce7fbc428396817ec7683488afcd7ef1a1eada7e))

* lock system row before evaluation starts ([`c1a67de`](https://github.com/RedHatInsights/vulnerability-engine/commit/c1a67de6ac31da5070d35050af98c1b4569e7136))

* row can be inserted by other evaluator or vmaas_sync ([`93e6256`](https://github.com/RedHatInsights/vulnerability-engine/commit/93e6256f12842c1277aef09139ef69f62e4457d4))

* insert or update system using single SQL statement + add explicit rollback ([`279d083`](https://github.com/RedHatInsights/vulnerability-engine/commit/279d0833cb637b8c8b017edd09be080aeb7088f3))

* remove old apispec stuff ([`2622a8f`](https://github.com/RedHatInsights/vulnerability-engine/commit/2622a8f056d704548c63ac9deb08082f23e6ca0c))

* add complete API doc ([`b4d6ffa`](https://github.com/RedHatInsights/vulnerability-engine/commit/b4d6ffa95a89d2ed43b7e99216153dea02e0d3af))

* fix vmaas service host for local deployment ([`060d295`](https://github.com/RedHatInsights/vulnerability-engine/commit/060d29582470d4f24d3ae7edf5664e171d623151))

* make sure kafka container starts again when it&#39;s killed ([`e4b472c`](https://github.com/RedHatInsights/vulnerability-engine/commit/e4b472c272bd8420f0297e0597eede5e4017c0b6))

* run zookeeper and kafka in daemon mode ([`c8fb145`](https://github.com/RedHatInsights/vulnerability-engine/commit/c8fb1455585a400860cb4bded5a4ffc5cd2ea42f))

* when meta is empty, don&#39;t return it ([`5b90362`](https://github.com/RedHatInsights/vulnerability-engine/commit/5b90362ac5091edcc6c152468a7cc728668b23d2))

## v0.8.0 (2019-04-09)

### Unknown

* Correctly handle filter/sort args in links-stanza ([`a5c5862`](https://github.com/RedHatInsights/vulnerability-engine/commit/a5c5862fd0189244e84789ef48f78a29675c8251))

* Refactor/cleanup limit/offset and links code based on demo comments ([`c0ae558`](https://github.com/RedHatInsights/vulnerability-engine/commit/c0ae5586c37d978d3e91ac746194e259511be58f))

* Make sure admin user has createrole attribute ([`7358a9c`](https://github.com/RedHatInsights/vulnerability-engine/commit/7358a9cdfa40bfbec7140dc1f2050dfd1c9ff6ed))

* add script to simply generate testing archives based on vmaas json input ([`a345725`](https://github.com/RedHatInsights/vulnerability-engine/commit/a345725b19eb7b59541d9f4b63295c12b4704566))

* don&#39;t change status for opted_out/satellite_managed systems ([`1eb4f70`](https://github.com/RedHatInsights/vulnerability-engine/commit/1eb4f70ee4137fdad247624cc123ecab1857dc09))

* make /status GET response compliant to IPP ([`7c28cfa`](https://github.com/RedHatInsights/vulnerability-engine/commit/7c28cfa8ad6bbcd3a0ebfa15d83d3d1b66b869a8))

* fix show_all=true for requests with hide_satellite_managed=true ([`cb03a98`](https://github.com/RedHatInsights/vulnerability-engine/commit/cb03a980eee0d1a5b7108595d713073ce3a7d9a3))

* Add unit-tests for status-handler ([`b9d2d82`](https://github.com/RedHatInsights/vulnerability-engine/commit/b9d2d826c2c4c71ecd24fe4e9d824b2b2920e478))

* allow filtering cves by their severity_id ([`5115eb5`](https://github.com/RedHatInsights/vulnerability-engine/commit/5115eb57d95fcdab9f079882a9b05a057cfa2ea4))

* add test for vulnerabilities/cves?show_all=true ([`50594ae`](https://github.com/RedHatInsights/vulnerability-engine/commit/50594ae08d89710d1b8aab3a6213c0333c46182b))

* return 0 instead of NULL for count of affected systems (show_all=true) ([`4ffa2c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/4ffa2c6e61a1f49c741817d5eae5366a65554713))

* Clean after manager tests as they are changing database ([`7d572c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/7d572c6d75bb9f34d53f35d1da49081d72ed3944))

* store basic cve stanza in evaluator, sync all cve details in vmaas-sync service ([`c77eeff`](https://github.com/RedHatInsights/vulnerability-engine/commit/c77eeff88c0bb627efe98ad9a5e27c9cd4c1c502))

* move VMaaS CVE sync procedure to vmaas-sync service ([`e28bad5`](https://github.com/RedHatInsights/vulnerability-engine/commit/e28bad56c333e95adfa0358e39bb4fea62299fac))

* update config of VMaaS sync service ([`152baff`](https://github.com/RedHatInsights/vulnerability-engine/commit/152baff2ad5840fd48596cf8bdf852b6c441f844))

* add vmaas sync DB user ([`dff0259`](https://github.com/RedHatInsights/vulnerability-engine/commit/dff0259d2763705e62095752ba34e5b231375d6c))

* install postgresql, psycopg2 and requests to perform CVE import ([`994119a`](https://github.com/RedHatInsights/vulnerability-engine/commit/994119a74f948b3c2d5a914d15783e156da23023))

* Use PostgreSQL for manager tests; move tests to subdirs ([`a673d88`](https://github.com/RedHatInsights/vulnerability-engine/commit/a673d88fb6a4cf6c8c1199803b977591db6dfa5c))

* fix table merging breaking show_all option ([`def4fa9`](https://github.com/RedHatInsights/vulnerability-engine/commit/def4fa9d0fe17c53c065c86ce04f37e09e7ab907))

* send single upload to listener more than once based on header value + add some doc ([`c331e0c`](https://github.com/RedHatInsights/vulnerability-engine/commit/c331e0ca9a93a997353ef4f135966ab79f00a0aa))

* cache system ids to make repeated uploads faster ([`806ada9`](https://github.com/RedHatInsights/vulnerability-engine/commit/806ada97925a41dd6196e4e4338514862fdb9c40))

* Vulnerabilities API should be available with or without / at the end ([`1f3b0f5`](https://github.com/RedHatInsights/vulnerability-engine/commit/1f3b0f5a6bc991e9f71c6b5012e1dd03d22310a6))

* reduce number of intermediate Docker images after code change ([`f51f361`](https://github.com/RedHatInsights/vulnerability-engine/commit/f51f3618b75e1fc60e444b387d5500268d5eb3f0))

* delete unused APIs, used only for demoing ([`8fa724f`](https://github.com/RedHatInsights/vulnerability-engine/commit/8fa724fd6165e8d386a150d6d05b3ce8d4059d12))

* return opt_out information in the /systems meta section ([`72a9b1b`](https://github.com/RedHatInsights/vulnerability-engine/commit/72a9b1b5446959daeff0f963377b0e629cf4c948))

* update tests ([`ff0ab6c`](https://github.com/RedHatInsights/vulnerability-engine/commit/ff0ab6ca246432731b927e8ab5ca6642d90cd93a))

* allow hiding of satellite-managed systems in the manager API ([`d7203ad`](https://github.com/RedHatInsights/vulnerability-engine/commit/d7203ad97dc8fab78b38de81463fc15f1afeadb4))

* cache systems which are not satellite_managed independently ([`ebb6562`](https://github.com/RedHatInsights/vulnerability-engine/commit/ebb6562693a0b84e75f7ca28135b95ae33a454a3))

* simplify query by removing redundant condition ([`39dbdc7`](https://github.com/RedHatInsights/vulnerability-engine/commit/39dbdc72e4682aee499d4ade46b4787f583b143c))

* fix python 3 and add executable flag ([`15fb316`](https://github.com/RedHatInsights/vulnerability-engine/commit/15fb316394145852220efdfaa3dcd7896ac7488e))

* add example how to upload archive using platform mock ([`8a644e9`](https://github.com/RedHatInsights/vulnerability-engine/commit/8a644e90751a7bf438cfe9b15edd7fa20f2d06e1))

* add mock upload service to platform mock container ([`afe6af0`](https://github.com/RedHatInsights/vulnerability-engine/commit/afe6af03ab2bfd6f00deb4c04dba00b19a682aaa))

* rename testing kafka container to platform_mock ([`ac1a792`](https://github.com/RedHatInsights/vulnerability-engine/commit/ac1a7926ad95ee94fe10e63bff69bfea67bb82b0))

* unify KAFKA_HOST, KAFKA_PORT and KAFKA_GROUP_ID to use everywhere ([`23bb483`](https://github.com/RedHatInsights/vulnerability-engine/commit/23bb483188ea096339c9767a56f75d7000a218f1))

* wait until kafka is ready ([`3979c3f`](https://github.com/RedHatInsights/vulnerability-engine/commit/3979c3f0329b3623b5196b9d9511e454984e3a54))

* do not collide with exposed vmaas apidoc port ([`f9ad3dd`](https://github.com/RedHatInsights/vulnerability-engine/commit/f9ad3dd4dbb3d64c80cbf04d1e5e4f2b867fcc7d))

* move status setting into PATCH method ([`8f62053`](https://github.com/RedHatInsights/vulnerability-engine/commit/8f620538069129aadb56760aec4c94098d178673))

* Add database-upgrade ([`a3388e0`](https://github.com/RedHatInsights/vulnerability-engine/commit/a3388e0b8643e7b022947fb2c0c2f862ef0056b0))

* remove old gitignores ([`4448350`](https://github.com/RedHatInsights/vulnerability-engine/commit/4448350601fc0b9f0fb65b4e49e0af8f66018587))

* add new separated vmaas-sync service ([`048d804`](https://github.com/RedHatInsights/vulnerability-engine/commit/048d804d56f833fbdc68f570b412dbd5bbe050a0))

* remove vmaas listener from listener ([`3bf498d`](https://github.com/RedHatInsights/vulnerability-engine/commit/3bf498dd4a5693cb5f34cc084722bbb6ad86cef1))

* wait for PostgreSQL only if DB is defined ([`9bd338c`](https://github.com/RedHatInsights/vulnerability-engine/commit/9bd338c64f5abbe8bb17b1f1d933121a5522015a))

* allow filtering affected systems by inventory_id ([`60cfb1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/60cfb1cef10d48b7ef16756fd8daf80b24e7f4d6))

* evaluator user needs permission as well ([`f352943`](https://github.com/RedHatInsights/vulnerability-engine/commit/f3529437007e03728705bcbac869009b8bdfafc8))

## v0.7.0 (2019-03-27)

### Unknown

* VMAAS-384 - Move to limit/offset pagination

Respond to *both* page/page_size/pages and limit/offset/total_items. ListView query now
uses .limit(lim).offset(offset).__iter__ instead of paginate(page, page-size) ([`1e65079`](https://github.com/RedHatInsights/vulnerability-engine/commit/1e65079b98c4197ff1e64a110382e849fcd4f1e4))

* run trigger only when opt_out column is updated ([`f5e05f0`](https://github.com/RedHatInsights/vulnerability-engine/commit/f5e05f040f3b72efd103289e5a0ca19ac65deb05))

* manager user needs to change this table for opt-out functionality ([`0ca16b8`](https://github.com/RedHatInsights/vulnerability-engine/commit/0ca16b8a108d0987cfbe50cd8fafa54bb70e0c0b))

* skip opt-out/in trigger for not evaluated systems and don&#39;t count mitigated vulnerabilities ([`c0d7fe1`](https://github.com/RedHatInsights/vulnerability-engine/commit/c0d7fe10107c0b4f8cd215ae7de69e31eb3cc13c))

* in refresh_all_cached_counts procedure don&#39;t count not evaluated + opted out systems and mitigated vulnerabilities ([`38f1fbb`](https://github.com/RedHatInsights/vulnerability-engine/commit/38f1fbb63b605117cb81cdfb7c07a0eea6942bb0))

* add trigger to update opted out/in systems cache ([`b31b076`](https://github.com/RedHatInsights/vulnerability-engine/commit/b31b0763da78d7308866abc722bc51d8791bdf6b))

* fix evaluator test ([`8f15b3b`](https://github.com/RedHatInsights/vulnerability-engine/commit/8f15b3ba83240862b06c9ea0470e6d03582d181e))

* add new data to unit tests ([`2a9c8f6`](https://github.com/RedHatInsights/vulnerability-engine/commit/2a9c8f6d6132f9a9ce8f61eb32d4bb17486d96a5))

* this is a bug in previous version of select and test not listing systems with all cves mitigated ([`5e9a7f7`](https://github.com/RedHatInsights/vulnerability-engine/commit/5e9a7f7f63fa9226aa55ee59df2e32356e8a3680))

* update queries to use cached counts ([`624349d`](https://github.com/RedHatInsights/vulnerability-engine/commit/624349d39c46ea1e8e911a519346494d9b38007e))

* store cached counts during evaluation ([`20d8e1e`](https://github.com/RedHatInsights/vulnerability-engine/commit/20d8e1e27749c2f9e91aedbf0746c929b75c2d25))

* add peewee mapping for caching tables ([`111e3e7`](https://github.com/RedHatInsights/vulnerability-engine/commit/111e3e71bac10ab2a3fe81562e73eaa24714438d))

* create caching column and table ([`48d93b4`](https://github.com/RedHatInsights/vulnerability-engine/commit/48d93b496e1782fb91945b5ed415e1e1c32ad9b7))

* fix wrong where condition ([`c1bb81c`](https://github.com/RedHatInsights/vulnerability-engine/commit/c1bb81c603a8e3e1f85d8f8decd05ad6c353915a))

* fix system filtering ([`59edf76`](https://github.com/RedHatInsights/vulnerability-engine/commit/59edf769f36ba3e0eaae749fcea7437dcc94cde6))

* unit tests for opt_out flag ([`91c7c1d`](https://github.com/RedHatInsights/vulnerability-engine/commit/91c7c1d79f0721713368df6d823c2ecda986d785))

* hide opted out systems ([`f557ebf`](https://github.com/RedHatInsights/vulnerability-engine/commit/f557ebf6d5c66d97ba9a386107e35ed42d175d92))

* allow setting of the opt_out flag ([`1b9bc04`](https://github.com/RedHatInsights/vulnerability-engine/commit/1b9bc0463e80510997668bcaa81d4c2bb5c9085b))

* add opt_out flag for a system ([`fa5ec75`](https://github.com/RedHatInsights/vulnerability-engine/commit/fa5ec752768a157ad1ee3e8eb12efcbab0d6e314))

* install pip requirements first, then add our code ([`c7b8eeb`](https://github.com/RedHatInsights/vulnerability-engine/commit/c7b8eeb86212812afd8e9dd82ef69242419b42bb))

* fix old manager test as well ([`584453e`](https://github.com/RedHatInsights/vulnerability-engine/commit/584453e86cf17e96d02d8fba691cfe7c1ab380da))

* vulnerabilities with set mitigation timestamp should be ignored ([`664e56f`](https://github.com/RedHatInsights/vulnerability-engine/commit/664e56fa434e1de1382d52c0a3d0c81a35985600))

* fix unit tests to correctly count mitigated systems/cves ([`beeb1ec`](https://github.com/RedHatInsights/vulnerability-engine/commit/beeb1ec812b676415e5c06fb1af4c37b80b71292))

* upgrade to PG 10 ([`2a55040`](https://github.com/RedHatInsights/vulnerability-engine/commit/2a550401519094d84ab63c965db2c67151825bdd))

* change to new API prefix ([`39a5a1c`](https://github.com/RedHatInsights/vulnerability-engine/commit/39a5a1c04bca572c71492916326325e060a9f711))

* stay using aiokafka 0.5.0, 0.5.1 is unable to write to a topic in prod ([`d0faea1`](https://github.com/RedHatInsights/vulnerability-engine/commit/d0faea17ce0c5a846ff8ff5b01a207047c58749b))

* Fix manager test ([`09d2c01`](https://github.com/RedHatInsights/vulnerability-engine/commit/09d2c015dd39b46cd857b35a315654a57ce446d8))

* Fix testing evaluate_vmaas when response from vmaas is without CVEs ([`ee6a4ac`](https://github.com/RedHatInsights/vulnerability-engine/commit/ee6a4ac5e9c7ec9a5566d121129e384dcde00d24))

* Mock returns all CVEs from errata ([`1f5c5f2`](https://github.com/RedHatInsights/vulnerability-engine/commit/1f5c5f2949ac8cebacf0814e602db60b2fd33199))

* Delete rules test ([`3453b1f`](https://github.com/RedHatInsights/vulnerability-engine/commit/3453b1f8d35f64e51b7865f83cb20c8943115fd1))

* Move to separate dir ([`ddd325f`](https://github.com/RedHatInsights/vulnerability-engine/commit/ddd325f6433b39403a6d565433eb81e2acda5c65))

* Add testing.postgresql requirements ([`38f5e41`](https://github.com/RedHatInsights/vulnerability-engine/commit/38f5e41afa1d27e94589cac1543cd5f81e7b8ac3))

* lint ([`59542c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/59542c620c2503ac991da0ff8cd01234c466fba6))

* Add evaluator unit tests ([`168d95f`](https://github.com/RedHatInsights/vulnerability-engine/commit/168d95fd94e0f2d7a664b24f4fe7853ec6b491a9))

* Start postgre db and vmaas mock in conftest ([`f8de206`](https://github.com/RedHatInsights/vulnerability-engine/commit/f8de2069526e1bee76befd708a59f8bb32d53bb7))

* Add more test data ([`ec958e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/ec958e629baa3f8b03a386def090f7aa7133c341))

* no need to call VMAAS CVEs API here anymore + optimize ([`86fe96c`](https://github.com/RedHatInsights/vulnerability-engine/commit/86fe96c5ad550dd1ddec9b3cc59b02356a028773))

* check if CVE metadata are synced ([`af8f7b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/af8f7b665601a4c65dce49b18f188b3bcaf25d55))

* send VMAAS requests at one place ([`fff0aed`](https://github.com/RedHatInsights/vulnerability-engine/commit/fff0aeddbc04a942ef423187bacaa2f36925ccfc))

* sync CVE metadata from VMAAS at one place ([`972de8c`](https://github.com/RedHatInsights/vulnerability-engine/commit/972de8c4ae5bea90d3a19e2ef6ee17653cc4d925))

* it&#39;s not useful to start with other than first page ([`41e8f2b`](https://github.com/RedHatInsights/vulnerability-engine/commit/41e8f2b131497479a258aa0727326689969480c8))

* remove unused parameter ([`2b8dc14`](https://github.com/RedHatInsights/vulnerability-engine/commit/2b8dc14db56152f09299ce8cf7757437dcbbd29a))

* kafka is not requirement ([`99413a8`](https://github.com/RedHatInsights/vulnerability-engine/commit/99413a8ef0af4c0181230bea0076f77a6f139df4))

* add travis and codecov badge ([`9a3e93d`](https://github.com/RedHatInsights/vulnerability-engine/commit/9a3e93df42723cebe04cac3ac26ce6bd67789426))

* aiokafka 0.5.1 changed default value to 10000, we need more ([`49549fa`](https://github.com/RedHatInsights/vulnerability-engine/commit/49549fac6793834145460317fc34724b4eba02bd))

* Fix pylint ([`4d7686b`](https://github.com/RedHatInsights/vulnerability-engine/commit/4d7686b2c4387009f5e809b0f3d3839376ab1ae2))

* New manager tests and fixes ([`3a62515`](https://github.com/RedHatInsights/vulnerability-engine/commit/3a62515eb9fffbb4d34e2b2c65fecf6187884c20))

* check if CVE exists ([`e48b714`](https://github.com/RedHatInsights/vulnerability-engine/commit/e48b714a342ac3e20da3aed18d99b2acb44398ae))

* delete unused vars ([`4490c32`](https://github.com/RedHatInsights/vulnerability-engine/commit/4490c328a135b217ad300c5c6ed82b754ca93bcf))

* fix unit tests ([`86d81fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/86d81fed7cc881e834ac1c7707473f84b6983587))

* delete rules from vulnerabilities handler ([`54a1e3a`](https://github.com/RedHatInsights/vulnerability-engine/commit/54a1e3a8af38d464ca4bd3a329e1b8ea2360110b))

* delete rule handler from manager ([`de9d699`](https://github.com/RedHatInsights/vulnerability-engine/commit/de9d6998dcae0c0c218acb5d10fab3cc4824413a))

* delete peewee table mapping ([`a2e98f2`](https://github.com/RedHatInsights/vulnerability-engine/commit/a2e98f2939ee35004e44cdbcd56b35ec2a50c9aa))

* delete rules stuff from evaluator ([`37fc3d6`](https://github.com/RedHatInsights/vulnerability-engine/commit/37fc3d698d573d45697ceeab6898290f1bb4fd75))

* delete vulnerability_source from test data ([`6e2fe8e`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e2fe8ee162443844fc87798e41313f3099423f5))

* drop vulnerability_source, prodsec_rules and sys_vuln_rules_results tables ([`e64c1d9`](https://github.com/RedHatInsights/vulnerability-engine/commit/e64c1d95e215e21b95e4f29fe2783c9ce4d36a21))

* set vulnerabilities to mitigated in case VMAAS says system doesn&#39;t have any CVEs ([`b6e1c15`](https://github.com/RedHatInsights/vulnerability-engine/commit/b6e1c15a37894e481ac35019050506fdfd4602af))

* helper script: rsync to correct location ([`498cebc`](https://github.com/RedHatInsights/vulnerability-engine/commit/498cebce873ef1d0398c3c1802730998d8c89c9d))

## v0.6.0 (2019-03-08)

### Unknown

* VMAAS-328 Expose PROMETHEUS_PORT to listener ([`2f7ccc2`](https://github.com/RedHatInsights/vulnerability-engine/commit/2f7ccc2c9912dac73767cfb861c15813fbee8303))

* VMAAS-328 Add lots more prometheus probes ([`51a0f0c`](https://github.com/RedHatInsights/vulnerability-engine/commit/51a0f0c465d003574be85cc0c8476e6e33d9595d))

* tests: add tests for status_id filtering ([`ca30be2`](https://github.com/RedHatInsights/vulnerability-engine/commit/ca30be266741f30125c25fbd48324e9b0dd295c4))

* tests: set some status ids ([`24a2c93`](https://github.com/RedHatInsights/vulnerability-engine/commit/24a2c9352df19261970d7cb5f0494eaf68947828))

* add status_id filtering to cve and system APIs ([`8fdfadf`](https://github.com/RedHatInsights/vulnerability-engine/commit/8fdfadf51aafaccdbe6c7dc4171677617dfda4bd))

* store module information in VMaaS JSON ([`fde571b`](https://github.com/RedHatInsights/vulnerability-engine/commit/fde571b8b1ecac454044d6421eecf70b12a911ef))

* tests: only evaluated systems are visible, add more tests ([`793204b`](https://github.com/RedHatInsights/vulnerability-engine/commit/793204bfbc73e36161dadd2fc58dac229c684973))

* tests: if status code is 404, errors are expected ([`adeb335`](https://github.com/RedHatInsights/vulnerability-engine/commit/adeb33500f9f9952f0e0b634964eceb86e277bc9))

* tests: only 3 systems are visible because of not null last_evaluation ([`53e175c`](https://github.com/RedHatInsights/vulnerability-engine/commit/53e175c35a4ec27d80ceac2b89b3e14f6848e41e))

* tests: add last_evaluation attribute to schema ([`1fd37ca`](https://github.com/RedHatInsights/vulnerability-engine/commit/1fd37ca1907b29af09d9e6316aa1af553b7692e7))

* tests: fix test_systems_cves ([`dc75818`](https://github.com/RedHatInsights/vulnerability-engine/commit/dc75818617f2e6a4b42bef26d9fc8af02339b5be))

* tests: set last_evaluation for 3 systems ([`b263b42`](https://github.com/RedHatInsights/vulnerability-engine/commit/b263b42f511e15bdf6d536a615256f0ec43372b8))

* include last_evaluation timestamp ([`a44940c`](https://github.com/RedHatInsights/vulnerability-engine/commit/a44940c59953a6d63626cb761a0ea9ac268f81b9))

* return 404 when system doesn&#39;t exist or wasn&#39;t evaluated ([`ff36271`](https://github.com/RedHatInsights/vulnerability-engine/commit/ff36271e4157b866c843858a6c71ecc82c564336))

* do not return not evaluated systems in /systems list ([`d0e6481`](https://github.com/RedHatInsights/vulnerability-engine/commit/d0e6481cd83276eaf53746b31034f54c11101cf0))

* save timestamp when system was evaluated last time ([`b9426b0`](https://github.com/RedHatInsights/vulnerability-engine/commit/b9426b046fca366f5a4b77e7100683c43a496bdd))

* add more messages to script ([`fbe8e73`](https://github.com/RedHatInsights/vulnerability-engine/commit/fbe8e7361abed80f16bcb866c57a77069b8c7e1a))

* test tests/ dir using pylint ([`fffa2a7`](https://github.com/RedHatInsights/vulnerability-engine/commit/fffa2a74da4d152591dc3c05d1985b83df7cb498))

* fix deprecation warnings reported by pytest ([`ceae8d7`](https://github.com/RedHatInsights/vulnerability-engine/commit/ceae8d7bf583fe1b1af203124e541f58ddf5526b))

* modify run_tests.sh to run all tests in single run ([`ea8a843`](https://github.com/RedHatInsights/vulnerability-engine/commit/ea8a843d2a0db91046ab32baa287a3d443abc61f))

* Running unit tests with travis ([`f69e727`](https://github.com/RedHatInsights/vulnerability-engine/commit/f69e727b3e7428d7e4aec11fab80b79ee3a67c00))

* Make sure status-update actually updates ([`18beeb1`](https://github.com/RedHatInsights/vulnerability-engine/commit/18beeb10736954c5387d65220ef34863ed7cd3a1))

* satisfy pylint after tornado 6.0 update ([`afdf74e`](https://github.com/RedHatInsights/vulnerability-engine/commit/afdf74e8bcf8140826a67d9c7b149955e1b60fef))

* delete unused main entrypoint ([`9698404`](https://github.com/RedHatInsights/vulnerability-engine/commit/9698404c596eb78eceb1ffbbf0adb540eb0d2810))

* do not fail archive parsing if repos are not found

create vmaas request without repo_list section if no repositories are found - vmaas will do best-effort search ([`928baae`](https://github.com/RedHatInsights/vulnerability-engine/commit/928baae44a5c915511560b8e8671420587aeba33))

* log error if package list is missing ([`144b9f3`](https://github.com/RedHatInsights/vulnerability-engine/commit/144b9f35d80d68d31c2cc27928c0c79544bb632e))

* warn about missing /etc listing in archive ([`71382ea`](https://github.com/RedHatInsights/vulnerability-engine/commit/71382ea4dc9bdd1551bc3393afb3960b1673caa9))

* log traceback when parsing archive fails ([`354cde5`](https://github.com/RedHatInsights/vulnerability-engine/commit/354cde54a75c10fe8049efa568af757fdd93024f))

* Addressing review comment ([`b58f06e`](https://github.com/RedHatInsights/vulnerability-engine/commit/b58f06ee10db76d74c6af86e0d288d44e3b54010))

* Line length is max 120 chars ([`190ea99`](https://github.com/RedHatInsights/vulnerability-engine/commit/190ea99ad45d78d291ff7248daff65ad245eb8ee))

* pre-commit and Python 3 compatibility ([`7b43084`](https://github.com/RedHatInsights/vulnerability-engine/commit/7b43084148eb22ba37e69ddce9f727aaef962b65))

* Adds missing data for database mock

https://github.com/RedHatInsights/vulnerability-engine/pull/173#issuecomment-467012145 ([`19679bf`](https://github.com/RedHatInsights/vulnerability-engine/commit/19679bf122f3f00b0303844bb4a5ffcaa5c1534f))

* Adapted to recent changes in codebase ([`c693b33`](https://github.com/RedHatInsights/vulnerability-engine/commit/c693b33f12e76b1e0ee2d413633c40017263b3ce))

* Rebased unittest ([`2fa8213`](https://github.com/RedHatInsights/vulnerability-engine/commit/2fa821372d253976401dab792955fa3d351fa893))

## v0.5.0 (2019-02-22)

### Unknown

* fixing one more column than expected ([`c8acb6f`](https://github.com/RedHatInsights/vulnerability-engine/commit/c8acb6f9edc6462a1271f49b26369887e28181b9))

* delete all occurrences of display_name/hostname ([`9d60aa4`](https://github.com/RedHatInsights/vulnerability-engine/commit/9d60aa44ae0dd466020dc13c01c03b338a10b228))

* Fix run_tests ([`618cef5`](https://github.com/RedHatInsights/vulnerability-engine/commit/618cef53a85bd511f3dbdb3a6117a7b91bfe0d06))

* Fix project structure so imports are valid ([`59ee30f`](https://github.com/RedHatInsights/vulnerability-engine/commit/59ee30f0f7e4c375b85cb762012eccd1c2e6c6db))

* use psycopg2-binary instead of psycopg2 ([`b31672d`](https://github.com/RedHatInsights/vulnerability-engine/commit/b31672d2716199af9d611eb6450e53910d88c0a7))

* adapt to semantic versioning with major.minor versioning ([`3637467`](https://github.com/RedHatInsights/vulnerability-engine/commit/36374678a84846791f1e164ea3946883a1adb64a))

* move the apispec endpoint to openapi.json to be compliant with IPP ([`d5476d7`](https://github.com/RedHatInsights/vulnerability-engine/commit/d5476d7492320f52ea259f81397483c46252ee0b))

* return apidoc in openapi v3.0 format ([`4f57b22`](https://github.com/RedHatInsights/vulnerability-engine/commit/4f57b22ae44a103db9d9d50c940a2991534e4f4e))

## v0.4.0 (2019-02-13)

### Unknown

* add test to check if centos and rhel dockerfiles match ([`2dd908e`](https://github.com/RedHatInsights/vulnerability-engine/commit/2dd908e85d7235d64dcb75e4d9776f7640163f4e))

* add missing rebase in evaluator and manager rhel7 ([`095ecf5`](https://github.com/RedHatInsights/vulnerability-engine/commit/095ecf54604a238edf0511b470521dd8b968655b))

* Update vulnerability containers to rhel7 and python3 ([`46a36a7`](https://github.com/RedHatInsights/vulnerability-engine/commit/46a36a746123dabf14fb1a47fac59b66fa990c06))

* start using centos + python3 from scl as base for evaluator container ([`4a20280`](https://github.com/RedHatInsights/vulnerability-engine/commit/4a20280dfdb6d5f7f5aa2883b344936152aae8da))

* find python3 from scl ([`5ce575f`](https://github.com/RedHatInsights/vulnerability-engine/commit/5ce575fdb01d03728513a268fd7eceb1f60d7558))

* log it as DEBUG to reduce number of logs ([`180634d`](https://github.com/RedHatInsights/vulnerability-engine/commit/180634d1b36dfb2c10a41fac49729ec601ec3423))

* VMAAS-309 - producer fails badly when we want to write many messages at once, try to connect only once ([`93f2be4`](https://github.com/RedHatInsights/vulnerability-engine/commit/93f2be48118fa7cb39299ade6ab044f4085fb03f))

* remove unused attributes in message for evaluator ([`53d99ec`](https://github.com/RedHatInsights/vulnerability-engine/commit/53d99ec50feb04977d19bb75f5a931873f66dc4b))

* VMAAS-309 - schedule all systems re-evaluation instead of re-evaluating immediately ([`b5af0a8`](https://github.com/RedHatInsights/vulnerability-engine/commit/b5af0a815d47f68308cf0731eeb305c840e313e6))

* log evaluated systems ([`2740e05`](https://github.com/RedHatInsights/vulnerability-engine/commit/2740e05120ace1986e4cc7ba259ab757dc0ad7f1))

* make syncing cves more verbose ([`d79bf5a`](https://github.com/RedHatInsights/vulnerability-engine/commit/d79bf5a40aa9f419504ab1b324d37e5bc9543f6e))

* temporarily run on apispec 0.39.0 until we migrate to 1.0.0 ([`5a15819`](https://github.com/RedHatInsights/vulnerability-engine/commit/5a15819dae4639907b7db25f65d0dfa693ea0f92))

* separate logging level for our code and libs

sometimes INFO messages from libs are overly verbose (listener: insights-core - spam of msgs every processed archive)
sometimes INFO messages from libs are useful (manager: tornado - logging HTTP 200 requests) ([`7a4deba`](https://github.com/RedHatInsights/vulnerability-engine/commit/7a4debae2052d79428e004f21c51b13c268c329a))

* use unified logging module in manager ([`44f854f`](https://github.com/RedHatInsights/vulnerability-engine/commit/44f854fbc369422d972f2e147747fb174547faff))

* use unified logging module in evaluator ([`7672de4`](https://github.com/RedHatInsights/vulnerability-engine/commit/7672de4ebf0a14c8a71479ffff68abebd891a431))

* always include time in log messages to make it readable not only from kibana ([`b84d441`](https://github.com/RedHatInsights/vulnerability-engine/commit/b84d4418c20a538a30d94fd12c1f100e29aa255d))

* use common.logging in mqueue ([`5ec5ed2`](https://github.com/RedHatInsights/vulnerability-engine/commit/5ec5ed212ce96fed9dc62bfd0aebf6f3d51af1bd))

* rename common.py to base.py to not conflict with common code dir ([`1e6947c`](https://github.com/RedHatInsights/vulnerability-engine/commit/1e6947ca30cc449fcf5a2fb6c3022f7d9bb223e1))

* use only one waiting script ([`3c761f3`](https://github.com/RedHatInsights/vulnerability-engine/commit/3c761f388f652a5ccc8a0f5db6517ad65e933177))

* move database handlers to common code dir ([`a580f47`](https://github.com/RedHatInsights/vulnerability-engine/commit/a580f479df6bdb041f6050be47df9afd1a44eb44))

* move mqueue to common dir ([`5c8a78e`](https://github.com/RedHatInsights/vulnerability-engine/commit/5c8a78ea72e0e71d0ce2a6929a0bc1677b558864))

* move listener common code dir to parent dir to reuse ([`c28202b`](https://github.com/RedHatInsights/vulnerability-engine/commit/c28202b4cb16e0cebd435ccff0eb5d164e5fc195))

* machine_id is not used, do not parse it ([`2ade3ca`](https://github.com/RedHatInsights/vulnerability-engine/commit/2ade3ca03e857511ea68be2224b08ad9ba0a7a57))

* VMAAS-270 : expose satellite_managed to the API

Accessible from :
curl http://MACHINE:8300/r/insights/platform/vulnerability/v1/cves/CVE-2019-000666/affected_systems | python -m json.tool
{
    &#34;meta&#34;: {...},
    &#34;data&#34;: [
        {
            &#34;type&#34;: &#34;system&#34;,
            &#34;id&#34;: &#34;inventory-01&#34;,
            &#34;attributes&#34;: {
                &#34;inventory_id&#34;: &#34;inventory-01&#34;,
                &#34;status_id&#34;: 2,
                &#34;status_name&#34;: &#34;On-Hold&#34;,
                &#34;satellite_managed&#34;: false
            }
        }
    ]
}

AND

curl http://MACHINE:8300/r/insights/platform/vulnerability/v1/systems | python -m json.tool
{
    &#34;data&#34;: [
        {
            &#34;attributes&#34;: {
                &#34;inventory_id&#34;: &#34;inventory-01&#34;,
                &#34;satellite_managed&#34;: false,
                &#34;cve_count&#34;: 1
            },
            &#34;id&#34;: &#34;inventory-01&#34;,
            &#34;type&#34;: &#34;system&#34;
        }
    ],
    &#34;meta&#34;: {...}
} ([`73fc56f`](https://github.com/RedHatInsights/vulnerability-engine/commit/73fc56f75486939dcfcefdb130d2a8f3e69f459b))

* stop kicking off rules-engine processing ([`ad5c5ec`](https://github.com/RedHatInsights/vulnerability-engine/commit/ad5c5ecad872ba99500b1ed0f64f3f887716e61b))

* VMAAS-296 : Make evaluator more robust in the face of empty data ([`2670ed6`](https://github.com/RedHatInsights/vulnerability-engine/commit/2670ed6982cc5248347a078c2e0fb9391029b1f8))

* VMAAS-297 : Bug introduced by inv/insights-id refactoring ([`03b434f`](https://github.com/RedHatInsights/vulnerability-engine/commit/03b434f61f650833fa748a15ada96776785650f1))

## v0.3.0 (2019-02-06)

### Unknown

* send inventory_id to evaluator and rename id parsed from archive (now unused) ([`5d08ea6`](https://github.com/RedHatInsights/vulnerability-engine/commit/5d08ea65dca86a4ce84a439ca93b1d5c91209f7c))

* VMAAS-262 : Teach test to look for INV instead of INS ([`22b13ea`](https://github.com/RedHatInsights/vulnerability-engine/commit/22b13ea79b369e39b1fd47f9eb311a2e140b9f1e))

* VMAAS-262 : pyline in rule_handler ([`92282fe`](https://github.com/RedHatInsights/vulnerability-engine/commit/92282fea2136a15ee74044f0ec29ec024b4f4f8b))

* VMAAS-262 : Remove insights_id refs, use only inventory_id for everything ([`33638c9`](https://github.com/RedHatInsights/vulnerability-engine/commit/33638c92fc47554b99e2b217e836dc697143533d))

* delete old mock data ([`b2bd739`](https://github.com/RedHatInsights/vulnerability-engine/commit/b2bd7392bd7a698fe5aa25f15da6b53c1a7e0353))

* Change to pip install as root so any user can access the libs ([`00ac8dc`](https://github.com/RedHatInsights/vulnerability-engine/commit/00ac8dcb9fa09aaaf7a59b8a2befe3405a542b0d))

* add rhel-based version of listener ([`504f28c`](https://github.com/RedHatInsights/vulnerability-engine/commit/504f28c47e29ce8a94ca67421f011fab6a8d2f8b))

* start using centos + python 3 from scl as base for listener container ([`c40581d`](https://github.com/RedHatInsights/vulnerability-engine/commit/c40581dd1ef1224d2a3a3f4001720a7b2e3f8427))

* find python3 from scl ([`9d89663`](https://github.com/RedHatInsights/vulnerability-engine/commit/9d89663173dae2a2a9f80ca930c2ac78f3a2a535))

* fix #154 - open/close connection per request handler as recommended in peewee doc ([`6fff9bb`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fff9bbcdb637882b62f01c4bdc69fe6548f3980))

* simplify peewee connection, don&#39;t use singleton class ([`186c546`](https://github.com/RedHatInsights/vulnerability-engine/commit/186c546a81c81dc1a1028f9867965a75ce161852))

* Status - added missing status-option, fixed status_handler.apispec typo ([`f6b415b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f6b415be1647155ca903ff8ac41bed34fb0df381))

* Status - Add GET to return all allowed statuses; change POST to look for JSON

Also fixed status_handler APISpec and some error-handling ([`b9a4c43`](https://github.com/RedHatInsights/vulnerability-engine/commit/b9a4c43941fe3db4a26e73bf5144edf57f26c2f5))

* add support to get all rule details for a system ([`df2f638`](https://github.com/RedHatInsights/vulnerability-engine/commit/df2f6386ce8ce9d8e5f186368ce59d9e3bcd4c60))

* Status: fixed pylint error ([`dc81c78`](https://github.com/RedHatInsights/vulnerability-engine/commit/dc81c78c9610bfb7c132ad9b89b628e1670186ce))

* Status - UPDATE. Add POST support for changing status-id of a specified system/cve pair

POST looks for incoming parameters insights_id, cve, and status_id

Returns 404 if insights_id/cve doesn&#39;t exist or isn&#39;t visible to logged-in rh_account-number.
Returns 400 if any of the three parameters aren&#39;t provided
Returns 400 if status_id is out of range for the &#39;status&#39; table
Returns 200 if the update is successful

Example curl:

curl -X POST -d @status.form http://&lt;machine&gt;:8300/r/insights/platform/vulnerability/v1/status
status.form:
  insights_id=&lt;id&gt;;cve=&lt;cve-name&gt;;status_id=4 ([`b1d5003`](https://github.com/RedHatInsights/vulnerability-engine/commit/b1d500390d2f02e6f01015de2a35cbd2d9201403))

* Status - READ

* GET cves/CVE-2019-000666/affected_systems
  ...&#34;attributes&#34;: {&#34;insights_id&#34;: &#34;insights-01&#34;, &#34;inventory_id&#34;: &#34;inventory-01&#34;, &#34;status_id&#34;: 2, &#34;status_name&#34;: &#34;On-Hold&#34;}}]
* GET systems/insights-01/cves
  ...&#34;data&#34;: [{&#34;type&#34;: &#34;cve&#34;, &#34;id&#34;: &#34;CVE-2019-000666&#34;, &#34;attributes&#34;: {&#34;synopsis&#34;: &#34;CVE-2019-000666&#34;, &#34;public_date&#34;: &#34;&#34;, &#34;impact&#34;: &#34;None&#34;, &#34;description&#34;: &#34;description&#34;, &#34;cvss2_score&#34;: &#34;&#34;, &#34;cvss3_score&#34;: &#34;&#34;, &#34;status_id&#34;: 2, &#34;status&#34;: &#34;On-Hold&#34;}}] ([`59fd7f6`](https://github.com/RedHatInsights/vulnerability-engine/commit/59fd7f69cc8bb94ef57bb6fbe71217f8908d6b70))

* Status - model/schema changes ([`39897c0`](https://github.com/RedHatInsights/vulnerability-engine/commit/39897c0dc741156b5d549d3e132c1270318a0e47))

* determine systems registered to satellite based on logic from registration bootstrap script ([`a8e7e1b`](https://github.com/RedHatInsights/vulnerability-engine/commit/a8e7e1ba35ca1d814072d8fbf63f3db3e04e9576))

* add satellite_managed column ([`832e939`](https://github.com/RedHatInsights/vulnerability-engine/commit/832e93923cb20899e9a975c9cd7b6ee1aa6ff3c6))

* fix #48 - rename &#39;celebrity&#39; to &#39;high_visibility&#39; ([`829e7f2`](https://github.com/RedHatInsights/vulnerability-engine/commit/829e7f233315a25390e205cfa1badb21ddf62c66))

* rename error_key to rule_id ([`8800c49`](https://github.com/RedHatInsights/vulnerability-engine/commit/8800c495037b5301e7309ab727e9f10eeeed6d8b))

* add api to return rule results details ([`7acf0d1`](https://github.com/RedHatInsights/vulnerability-engine/commit/7acf0d1822bdb754ccd8467956effe4b43e3a766))

* manager: add API to provide CVE patching steps. ([`fc2fcd5`](https://github.com/RedHatInsights/vulnerability-engine/commit/fc2fcd58048d87eb28d771ca2b1d459704b489cd))

* vmaas request can fail because of 404, set the appropriate code. ([`907f003`](https://github.com/RedHatInsights/vulnerability-engine/commit/907f003eae527f6c0768952cda0aeb1f612fbb67))

* fix #140 - allow sorting by synopsis ([`967c247`](https://github.com/RedHatInsights/vulnerability-engine/commit/967c2476f176749d074ac9027e1948cbd4f6a9f0))

* fix cut-n-paste bug checking wrong field for empty ([`bc421ec`](https://github.com/RedHatInsights/vulnerability-engine/commit/bc421ec0c587b24e35687ee1dc9bdeb4dab1886b))

* use message queue from listener also in evaluator ([`2f78f43`](https://github.com/RedHatInsights/vulnerability-engine/commit/2f78f433bdfbd2d483081d5459fc2a4e72c85850))

* remove obsolete container dependencies

as we&#39;re using insights-core from pip there&#39;s no need to install dnf plugins and enable @vmaas/libs ([`3877985`](https://github.com/RedHatInsights/vulnerability-engine/commit/387798571f3390707117f1b0c805c2109cfac49a))

* rewrite message queue to use AIOKafka ([`40f9e6e`](https://github.com/RedHatInsights/vulnerability-engine/commit/40f9e6e583b5c81e0969c8858132e1d4b3a63547))

* fix query

Traceback (most recent call last):
  File &#34;/evaluator/evaluator.py&#34;, line 549, in &lt;module&gt;
    main()
  File &#34;/evaluator/evaluator.py&#34;, line 542, in main
    evaluator.run()
  File &#34;/evaluator/evaluator.py&#34;, line 528, in run
    self.evaluate_rules(msg_dict)
  File &#34;&lt;decorator-gen-2&gt;&#34;, line 2, in evaluate_rules
  File &#34;/usr/local/lib/python3.6/site-packages/prometheus_client/context_managers.py&#34;, line 66, in wrapped
    return func(*args, **kwargs)
  File &#34;/evaluator/evaluator.py&#34;, line 470, in evaluate_rules
    self._rules_update(rule_results_update)
  File &#34;/evaluator/evaluator.py&#34;, line 246, in _rules_update
    rules_to_update, page_size=len(rules_to_update))
  File &#34;/usr/lib64/python3.6/site-packages/psycopg2/extras.py&#34;, line 1274, in execute_values
    cur.execute(b.join(parts))
psycopg2.ProgrammingError: column reference &#34;sys_vuln_id&#34; is ambiguous
LINE 1: ...k_id, details) where sys_vuln_i... ([`6bb69f7`](https://github.com/RedHatInsights/vulnerability-engine/commit/6bb69f7536485bc67f7b58da78e8b73dda95c380))

* final pylint fixes ([`4791c63`](https://github.com/RedHatInsights/vulnerability-engine/commit/4791c63a1111671736d424083ca3de63b70b60f0))

* shorten name of table containing rules results ([`7013838`](https://github.com/RedHatInsights/vulnerability-engine/commit/70138389e0b1f10d9daeae48516decbdfc92ccc1))

* start of pylint fixes ([`905910a`](https://github.com/RedHatInsights/vulnerability-engine/commit/905910a33025a31f608a3f25c2db2c6eed75124e))

* update manager to support schema that is updated for rules engine results. ([`97137e2`](https://github.com/RedHatInsights/vulnerability-engine/commit/97137e26d8e029b6763dabc0fd1aae90c93a003c))

* Update evaluator to write to updated schema and fix many logic issues ([`8b5e12d`](https://github.com/RedHatInsights/vulnerability-engine/commit/8b5e12ddd1330bae1c2b26fcbfb2c5996cc3005d))

* Update db schema to include rules engine results details. ([`337ec18`](https://github.com/RedHatInsights/vulnerability-engine/commit/337ec188dc9af12efa76bbae4d263254e7d1263e))

* fix error when cve_system_list is empty ([`5cd62c5`](https://github.com/RedHatInsights/vulnerability-engine/commit/5cd62c5d313e79786c2a900caf61519f7715f46e))

* Renamed prometheus-probe to make it easier to find when graphing ([`3da197b`](https://github.com/RedHatInsights/vulnerability-engine/commit/3da197b80506325def17737cd53d498bfb607db5))

## v0.2.0 (2019-01-17)

### Unknown

* fix pylint: logging-not-lazy ([`37c1b3c`](https://github.com/RedHatInsights/vulnerability-engine/commit/37c1b3c4e47075f67e444b9489ce64257b7aa224))

* Add prometheus probes to evaluator

Added prometheus start_http_server to make evaluator scrape-able
Exposed at &#34;curl -X GET http://&lt;VULN-ENGINE-MACHINE&gt;:8085/metrics ([`f585d56`](https://github.com/RedHatInsights/vulnerability-engine/commit/f585d56e174e82a5e94740a141155c510784a956))

* remove obsolete pylint disables (we&#39;re using same version of peewee in prod and test) ([`76e6249`](https://github.com/RedHatInsights/vulnerability-engine/commit/76e62499fa0f0a9fd117adc5db930621ed1fff1b))

* allow sorting based on available cvss score and add option to sort based on v2 or v3 ([`a33970d`](https://github.com/RedHatInsights/vulnerability-engine/commit/a33970d2d32c63fd80f51235c2789297ceb95f43))

* update peewee from 2.1 to 3.8 ([`102855f`](https://github.com/RedHatInsights/vulnerability-engine/commit/102855f65a10d6ace798d1c025ef032be9eb0ec0))

* install insights-core from pip instead of rebuilding ([`7bf5139`](https://github.com/RedHatInsights/vulnerability-engine/commit/7bf513990a6790c6324a1c565dc870f814083a15))

* libs: bump version of insights-core libs to the latest available on pythonhosted. ([`c847cc8`](https://github.com/RedHatInsights/vulnerability-engine/commit/c847cc888c760b3dcb7b16bbe5a7d8e25653bb5f))

* add prometheus_client into Travis environment ([`dea0e10`](https://github.com/RedHatInsights/vulnerability-engine/commit/dea0e10387e866c02da3a13286c07bcf26da1c35))

* Added prometheus support

Each call to manager-API is now a Counter.
Exported at &#34;curl -X GET http://&lt;VULN-ENGINE-MACHINE&gt;:8300/metrics&#34; ([`6bc4e59`](https://github.com/RedHatInsights/vulnerability-engine/commit/6bc4e59ac9557c4e06286c853f94cbd07f1421ab))

* fix #130 - make sure system is still in the DB when received response from rules engine ([`10eecb3`](https://github.com/RedHatInsights/vulnerability-engine/commit/10eecb38ecc8515975a3e2a6a31fc10fa7ef70bc))

* return inventory_id on places where we return insights_id ([`e51b7e1`](https://github.com/RedHatInsights/vulnerability-engine/commit/e51b7e15904e049bce7cc81e25ab21028cf7f0f1))

* refactor message queue usage and logging ([`a31e4f3`](https://github.com/RedHatInsights/vulnerability-engine/commit/a31e4f3d8f40b669f7d5e3e96818258b818fe706))

* modify debug levels

tmp file location =&gt; debug
not persistent archive processing problems =&gt; warning ([`c7773a5`](https://github.com/RedHatInsights/vulnerability-engine/commit/c7773a55e1a30f0fe76395c5d490e778f56074d5))

* minor refactoring ([`e24c807`](https://github.com/RedHatInsights/vulnerability-engine/commit/e24c80776231c8388efef1515cf6356749c36bdc))

* check and store inventory id ([`4d7176c`](https://github.com/RedHatInsights/vulnerability-engine/commit/4d7176c8ee0e30d313bf6426f1dd20afa260318d))

* update dev data to insert inventory_id ([`257b45f`](https://github.com/RedHatInsights/vulnerability-engine/commit/257b45fc1ceb30b76fb585c0d887c907b89f856f))

* add inventory_id column ([`32a36a6`](https://github.com/RedHatInsights/vulnerability-engine/commit/32a36a6015454beec5f1c735237fb7d013c6e374))

* add some more tests cases

e.g. test pagination and returned meta so we go through mode core during tests ([`16d4e64`](https://github.com/RedHatInsights/vulnerability-engine/commit/16d4e64c1dcc025fbce3e6d915f38f4a59949f88))

* refactor error handling in manager

put all application level error handling into one place instead of having it copied into each handler
unfortunately, due to swagger API doc there has to be get method implemented in handler, hence we have to do super(Handler, self).get() ([`a83a509`](https://github.com/RedHatInsights/vulnerability-engine/commit/a83a509d033cdd391a0010db25caa4bd25aa1b1d))

* wait on available topic after upload was validated and uploaded to inventory ([`bf923ce`](https://github.com/RedHatInsights/vulnerability-engine/commit/bf923ce16084ff48976a6db3f238650b92e5df1f))

* upload service returns payload_id instead of hash ([`a9a26c2`](https://github.com/RedHatInsights/vulnerability-engine/commit/a9a26c2f1047dbbca516011486381a0074b1b9e6))

* simplify parsing rule results ([`cfea789`](https://github.com/RedHatInsights/vulnerability-engine/commit/cfea7894b752235163bd8e2ae30eedf8b0332cb3))

* rename platform_id to insights_id to match current reality ([`6f6c2e1`](https://github.com/RedHatInsights/vulnerability-engine/commit/6f6c2e122de77f564359d0890783e2626a87b0d8))

* return all systems, not just those with some CVE ([`bbaf634`](https://github.com/RedHatInsights/vulnerability-engine/commit/bbaf634665a37c9f1b902e01e38add5c72329d6b))

* don&#39;t return mishmash of cvss scores

in the cvss_score field we sometimes return cvss3_score if it&#39;s available and sometimes cvss2 if v3 is not available, as there&#39;s no simple indicator (apart from looking whether cvss3_score is null or not) like field which version is returned
as we return both cvss2_score and cvss3_score the &#39;cvss_score&#39; field is not needed as it returns mismash ([`3578e53`](https://github.com/RedHatInsights/vulnerability-engine/commit/3578e538d541a4892373e224866f3849cbe7870f))

* allow reusing ve_db_dev_data with synced CVES

Red Hat CVEs do not contain CVE-2017-3004, let&#39;s remove it
so manual insert using copy &amp; paste does not fail with:
Key (cve)=(CVE-2017-3004) is not present in table &#34;cve_metadata&#34;. ([`7df542b`](https://github.com/RedHatInsights/vulnerability-engine/commit/7df542b7f25492e819393db31dbd2e31a1af9a12))

* fix pylint in logging.py ([`5dd0209`](https://github.com/RedHatInsights/vulnerability-engine/commit/5dd02096e81468323d6ac6dd6435b7be0fbeea47))

* fix pylint in vmaas_listener.py ([`2ce246e`](https://github.com/RedHatInsights/vulnerability-engine/commit/2ce246e85e67b2743e3ab42a5ac74f3905dcf8c5))

* fix pylint in mqueue.py ([`6c7b8c3`](https://github.com/RedHatInsights/vulnerability-engine/commit/6c7b8c325c14089ec436fd2289b6ff71ca809f99))

* fix pylint in utils.py ([`4e3d869`](https://github.com/RedHatInsights/vulnerability-engine/commit/4e3d8695891d3a95d0320bcc6ef733ba37f30fba))

* fix pylint in upload_listener.py ([`b144068`](https://github.com/RedHatInsights/vulnerability-engine/commit/b1440683dab7ced4eedcb3d031a199b290a081e1))

* fix pylint in listener.py ([`8798339`](https://github.com/RedHatInsights/vulnerability-engine/commit/8798339d9b8b7c36060644894419ab189ce5c533))

* fix pylint in archive_parser.py ([`2035f6c`](https://github.com/RedHatInsights/vulnerability-engine/commit/2035f6c59a0737583239046ed78ec9a77538e34a))

* enable pylint in listener ([`ae159aa`](https://github.com/RedHatInsights/vulnerability-engine/commit/ae159aac3a288edb6fcdac9b14e8f52570069ee9))

* better handle errors when calling vmaas + log these events ([`44a1db1`](https://github.com/RedHatInsights/vulnerability-engine/commit/44a1db1aed10799e8f0122bffd9064248ca3986e))

* remove db_dev_data from schema initialization script

not needed anymore due to changes in bb879759a31da1bb5745cf813e490e5efffef5de ([`cc05802`](https://github.com/RedHatInsights/vulnerability-engine/commit/cc05802db8c7918786265507cf10085fdb69742d))

* loosen requirements for system ID

as we don&#39;t know how system ID will look like, loosen requirements a bit ([`d60b90e`](https://github.com/RedHatInsights/vulnerability-engine/commit/d60b90e0eac5e89fa60244a129b98a012769fef7))

* fail tests if containers don&#39;t start ([`2e4172a`](https://github.com/RedHatInsights/vulnerability-engine/commit/2e4172a53daba9b34a7514bd8f62ed56e9e0fd24))

* older versions of vmaas don&#39;t provide cvss2_{score,metrics} ([`f3acd8e`](https://github.com/RedHatInsights/vulnerability-engine/commit/f3acd8e3c119aadb69068e7d1afb085518017599))

* log message 1st, then do stuff ([`ad85709`](https://github.com/RedHatInsights/vulnerability-engine/commit/ad857095104fdd7c90381eb4b84c1a8cddf9eb64))

* sync just Red Hat issued CVEs ([`fa45ac5`](https://github.com/RedHatInsights/vulnerability-engine/commit/fa45ac5d30e9c887491ca062017de7da1437fb8f))

* increase page_size to match VMAAS default page size ([`3fc9440`](https://github.com/RedHatInsights/vulnerability-engine/commit/3fc9440475fb89f6c1e25f709376b1e6c5fe06ce))

* convert to isoformat only if we have the object to convert

sometimes public date can be null ([`d140929`](https://github.com/RedHatInsights/vulnerability-engine/commit/d14092911861f1baa59c0a4f704f39f6a0fdb953))

* fix import of cvss2_score and cvss2_metrics

vulnerability-engine-evaluator | Traceback (most recent call last):
vulnerability-engine-evaluator |   File &#34;/evaluator/evaluator.py&#34;, line 373, in &lt;module&gt;
vulnerability-engine-evaluator |     main()
vulnerability-engine-evaluator |   File &#34;/evaluator/evaluator.py&#34;, line 369, in main
vulnerability-engine-evaluator |     evaluator.run()
vulnerability-engine-evaluator |   File &#34;/evaluator/evaluator.py&#34;, line 327, in run
vulnerability-engine-evaluator |     self._sync_cve_md()
vulnerability-engine-evaluator |   File &#34;/evaluator/evaluator.py&#34;, line 174, in _sync_cve_md
vulnerability-engine-evaluator |     cvss2_score = float(cves[cve][&#39;cvss2_score&#39;]) if &#39;cvss2_score&#39; in cves[cve] else None
vulnerability-engine-evaluator | ValueError: could not convert string to float: ([`88380a4`](https://github.com/RedHatInsights/vulnerability-engine/commit/88380a4d993010336bdfd1451a8eb0e4b86274de))

## v0.1.0 (2018-12-19)

### Unknown

* manager: add version handler. ([`1560281`](https://github.com/RedHatInsights/vulnerability-engine/commit/1560281667161daca3aa09180851390516d51b18))

* add script to make a release (new branch a tag). ([`0583bc8`](https://github.com/RedHatInsights/vulnerability-engine/commit/0583bc89b20568b9c83c99105e13dcfcb9fe572f))

* run the tests in travis ([`c7bbbac`](https://github.com/RedHatInsights/vulnerability-engine/commit/c7bbbacee7082b21e3f1de679df04824bb4f25f9))

* introduce simple sanity testing of the API ([`9fa3dac`](https://github.com/RedHatInsights/vulnerability-engine/commit/9fa3dacadcfa83f271c53b701241872dc09e5b30))

* update ve_db_dev_data to match current schema ([`b7356d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/b7356d0b220050fe004916f21cc69e5b6e91aaba))

* gitignore pytest_cache for testing on local machines ([`6be64f6`](https://github.com/RedHatInsights/vulnerability-engine/commit/6be64f6ab5f91c790665bb4d66e826e0577a4353))

* fix kafka topic names ([`49e1f99`](https://github.com/RedHatInsights/vulnerability-engine/commit/49e1f99c713e26c944030b2895d186689431b053))

* support csv data output format ([`1c2b748`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c2b748b525dad42f438e333106196da88b02fac))

* set headers to comply with JSON:API specification

https://jsonapi.org/format/#content-negotiation-servers
Servers MUST send all JSON:API data in response documents with the header Content-Type: application/vnd.api+json without any media type parameters. ([`dbfee14`](https://github.com/RedHatInsights/vulnerability-engine/commit/dbfee142cafb7c515aec7b4114217f68dc815ced))

* make names of API endpoints compliant to IPP ([`182376f`](https://github.com/RedHatInsights/vulnerability-engine/commit/182376fd156a2b5117cad481bdf82d3d14389f5b))

* implement /systems API ([`a9b0b8c`](https://github.com/RedHatInsights/vulnerability-engine/commit/a9b0b8c7366138dd0f76fd09a110fd764d83cff1))

* use same topic as advisor for incoming archives and make it configurable ([`200f077`](https://github.com/RedHatInsights/vulnerability-engine/commit/200f077e5425020ecdc2c146c7017b76ee150b23))

* fix #49 - manager: use internal vmaas url by default

+ support override from env
+ rename variable to match name in evaluator ([`399c43e`](https://github.com/RedHatInsights/vulnerability-engine/commit/399c43e90a5e070218558e180f183f98c692ca6b))

* fix #49 - evaluator: add missing env variables ([`899da6a`](https://github.com/RedHatInsights/vulnerability-engine/commit/899da6a29bcf751624e502d6d7cf7bd00dd945a1))

* fix #49 - evaluator: use internal vmaas url by default

+ create endpoint urls as constants ([`a8b7b55`](https://github.com/RedHatInsights/vulnerability-engine/commit/a8b7b55b50d158e4f59c17a69197ffdcf5042d8c))

* Manager: return object instead array for CVE Detail ([`6efbeb9`](https://github.com/RedHatInsights/vulnerability-engine/commit/6efbeb90e2e580ededcf1c498fe5fdb2ab83a00b))

* teach systems/$ID/cves about filtering by publish_date and cvss ranges ([`e70594b`](https://github.com/RedHatInsights/vulnerability-engine/commit/e70594be2567438f7f20e94b424393cfdbf4a576))

* revert to CveMetadata.impact_id usage for performance reason. ([`655a4dd`](https://github.com/RedHatInsights/vulnerability-engine/commit/655a4dd6eb2b5e7881a4e890123694e9306d3afc))

* fix pylint: R1702: Too many nested blocks (6/5) (too-many-nested-blocks) ([`da34a01`](https://github.com/RedHatInsights/vulnerability-engine/commit/da34a015da71c49178622a074272f17e024bdfce))

* Add CVSS2 data to db and model.
Teach evaluator() that vmaas might return cvss2 data, and to store it
Teach SystemHandler and VulnerabilitiesHandler that both cvss2 and cvss3 exist
Teach SystemHandler and VulnerabilitiesHandler to use cvss2 for cvss_score IFF cvss3_score is empty

NOTE: The handlers now fill in cvss_score, cvss3_score, and cvss2_score. We may want the UI to decide what to show,
in which case the UI should ignore cvss_score and use cvss2|3_score directly ([`c29a860`](https://github.com/RedHatInsights/vulnerability-engine/commit/c29a860e17eef23082554ccdd4d09ea30e761042))

* use raise error to return correct error response (in regards to JSONAPISPEC) ([`8c3dd9d`](https://github.com/RedHatInsights/vulnerability-engine/commit/8c3dd9de4a8ebc8f3f7c9ba8857f4f39676b3ad1))

* send data in CVE details API according to JSONAPI SPEC ([`5b5b7ba`](https://github.com/RedHatInsights/vulnerability-engine/commit/5b5b7baaefaa6aa489646b78b9041c46d5bba969))

* improve performance of /vulnerabilities/cves API

performance drop was visible if show_all == true due to join with cve_impact table
performance has been improved from ~2400 ms to ~140 ms ([`684ac4b`](https://github.com/RedHatInsights/vulnerability-engine/commit/684ac4b1569ba99f207feb5717fafd6819150127))

* fix #86 - always display null columns last ([`c8d7587`](https://github.com/RedHatInsights/vulnerability-engine/commit/c8d7587ca54d70a3be10c9a54dd24cb4e76fd052))

* fix #86 - cvss score 0.0 should not be empty string ([`7b0f5a5`](https://github.com/RedHatInsights/vulnerability-engine/commit/7b0f5a50bfe29217c6dcb76b38b116b63a55a9c1))

* check pylint in evaluator ([`16e610f`](https://github.com/RedHatInsights/vulnerability-engine/commit/16e610f6b741715412dbd02f70a11b55fb532e80))

* fix pylint in evaluator.py

C: 34, 0: Wrong continued indentation (add 12 spaces).
                          bootstrap_servers=bootstrap_server,
                          ^           | (bad-continuation)
C: 35, 0: Wrong continued indentation (add 12 spaces).
                          group_id=kafka_group,
                          ^           | (bad-continuation)
C: 36, 0: Wrong continued indentation (add 12 spaces).
                          auto_offset_reset=&#39;latest&#39;,
                          ^           | (bad-continuation)
C: 37, 0: Wrong continued indentation (add 11 spaces).
                          )
                          ^          | (bad-continuation)
C: 72, 0: Trailing whitespace (trailing-whitespace)
C: 77, 0: Exactly one space required after comma
                        when_mitigated is NULL&#34;,  (system_id,))
                                               ^ (bad-whitespace)
C:119, 0: Wrong continued indentation (remove 1 space).
                                        cve_cvss3_list, page_size=len(cve_cvss3_list))
                                       |^ (bad-continuation)
C:123, 0: Wrong continued indentation (remove 1 space).
                                    cve_system_list, page_size=len(cve_system_list))
                                   |^ (bad-continuation)
C:150, 0: Line too long (132/120) (line-too-long)
C:171, 0: Line too long (122/120) (line-too-long)
C:183, 0: Trailing whitespace (trailing-whitespace)
C:230, 0: Trailing whitespace (trailing-whitespace)
C:319, 0: Line too long (135/120) (line-too-long)
C:341, 0: Line too long (122/120) (line-too-long)
C:  1, 0: Missing module docstring (missing-docstring)
E: 10, 0: Unable to import &#39;database.database_handler&#39; (import-error)
C: 13, 0: Invalid constant name &#34;kafka_host&#34; (invalid-name)
C: 14, 0: Invalid constant name &#34;kafka_port&#34; (invalid-name)
C: 15, 0: Invalid constant name &#34;kafka_evaluator_topic&#34; (invalid-name)
C: 16, 0: Invalid constant name &#34;kafka_rules_requests_topic&#34; (invalid-name)
C: 17, 0: Invalid constant name &#34;kafka_rules_results_topic&#34; (invalid-name)
C: 18, 0: Invalid constant name &#34;kafka_group_id&#34; (invalid-name)
W: 30,23: Redefining name &#39;kafka_host&#39; from outer scope (line 13) (redefined-outer-name)
W: 30,35: Redefining name &#39;kafka_port&#39; from outer scope (line 14) (redefined-outer-name)
W: 39, 8: Specify string format arguments as logging function parameters (logging-not-lazy)
W: 40, 8: Specify string format arguments as logging function parameters (logging-not-lazy)
W: 41, 8: Specify string format arguments as logging function parameters (logging-not-lazy)
C: 97,16: Invalid variable name &#34;r&#34; (invalid-name)
W:150,12: Specify string format arguments as logging function parameters (logging-not-lazy)
C:231, 4: Missing method docstring (missing-docstring)
C:240, 8: Invalid variable name &#34;r&#34; (invalid-name)
C:252,12: Invalid variable name &#34;r&#34; (invalid-name)
C:266, 4: Missing method docstring (missing-docstring)
R:284, 4: Method could be a function (no-self-use)
C:340, 0: Missing function docstring (missing-docstring)
evaluator.py:129:20: W1201: Specify string format arguments as logging function parameters (logging-not-lazy)
evaluator.py:130:20: W1201: Specify string format arguments as logging function parameters (logging-not-lazy)
evaluator.py:253:12: W1201: Specify string format arguments as logging function parameters (logging-not-lazy)
evaluator.py:254:12: W1201: Specify string format arguments as logging function parameters (logging-not-lazy)
evaluator.py:267:16: W1201: Specify string format arguments as logging function parameters (logging-not-lazy)
evaluator.py:268:16: W1201: Specify string format arguments as logging function parameters (logging-not-lazy)
evaluator.py:291:4: R0201: Method could be a function (no-self-use) ([`957cd0a`](https://github.com/RedHatInsights/vulnerability-engine/commit/957cd0a036b27a7ff117bb43ddd304ab35b9ad89))

* fix pylint in mock_listener.py

C:111, 0: Final newline missing (missing-final-newline)
C:111, 0: Mixed line endings LF and CRLF (mixed-line-endings)
C:  1, 0: Missing module docstring (missing-docstring)
C:  3, 0: Multiple imports on one line (threading, logging, time) (multiple-imports)
E:  6, 0: Unable to import &#39;kafka&#39; (import-error)
C:  9, 0: Missing class docstring (missing-docstring)
C: 14, 4: Missing method docstring (missing-docstring)
C: 93, 0: Missing function docstring (missing-docstring)
C: 99, 8: Invalid variable name &#34;t&#34; (invalid-name)
W:  4, 0: Unused import multiprocessing (unused-import) ([`9ea6a94`](https://github.com/RedHatInsights/vulnerability-engine/commit/9ea6a94005743423896226c5b12f94f89196536c))

* for tests, copy database/peewee* stuff into manager ([`d33b9a7`](https://github.com/RedHatInsights/vulnerability-engine/commit/d33b9a79c574857b8bae49f80fbbd695d5306ab2))

* fix pylint in vulnerabilities_handler.py

C: 29, 0: Wrong continued indentation (add 1 space).
                                     &amp; (SystemPlatform.rh_account == query_args[&#34;rh_account_number&#34;])))
                                     ^| (bad-continuation)
C:205, 0: Line too long (124/120) (line-too-long)
C:219, 0: Trailing whitespace (trailing-whitespace)
C:  1, 0: Missing module docstring (missing-docstring)
E:  9, 0: Unable to import &#39;database.peewee_model&#39; (import-error)
C: 14, 0: Missing class docstring (missing-docstring)
W: 15, 4: Dangerous default value {} as argument (dangerous-default-value)
C: 60, 0: Missing class docstring (missing-docstring)
W: 91, 4: Parameters differ from overridden &#39;get&#39; method (arguments-differ)
W:113, 4: Parameters differ from overridden &#39;post&#39; method (arguments-differ)
C:117, 4: Missing method docstring (missing-docstring)
C:120, 8: Invalid variable name &#34;e&#34; (invalid-name)
C:143, 4: Missing method docstring (missing-docstring)
C:155, 4: Missing method docstring (missing-docstring)
C:166, 8: Invalid variable name &#34;e&#34; (invalid-name)
W:178,15: Catching too general exception Exception (broad-except)
C:178, 8: Invalid variable name &#34;e&#34; (invalid-name)
C:184, 4: Missing method docstring (missing-docstring)
R:184, 4: Method could be a function (no-self-use)
C:203, 4: Missing method docstring (missing-docstring)
C:206, 8: Invalid variable name &#34;e&#34; (invalid-name)
W:213,15: Catching too general exception Exception (broad-except)
C:213, 8: Invalid variable name &#34;e&#34; (invalid-name)
C:221, 4: Missing method docstring (missing-docstring)
W:224,12: Unused variable &#39;entry&#39; (unused-variable)
R:221, 4: Method could be a function (no-self-use)
W: 87, 8: Attribute &#39;arguments&#39; defined outside __init__ (attribute-defined-outside-init)
W:  4, 0: Unused randint imported from random (unused-import)
C:  2, 0: standard import &#34;import json&#34; should be placed before &#34;import dateutil.parser&#34; (wrong-import-order)
C:  3, 0: standard import &#34;from distutils.util import strtobool&#34; should be placed before &#34;import dateutil.parser&#34; (wrong-import-order)
C:  4, 0: standard import &#34;from random import randint&#34; should be placed before &#34;import dateutil.parser&#34; (wrong-import-order) ([`45e5fab`](https://github.com/RedHatInsights/vulnerability-engine/commit/45e5fabfc324936f0fdaa60d0251257dc0f19d7a))

* fix pylint in error_key_handler.py

C:  1, 0: Missing module docstring (missing-docstring)
E:  4, 0: Unable to import &#39;database.peewee_model&#39; (import-error)
W: 10, 4: Parameters differ from overridden &#39;get&#39; method (arguments-differ)
W: 25, 4: Parameters differ from overridden &#39;post&#39; method (arguments-differ)
C: 28, 4: Missing method docstring (missing-docstring) ([`8b414d0`](https://github.com/RedHatInsights/vulnerability-engine/commit/8b414d0204e8b7649e9a90a8d048a75d476c4af6))

* fix pylint in cve_handler.py

C: 61, 0: Line too long (130/120) (line-too-long)
C:  1, 0: Missing module docstring (missing-docstring)
E:  4, 0: Unable to import &#39;database.peewee_model&#39; (import-error)
C:  7, 0: Missing class docstring (missing-docstring)
W: 25, 4: Parameters differ from overridden &#39;get&#39; method (arguments-differ)
W: 45, 4: Parameters differ from overridden &#39;post&#39; method (arguments-differ)
C: 48, 4: Missing method docstring (missing-docstring)
C: 59, 4: Missing method docstring (missing-docstring)
C: 62, 8: Invalid variable name &#34;e&#34; (invalid-name)
W: 75,15: Catching too general exception Exception (broad-except)
C: 75, 8: Invalid variable name &#34;e&#34; (invalid-name)
W:  4, 0: Unused VulnerabilitySource imported from database.peewee_model (unused-import) ([`b44a6af`](https://github.com/RedHatInsights/vulnerability-engine/commit/b44a6af93a40b822f63378b209c9e017b8c4a71f))

* fix pylint in system_handler.py

C: 57, 0: Line too long (144/120) (line-too-long)
C:  1, 0: Missing module docstring (missing-docstring)
E:  4, 0: Unable to import &#39;database.peewee_model&#39; (import-error)
C:  7, 0: Missing class docstring (missing-docstring)
C: 35, 0: Missing class docstring (missing-docstring)
W: 37, 4: Parameters differ from overridden &#39;get&#39; method (arguments-differ)
W: 52, 4: Parameters differ from overridden &#39;post&#39; method (arguments-differ)
C: 55, 4: Missing method docstring (missing-docstring)
C: 58, 8: Invalid variable name &#34;e&#34; (invalid-name)
W: 74,15: Catching too general exception Exception (broad-except)
C: 74, 8: Invalid variable name &#34;e&#34; (invalid-name) ([`c023ff5`](https://github.com/RedHatInsights/vulnerability-engine/commit/c023ff5e57c09870fc9238270906d28a9b32d376))

* fix pylint in common.py

C: 67, 0: Wrong continued indentation (add 7 spaces).
                            &#39;detail&#39; : &#39;Error in argument %s: %s&#39; % (arg[&#39;arg_name&#39;], retval[arg[&#39;arg_name&#39;]])})
                            ^      | (bad-continuation)
C:  1, 0: Missing module docstring (missing-docstring)
W: 22, 0: Specify string format arguments as logging function parameters (logging-not-lazy)
C: 25, 0: Missing class docstring (missing-docstring)
C: 28, 0: Missing class docstring (missing-docstring)
C: 32, 0: Missing class docstring (missing-docstring)
W: 41, 4: Parameters differ from overridden &#39;options&#39; method (arguments-differ)
E: 46,15: Instance of &#39;BaseHandler&#39; has no &#39;my_user_locale&#39; member (no-member)
C: 92, 4: Invalid method name &#34;raiseError&#34; (invalid-name)
C: 92, 4: Missing method docstring (missing-docstring)
C:100, 4: Invalid method name &#34;raiseMany&#34; (invalid-name)
C:100, 4: Missing method docstring (missing-docstring)
C:107, 0: Missing class docstring (missing-docstring)
W:116, 8: Specify string format arguments as logging function parameters (logging-not-lazy)
W:126,12: Specify string format arguments as logging function parameters (logging-not-lazy)
W:140,12: Specify string format arguments as logging function parameters (logging-not-lazy)
W:146,12: Specify string format arguments as logging function parameters (logging-not-lazy)
C:149, 4: Missing method docstring (missing-docstring)
W:156,12: Specify string format arguments as logging function parameters (logging-not-lazy)
W:161, 8: Specify string format arguments as logging function parameters (logging-not-lazy)
W:125,12: Attribute &#39;rh_account_number&#39; defined outside __init__ (attribute-defined-outside-init)
W:147,12: Attribute &#39;my_user_locale&#39; defined outside __init__ (attribute-defined-outside-init)
C:165, 0: Missing class docstring (missing-docstring)
C:170, 0: Missing function docstring (missing-docstring)
C:181, 0: Missing function docstring (missing-docstring) ([`fc40247`](https://github.com/RedHatInsights/vulnerability-engine/commit/fc40247e6acac6d0f1aee6476ea6a77bae082568))

* fix pylint in list_view.py

C: 55, 0: Trailing whitespace (trailing-whitespace)
C: 58, 0: Trailing whitespace (trailing-whitespace)
C: 68, 0: Trailing whitespace (trailing-whitespace)
C:  1, 0: Missing module docstring (missing-docstring)
C:  6, 0: Missing class docstring (missing-docstring)
R: 13, 4: Too many branches (15/12) (too-many-branches)
C: 59, 4: Missing method docstring (missing-docstring)
W:  3, 0: Unused DEFAULT_PAGE_SIZE imported from common (unused-import) ([`60fd2fa`](https://github.com/RedHatInsights/vulnerability-engine/commit/60fd2fa05ccc8dd3ac09ac8e492b4428019b6289))

* fix pylint in main.py

************* Module main
C:  1, 0: Missing module docstring (missing-docstring)
W: 24, 0: Method &#39;data_received&#39; is abstract in class &#39;RequestHandler&#39; but is not overridden (abstract-method)
C: 41, 0: Missing function docstring (missing-docstring)
C: 46, 0: Missing class docstring (missing-docstring)
C: 61, 0: Missing function docstring (missing-docstring)
W:  3, 0: Unused import os (unused-import)
W:  4, 0: Unused import sys (unused-import) ([`5ec79e2`](https://github.com/RedHatInsights/vulnerability-engine/commit/5ec79e290fd2d7c4d42f719e41e246841eec2bc5))

* set up travis to run pylint ([`b2b4b09`](https://github.com/RedHatInsights/vulnerability-engine/commit/b2b4b09acf6e4353a38d6d3b0eeaaa917b851246))

* return 400 when requesting page &gt; page count ([`63f336d`](https://github.com/RedHatInsights/vulnerability-engine/commit/63f336dc10c0c6fe739ae371e8e6d3e59cee81d9))

* fix #80 - pages should be always &gt;= 1 ([`bcc70e2`](https://github.com/RedHatInsights/vulnerability-engine/commit/bcc70e2e3a4e70afd0383e28638bb1c60608fcd3))

* fix manager API to use new identity format ([`2943211`](https://github.com/RedHatInsights/vulnerability-engine/commit/29432110aebe2177f929d1714b6a57045d770091))

* fix 3scale-mock to use new identity format ([`0f277ea`](https://github.com/RedHatInsights/vulnerability-engine/commit/0f277ea6ce786cdd565dc91978b1da0701b39944))

* implement filtering by cvss and public_date ranges ([`6dc87c5`](https://github.com/RedHatInsights/vulnerability-engine/commit/6dc87c56070b102947c71adb15a9e686f5602077))

* create universal function for argument parsing and conversion ([`1e4971f`](https://github.com/RedHatInsights/vulnerability-engine/commit/1e4971f1c8d5b44ab88de5741be373e29f54bbe7))

* add better error handling to vmaas calls ([`477c023`](https://github.com/RedHatInsights/vulnerability-engine/commit/477c023f7397881fe93847996a19cc825d275cf2))

* don&#39;t call flush() when caller does it anyway ([`3fc5d5b`](https://github.com/RedHatInsights/vulnerability-engine/commit/3fc5d5b17ac24e930b000d07edbc8dd99fc3d0f6))

* remove unused import ([`0eaee70`](https://github.com/RedHatInsights/vulnerability-engine/commit/0eaee7088fe37bfb2ca4e82a49a7f9c8ba1f454c))

* return an array of error objects as defined in JSONAPI ([`7cdaa4c`](https://github.com/RedHatInsights/vulnerability-engine/commit/7cdaa4c04e4a95ec25428b1dc9bd630fba0ea1bf))

* make vulnerabilities/impacts API working with latest changes ([`8a85971`](https://github.com/RedHatInsights/vulnerability-engine/commit/8a85971b9a8eea0587a857efee25886b0d989436))

* implement showAll option in order to display all CVEs ([`df32a8d`](https://github.com/RedHatInsights/vulnerability-engine/commit/df32a8dd01158c6a6b9327a4c50f04c2dd8f8720))

* add one more missing import ([`c023ae9`](https://github.com/RedHatInsights/vulnerability-engine/commit/c023ae9680020b6062b0c7b2ebdcd6524a47005a))

* use correct column

vulnerability-engine-manager | Traceback (most recent call last):
vulnerability-engine-manager |   File &#34;/usr/lib64/python3.6/site-packages/tornado/web.py&#34;, line 1541, in _execute
vulnerability-engine-manager |     result = method(*self.path_args, **self.path_kwargs)
vulnerability-engine-manager |   File &#34;/manager/vulnerabilities_handler.py&#34;, line 93, in get
vulnerability-engine-manager |     self.get_cves()
vulnerability-engine-manager |   File &#34;/manager/vulnerabilities_handler.py&#34;, line 139, in get_cves
vulnerability-engine-manager |     cves_view = CvesListView(self._parse_list_arguments(), {&#34;rh_account_number&#34;: self.rh_account_number})
vulnerability-engine-manager |   File &#34;/manager/vulnerabilities_handler.py&#34;, line 28, in __init__
vulnerability-engine-manager |     .group_by(CveMetadata.cve, CveMetadata.cvss3_score, CveMetadata.impact,
vulnerability-engine-manager | AttributeError: type object &#39;CveMetadata&#39; has no attribute &#39;impact&#39; ([`e310fa5`](https://github.com/RedHatInsights/vulnerability-engine/commit/e310fa5b486e40cbf588240a3a474ba7780c8653))

* add missing import

vulnerability-engine-manager | Traceback (most recent call last):
vulnerability-engine-manager |   File &#34;/usr/lib64/python3.6/site-packages/tornado/web.py&#34;, line 1541, in _execute
vulnerability-engine-manager |     result = method(*self.path_args, **self.path_kwargs)
vulnerability-engine-manager |   File &#34;/manager/vulnerabilities_handler.py&#34;, line 93, in get
vulnerability-engine-manager |     self.get_cves()
vulnerability-engine-manager |   File &#34;/manager/vulnerabilities_handler.py&#34;, line 139, in get_cves
vulnerability-engine-manager |     cves_view = CvesListView(self._parse_list_arguments(), {&#34;rh_account_number&#34;: self.rh_account_number})
vulnerability-engine-manager |   File &#34;/manager/vulnerabilities_handler.py&#34;, line 20, in __init__
vulnerability-engine-manager |     CveImpact.name.alias(&#34;impact&#34;),
vulnerability-engine-manager | NameError: name &#39;CveImpact&#39; is not defined ([`d08a50d`](https://github.com/RedHatInsights/vulnerability-engine/commit/d08a50d935da2e4f2ac2cb3d9a2b2f82aadca0dd))

* update to use impact mapping table ([`1c1536d`](https://github.com/RedHatInsights/vulnerability-engine/commit/1c1536dca8ee0c11d1a8c8988cb7c6137e2ea731))

* manager: add pagination for &#39;give affected systems&#39; API ([`676ed5d`](https://github.com/RedHatInsights/vulnerability-engine/commit/676ed5dea87ba0c0efe879abbb0207b94f024580))

* manager: check if there is sortable/filterable columns provided. ([`86da154`](https://github.com/RedHatInsights/vulnerability-engine/commit/86da154056202926679b08f74e7a622be4a844bc))

* return empty string when there&#39;s no cvvs3 score ([`70b3f09`](https://github.com/RedHatInsights/vulnerability-engine/commit/70b3f0951a1030885eae0a78a02129c86a9f9fdf))

* manager: add missing import for SystemHandler. ([`5f5712c`](https://github.com/RedHatInsights/vulnerability-engine/commit/5f5712cbe8a45fdbe60d0727c8b2a95490680f9e))

* wait for PostgreSQL in services depending on it ([`f06d26b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f06d26b928704e8f81aad1858c2b9905dfe15e0b))

* listener does not write into cve_metadata table ([`83b9c69`](https://github.com/RedHatInsights/vulnerability-engine/commit/83b9c6913a969cc9381d69ac17d94418afcd8236))

* implement /systems/$ID/cves API ([`f7454a9`](https://github.com/RedHatInsights/vulnerability-engine/commit/f7454a98e7cfa1fa562683df6cd91ca29cf77053))

* don&#39;t split into groups based on cve source (fixes #61 again) ([`d3fd821`](https://github.com/RedHatInsights/vulnerability-engine/commit/d3fd821291b605c9ced957054cf32f34e5fbfebd))

* convert error key queries to use peewee as well ([`58432bf`](https://github.com/RedHatInsights/vulnerability-engine/commit/58432bf81153e140dcbd1c72c0cf1b764862845a))

* implement ListView to support pagination, filtering and sorting ([`fdd20d8`](https://github.com/RedHatInsights/vulnerability-engine/commit/fdd20d828d03452828cec5588fddf3044eb04ecc))

* modify manager to use peewee to build queries ([`3ae1659`](https://github.com/RedHatInsights/vulnerability-engine/commit/3ae1659dc7d65e50081f3bcfd86c1549056d2ff2))

* remove shebangs on not directly executable files ([`9a65a63`](https://github.com/RedHatInsights/vulnerability-engine/commit/9a65a631ad52deb1fca6afa7d4841cb91958c112))

* remove not needed import

with c5b1c0a6f98f5541bec291d469e38fe687846671 we don&#39;t need this import anymore ([`65488bb`](https://github.com/RedHatInsights/vulnerability-engine/commit/65488bb98c3cf2ad9bd0f22060462c1264f6e032))

* get rid of not needed distinct ([`752008a`](https://github.com/RedHatInsights/vulnerability-engine/commit/752008a96e082edab9f846099293d76a8bf106be))

* fix counting of vulnerable systems with different sources ([`3e07e7d`](https://github.com/RedHatInsights/vulnerability-engine/commit/3e07e7d35c536c5b8454afa617f4faf5575fa751))

* don&#39;t call vmaas for the information we already have ([`c5b1c0a`](https://github.com/RedHatInsights/vulnerability-engine/commit/c5b1c0a6f98f5541bec291d469e38fe687846671))

* add /vulnerabilities/errorkeys and /errorkeys/[key]/affectedsystems APIs ([`80fc002`](https://github.com/RedHatInsights/vulnerability-engine/commit/80fc002e1c85a2c9e03d37e28e3574e024c02536))

* store error keys in DB ([`84a960a`](https://github.com/RedHatInsights/vulnerability-engine/commit/84a960af942a9adc65794a16bbfe78b1187444b9))

* allow to use sequences to evaluator and listener ([`f83020e`](https://github.com/RedHatInsights/vulnerability-engine/commit/f83020ea3c502be324f5aa62ac47529a8ad781e6))

* create tables to store prodsec rules error keys ([`8ca16c1`](https://github.com/RedHatInsights/vulnerability-engine/commit/8ca16c1e96c1fc4cab01753cf2dff43ca98db9b3))

* cast float valu into numeric ([`6330afc`](https://github.com/RedHatInsights/vulnerability-engine/commit/6330afc76b84f03c235350045abcd7ae8eb605df))

* sync cve_metadata on empty table (first run) ([`818dc54`](https://github.com/RedHatInsights/vulnerability-engine/commit/818dc540287a4115801b9b22b1ccb5556bb5187d))

* update cve_metadata when vmaas changes its data ([`45b5c42`](https://github.com/RedHatInsights/vulnerability-engine/commit/45b5c42bb81721c5a341b70e78b78f9a32fd89bb))

* method for syncing additonal cve_metadata from vmaas ([`4fef68b`](https://github.com/RedHatInsights/vulnerability-engine/commit/4fef68ba2a5607d81471173620992d112e7f28ad))

* datbase changes for cve_metadata ([`e93d93f`](https://github.com/RedHatInsights/vulnerability-engine/commit/e93d93fec9c2dd53b2362548db65988ce701cf7b))

* workaround to quote more strings ([`0318eb5`](https://github.com/RedHatInsights/vulnerability-engine/commit/0318eb5cd8bc888f4d54ed45e3efc7ecf9e33743))

* Manager: provide a general wrapper for error reporting ([`bed0358`](https://github.com/RedHatInsights/vulnerability-engine/commit/bed0358754c45892a7c5c8ddb9019c0d47d80b58))

* handle rules engine response ([`b977bf2`](https://github.com/RedHatInsights/vulnerability-engine/commit/b977bf2cd1ede202f2c8ded25a3efc44b184bfa1))

* split evaluate_vmaas method ([`ca673cd`](https://github.com/RedHatInsights/vulnerability-engine/commit/ca673cd82af26eb6f9453e023dbe99eb770640de))

* send request to rules engine ([`47f6194`](https://github.com/RedHatInsights/vulnerability-engine/commit/47f61941e4452a3ba25697b851c319dbe1b7dcd4))

* send payload hash ([`8b17aaa`](https://github.com/RedHatInsights/vulnerability-engine/commit/8b17aaae4302f4ba32bff96e4b5209fca3442103))

* make sure type is in the message ([`ab4e741`](https://github.com/RedHatInsights/vulnerability-engine/commit/ab4e74100db2fc42f9339622f11f0937840f6a2a))

* handle case when platform_id is not found in DB ([`e36d629`](https://github.com/RedHatInsights/vulnerability-engine/commit/e36d629dfcf7359ce0bc2ff330e95c011f2ef7a7))

* remove multiprocessing - KafkaProducer doesn&#39;t seem to work in separate process and it&#39;s not needed in current architecture ([`76b628f`](https://github.com/RedHatInsights/vulnerability-engine/commit/76b628f9eced3f8aacbf32e1addc72a55f6df34a))

* prepare evaluator to listen on both evaluator requests and rules engine results topics ([`ec1fde0`](https://github.com/RedHatInsights/vulnerability-engine/commit/ec1fde027e3460b7eddb854a23dedd3e1e82d88d))

* rename topic for communication between listener and evaluator ([`fe0641f`](https://github.com/RedHatInsights/vulnerability-engine/commit/fe0641f8835242119aad5687f8097fe7d0c7e867))

* add helper script to copy data from git into openshift container ([`ec6b194`](https://github.com/RedHatInsights/vulnerability-engine/commit/ec6b1941b9171312adff10e5b8370babaf7179a7))

* swagger UI requires public access to the API

-&gt; refactor code a bit so we un-authenticated handler and authenticated one, just in case ([`4808fcf`](https://github.com/RedHatInsights/vulnerability-engine/commit/4808fcfa92a58b49f326c5b8e69af6e0f085afbc))

* create basic apidoc skeleton

these APIs will be rewritten in the future, so just create apidoc skeleton for future usage ([`d2d38f8`](https://github.com/RedHatInsights/vulnerability-engine/commit/d2d38f8de0d21724e286b556bf1db7e770b8faec))

* create Swagger UI container for ve_manager ([`3fd1b15`](https://github.com/RedHatInsights/vulnerability-engine/commit/3fd1b15bf3833174b28d0f8398626f9154a311d3))

* manager: Applications in the Insights Platform are expected to read the  environment variable. ([`2235eea`](https://github.com/RedHatInsights/vulnerability-engine/commit/2235eeaf9d0f8fdd3edb632cab23e95570d56967))

* database: do not copy sql with dummy data. ([`bb87975`](https://github.com/RedHatInsights/vulnerability-engine/commit/bb879759a31da1bb5745cf813e490e5efffef5de))

* manager: URL should be set by env variables ([`52acb7b`](https://github.com/RedHatInsights/vulnerability-engine/commit/52acb7b0cefeedcafd9ddc9543fd08a45f0b1d03))

* manager: fix formatting ([`4872b01`](https://github.com/RedHatInsights/vulnerability-engine/commit/4872b01046230e3ff38e8a90c959a410778b4eed))

* add 3scale support ([`847a384`](https://github.com/RedHatInsights/vulnerability-engine/commit/847a384ceaef28131fed78e2c707ebfb61fcc3e3))

* add helpful minishift development scripts ([`14e0e5d`](https://github.com/RedHatInsights/vulnerability-engine/commit/14e0e5d5d6a14974cdd3fe4c1e54160cb36cb933))

* catch KeyError ([`c37a62f`](https://github.com/RedHatInsights/vulnerability-engine/commit/c37a62fe85de8a99937030ee9cf6fbcc15eff17c))

* manager: don&#39;t crash on empty cve_list ([`89b5603`](https://github.com/RedHatInsights/vulnerability-engine/commit/89b5603cf9b712b43ecbea5f1f58812f5d24a8b4))

* manager: Call vmaas stable instead stage ([`fd2dfa9`](https://github.com/RedHatInsights/vulnerability-engine/commit/fd2dfa900b9b984a8acee81d71d7635e47cde11a))

* Modify get_cves API to respect JSON API, annotate ([`2a42ac3`](https://github.com/RedHatInsights/vulnerability-engine/commit/2a42ac3b3e021dc07432b47c55c95ddffa9de5b3))

* packages may not have updates ([`066f41d`](https://github.com/RedHatInsights/vulnerability-engine/commit/066f41dd873daf1ea46772f1ab5d13806d418064))

* evaluate vmaas for newly uploaded archive ([`53489f7`](https://github.com/RedHatInsights/vulnerability-engine/commit/53489f7bab6a7924c168ed59df079fca0e92bfbb))

* move vmaas evaluation of single system_platform to separate method ([`f528368`](https://github.com/RedHatInsights/vulnerability-engine/commit/f528368be9c418b36b769b19b54dad091ff933e5))

* database: change vmaas_json fields in mock data to to the JSON format. ([`7c81d32`](https://github.com/RedHatInsights/vulnerability-engine/commit/7c81d326e3c346fb6f5acdb04b6e95c241471c7e))

* evaluator: select real system information from the DB. ([`8824a1b`](https://github.com/RedHatInsights/vulnerability-engine/commit/8824a1b9a5932e2ada60fcd0c30021c409fc1869))

* https should be solved on openshift level ([`7bd565a`](https://github.com/RedHatInsights/vulnerability-engine/commit/7bd565af3921350e340233cac213bf01a39dd543))

* new version of upload svc changed topic name ([`df99cf7`](https://github.com/RedHatInsights/vulnerability-engine/commit/df99cf776304d75e1e52b2ce73ec1b39f80a822d))

* import system record to the db ([`34bbaf5`](https://github.com/RedHatInsights/vulnerability-engine/commit/34bbaf5dcf92d6d7263dd2c447abbeb3b3e94b24))

* handle exception ([`216582b`](https://github.com/RedHatInsights/vulnerability-engine/commit/216582b7a96512f2b84d5c5bc55552ba3f24bae0))

* get system id and hostname ([`51610fc`](https://github.com/RedHatInsights/vulnerability-engine/commit/51610fca07b437a66501a94fc8deab2a2696bbe1))

* add more env values ([`aab23db`](https://github.com/RedHatInsights/vulnerability-engine/commit/aab23dbdf2f0dc80044f74bff86a767c14184119))

* don&#39;t connect using external port ([`d2c6e68`](https://github.com/RedHatInsights/vulnerability-engine/commit/d2c6e68cee90165bd864e1244be607beca1204f0))

* link database dir into devel-compose ([`71292de`](https://github.com/RedHatInsights/vulnerability-engine/commit/71292de20daf89a08dfd794db11cc689427ead9e))

* wait for database ([`6f4eb6c`](https://github.com/RedHatInsights/vulnerability-engine/commit/6f4eb6c6688c9b81afefb0f8ca6b5eb77a60c463))

* connect to the database ([`09fd0a1`](https://github.com/RedHatInsights/vulnerability-engine/commit/09fd0a1163f355081c93889cab65783718141217))

* prevent to use evaluator creds when config is missing in manager/listener ([`9837822`](https://github.com/RedHatInsights/vulnerability-engine/commit/9837822a74b3ffc3bc1eafdb02ce461f9391e235))

* prepare vmaas request from archive ([`81dbb7f`](https://github.com/RedHatInsights/vulnerability-engine/commit/81dbb7f5ae82af3b45495f365b8e671eb8d1b150))

* change topic ([`69ffa84`](https://github.com/RedHatInsights/vulnerability-engine/commit/69ffa84693219e4b7248a5576ef4b2821f5b7f42))

* format request for vmaas ([`f0652bf`](https://github.com/RedHatInsights/vulnerability-engine/commit/f0652bf8da57008d8cbc88c242d4e04ae3f7897b))

* parse insights archive ([`7b6ab06`](https://github.com/RedHatInsights/vulnerability-engine/commit/7b6ab06b75786326b7419c46e329caabbbf3e14b))

* fixing typo ([`2d218a3`](https://github.com/RedHatInsights/vulnerability-engine/commit/2d218a348c02c4587f677bf70d656775c654693d))

* improve logging ([`e6c6f23`](https://github.com/RedHatInsights/vulnerability-engine/commit/e6c6f2381332ceda3adc00359e947099e54a4719))

* run both kafka and websocket listeners at once ([`beee5a5`](https://github.com/RedHatInsights/vulnerability-engine/commit/beee5a564e545eedd347b308a74acb1c3d823753))

* install insights-core ([`8f30ff2`](https://github.com/RedHatInsights/vulnerability-engine/commit/8f30ff2ee6bb5ef4f2e511220f837747f7208f78))

* build insights-core package ([`597ba20`](https://github.com/RedHatInsights/vulnerability-engine/commit/597ba2092bf17f9c47167be26d588c512724bdac))

* evaluator: save VMaaS data to the DB. ([`14eb579`](https://github.com/RedHatInsights/vulnerability-engine/commit/14eb579d2a30b08fd0673f92c5fb5706fab819c0))

* evaluator: add dependency on kafka service. ([`bf73092`](https://github.com/RedHatInsights/vulnerability-engine/commit/bf730926323ff177336a38cf6566bb2a9918e6f2))

* database: fix bug with wrong location for startup sql scripts. ([`e972195`](https://github.com/RedHatInsights/vulnerability-engine/commit/e9721958f7634b3657a9a69dc419beafe840e9d5))

* ignore vscode project settings ([`a0aab69`](https://github.com/RedHatInsights/vulnerability-engine/commit/a0aab69e884392765853bcf3f8368f7300642503))

* Replace risk with cvss score ([`3ae21ed`](https://github.com/RedHatInsights/vulnerability-engine/commit/3ae21edd2037aaf6aff5ad0086ecf8d43ba92094))

* Add more manager apis ([`49acab2`](https://github.com/RedHatInsights/vulnerability-engine/commit/49acab29dd6ed7f5c6cf2893074ec01ab4baf974))

* evaluator: add some fixes.
group ID for a Kafka consumer
add logger interface
fix Kafka service name for the mock_listener ([`760d788`](https://github.com/RedHatInsights/vulnerability-engine/commit/760d788e3f6954ce2cd9e9d21514c219bd55f179))

* fix #32: put all Dockefiles on the same level with docker-compose.yml. ([`85c9899`](https://github.com/RedHatInsights/vulnerability-engine/commit/85c98997730842c9166ae30bd2babbae3698c00a))

* add cve_metadata table, change uuid to platform_id and a couple other updates ([`c3c3117`](https://github.com/RedHatInsights/vulnerability-engine/commit/c3c31173b99e9dd23ce9cb9b76282413d5a00452))

* Make manager API compliant with REST API proposal ([`171de6f`](https://github.com/RedHatInsights/vulnerability-engine/commit/171de6fec62167061cb2b12b1559faa0535fc1e4))

* Enable HTTPS on ve_manager ([`de8a01b`](https://github.com/RedHatInsights/vulnerability-engine/commit/de8a01b177c8b23434557ca92f88a323d2cc6f7d))

* Create ve_manager handler to set CORS headers ([`d49a870`](https://github.com/RedHatInsights/vulnerability-engine/commit/d49a87087d88abfabe514ffadf6d4ab8f85c365e))

* Add simple ve_manager API handler ([`3131bc9`](https://github.com/RedHatInsights/vulnerability-engine/commit/3131bc98f7c629ffe5006d37f3e5260fdc0d92fa))

* Revert &#34;Set Manager to proxy VMaaS calls&#34;

This reverts commit 620f823c12eacc00d89659b003e48202ef3065e7. ([`51fba46`](https://github.com/RedHatInsights/vulnerability-engine/commit/51fba46f766e30910b612b1206b20b86860fb513))

* Revert &#34;Forward real ip of the user in manager&#34;

This reverts commit 1040d8042df4f399e9ce0eef7ffc595be72b8b63. ([`a155246`](https://github.com/RedHatInsights/vulnerability-engine/commit/a155246960dc05238f999d01f0249acbb5076a4a))

* Extract database handler to /database to allow other services to use it ([`428df46`](https://github.com/RedHatInsights/vulnerability-engine/commit/428df464ea69c0dc768c3fe8886bd541c54941bd))

* add listener user and update schema to match recent design changes ([`d6b3b90`](https://github.com/RedHatInsights/vulnerability-engine/commit/d6b3b90c5097e2b99f061f7b5fb69ab1b0cea2b9))

* evaluator: add DB handler. ([`dc33867`](https://github.com/RedHatInsights/vulnerability-engine/commit/dc338673bef2a4e2760c7f5b1ac5b56985168157))

* This temporary commit adds insert of dev data for help in ongoing development ([`f3577df`](https://github.com/RedHatInsights/vulnerability-engine/commit/f3577df5678e63cdbcd2134d3c2fc4ccf0717203))

* Update schema with fixes to grants, rh_account columns for tenancy, and make system_vulnerabilities work as discussed ([`e9868a8`](https://github.com/RedHatInsights/vulnerability-engine/commit/e9868a80d1858bca12735ebd4270e7b08140b290))

* wait for vmaas_websocket service before listener starts ([`e378659`](https://github.com/RedHatInsights/vulnerability-engine/commit/e378659ded01fa41db5ab93462126b3faaba49d7))

* fix websocket host to match latest vmaas changes ([`3080a4a`](https://github.com/RedHatInsights/vulnerability-engine/commit/3080a4a1fa4f4da4ea5b4c8063e72e5d0476700b))

* rename reposcan_listener to vmaas_listener ([`7d880d3`](https://github.com/RedHatInsights/vulnerability-engine/commit/7d880d39e49fca79ac83c23059c689272d471d79))

* listener depends on kafka ([`885d2ee`](https://github.com/RedHatInsights/vulnerability-engine/commit/885d2ee30344e27b2ea81db7b57c6d1474776412))

* connect as listener and wait for &#39;webapps-refreshed&#39; message ([`5327405`](https://github.com/RedHatInsights/vulnerability-engine/commit/5327405b54d7f28525153d8f2451bdb7cb1dccdd))

* rename reposcan host ([`c82d3d1`](https://github.com/RedHatInsights/vulnerability-engine/commit/c82d3d1bfeb67d7d549c89c1377a0181ff875ed8))

* set unified docker compose project name to run different composes on same network ([`7eb9d44`](https://github.com/RedHatInsights/vulnerability-engine/commit/7eb9d44d0db6fe14660a807adcf482935a6e403e))

* listener: fix kafka service name. ([`86aad3b`](https://github.com/RedHatInsights/vulnerability-engine/commit/86aad3b769d9da20c07f2b5ebab3a5f9066c4e1a))

* evaluator: don&#39;t need to expose and forward TCP port anymore. ([`3b7c3f4`](https://github.com/RedHatInsights/vulnerability-engine/commit/3b7c3f445df3753043424496c2db6f5de669bd78))

* evaluator: add missing dependency installation. ([`63feb91`](https://github.com/RedHatInsights/vulnerability-engine/commit/63feb91e284a300f06b526de1f9ca3f862eb20a6))

* evaluator: add config file for the kafka env variables. ([`9090251`](https://github.com/RedHatInsights/vulnerability-engine/commit/909025158c1b1dd6eecc028f3feb1b2a7d236589))

* Forward real ip of the user in manager ([`1040d80`](https://github.com/RedHatInsights/vulnerability-engine/commit/1040d8042df4f399e9ce0eef7ffc595be72b8b63))

* Set Manager to proxy VMaaS calls ([`620f823`](https://github.com/RedHatInsights/vulnerability-engine/commit/620f823c12eacc00d89659b003e48202ef3065e7))

* add mitigated vulnerabilities table ([`8d8839d`](https://github.com/RedHatInsights/vulnerability-engine/commit/8d8839d3a165fd0d47bcc3b5570e33a3480f6c71))

* subprocess which listens for upload messages ([`1f3ce6c`](https://github.com/RedHatInsights/vulnerability-engine/commit/1f3ce6c1f59318d0bcb12d7f1168dc1578e487ae))

* added functions for listening on other queues ([`78ab794`](https://github.com/RedHatInsights/vulnerability-engine/commit/78ab7949abbcf75e8cbad57d42fba40631761d53))

* send msg to kafka when reposcan refreshed data ([`f1c6329`](https://github.com/RedHatInsights/vulnerability-engine/commit/f1c6329c3afd46cd64ec4229c8a3f050f8027081))

* evaluator: fix bug in mock_listrner, run all threads before join. ([`8db8021`](https://github.com/RedHatInsights/vulnerability-engine/commit/8db80210fb23881df08f352bd837c46be3f16138))

* evaluator: add all systems updates evaluating. ([`8246a60`](https://github.com/RedHatInsights/vulnerability-engine/commit/8246a603e9e133e83563d3170366107a0436050b))

* evaluator: no need to expose any port number anymore, since we use MQ. ([`2eb4577`](https://github.com/RedHatInsights/vulnerability-engine/commit/2eb4577f91b50b8012d97b935c92d8c626f816ae))

* VMAAS-110 - Stand up initial database with initial schema ([`43e5526`](https://github.com/RedHatInsights/vulnerability-engine/commit/43e552613d257a3830128232420482c6db47aa71))

* evaluator: add dependency installation in Dockerfile. ([`1e7d71c`](https://github.com/RedHatInsights/vulnerability-engine/commit/1e7d71c7fee1bd2ce94c7bd57b380412902ac58f))

* evaluator: add mock_listener to push messages into queue.
Can be used only in local environment and requeires port forwarding. Local port is 29092. ([`af3e7f9`](https://github.com/RedHatInsights/vulnerability-engine/commit/af3e7f92b9ac7c43d0ade7ff7c2196524d087fb9))

* evaluator: implementation of Phase 0.
So far just drop a message about new notification is recieved via Kafka MQ. ([`83c57a3`](https://github.com/RedHatInsights/vulnerability-engine/commit/83c57a3ce1504ccb3b709921fa09fd644f3d42bc))

* python3-kafka examples ([`0085647`](https://github.com/RedHatInsights/vulnerability-engine/commit/0085647865699233da3194cdacc39813bddfb5a5))

* use local instance of kafka for development ([`e443867`](https://github.com/RedHatInsights/vulnerability-engine/commit/e443867dfb1e41568afb6f3f98a72e495a3e0f1b))

* added kafka and python libraries ([`ff5e0f8`](https://github.com/RedHatInsights/vulnerability-engine/commit/ff5e0f87e6745199056fd13d3626245f789a7caf))

* added database to compose file ([`9265ccc`](https://github.com/RedHatInsights/vulnerability-engine/commit/9265ccc67eb7992d0217d8ca482702a24f4f388f))

* database container with basic schema ([`cf148a6`](https://github.com/RedHatInsights/vulnerability-engine/commit/cf148a667d1b73b5cd8cd2cc20de0d70ebc75427))

* setup network so listener can connect to vmaas in developer setup ([`13223ff`](https://github.com/RedHatInsights/vulnerability-engine/commit/13223ffb98574210c8b5a7a8c93a898c014c3639))

* connect listener to vmaas-reposcan websocket ([`c8d9033`](https://github.com/RedHatInsights/vulnerability-engine/commit/c8d9033ba059f30eb3d0ab4772155ec279fb266b))

* examples: added README with instructions. ([`b97b5f9`](https://github.com/RedHatInsights/vulnerability-engine/commit/b97b5f9f48f9e3462b4ed5fbc926a46af335fb67))

* example scripts to consume message queue and write to it ([`adc64ae`](https://github.com/RedHatInsights/vulnerability-engine/commit/adc64ae62098be6bb6697e17c576478e11ce2a87))

* remove mock server from the docker-compose configs. ([`aa6dbe6`](https://github.com/RedHatInsights/vulnerability-engine/commit/aa6dbe67b1062a1bc0cb9bf4f13bc8889a102821))

* remove old mock-server. ([`26472fc`](https://github.com/RedHatInsights/vulnerability-engine/commit/26472fc346bd406e9c28fce34e58340eaea13660))

* a foundation of main services ([`c1bd515`](https://github.com/RedHatInsights/vulnerability-engine/commit/c1bd515597335ada36adba945c5bf55d2502f2b3))

* enable https in mock service so it can be called from UI

otherwise browser denies mixing https/http content ([`15b9ffa`](https://github.com/RedHatInsights/vulnerability-engine/commit/15b9ffadc9d209470e2db8b68246679e6992b3ad))

* Added a .swp file by accident - removing ([`c75da25`](https://github.com/RedHatInsights/vulnerability-engine/commit/c75da259563491f177d2d37f8136220eb976e2a6))

* a foundation of engine server ([`a5f72b5`](https://github.com/RedHatInsights/vulnerability-engine/commit/a5f72b58d8dd786a2feee9507deb35abfbb8c519))

* Added a test-user &#39;ggainey&#39; with some real inventory RPMs ([`0e89623`](https://github.com/RedHatInsights/vulnerability-engine/commit/0e89623bb095f3c19c9f4cebf0e8f8b182e56c42))

* Added SessionHandler to do session-validation ([`463486f`](https://github.com/RedHatInsights/vulnerability-engine/commit/463486f05c9f17f2b5915b28682fccfe631e9d41))

* Added pwd-checking to api/v1/login/&lt;user&gt;/&lt;pwd&gt;

This is NOT GOOD SECURITY PRACTICE - but it&#39;s ok for workflow-checking ([`e32a5e0`](https://github.com/RedHatInsights/vulnerability-engine/commit/e32a5e0cf53b9ae28280cfe2297cd75f47d9a457))

* Moved data from static-code-strings to json files on the filesystem ([`e2f5987`](https://github.com/RedHatInsights/vulnerability-engine/commit/e2f5987076464a68569ec9231fd0d9105704d481))

* Add fetch script ([`9e299b3`](https://github.com/RedHatInsights/vulnerability-engine/commit/9e299b3bda01ba1830d07e623e60da8fce9067c3))

* added developer setup scripts/environment ([`7369a63`](https://github.com/RedHatInsights/vulnerability-engine/commit/7369a63b280bd0321418cd58ed3363285ffb3706))

* Filled out mockservice to have static data and respond to more-detailed API calls
Added a docker-compose to make my lifer a little easier
This needs more work to return data that useful enough for the UI POC, but
it is at least a start. ([`6e0b008`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e0b00824289b74bcf79b8a1e00f0b73b5193962))

* add .gitignore file. ([`a21a720`](https://github.com/RedHatInsights/vulnerability-engine/commit/a21a72055ed092464997536e00a6cdf56f360d13))

* initial skeleton of mock service ([`3544ec9`](https://github.com/RedHatInsights/vulnerability-engine/commit/3544ec9e2b8cbe35692f5481dcae166e309ffe0d))

* add empty dir for the further mock API development. ([`a7d0161`](https://github.com/RedHatInsights/vulnerability-engine/commit/a7d0161cfa5c1633ff720af800468a73f0b85cf4))

* Initial commit ([`4487d71`](https://github.com/RedHatInsights/vulnerability-engine/commit/4487d7185605806940f4695c23d8548b50cc14a4))
