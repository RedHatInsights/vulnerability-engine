# Changelog

<!--next-version-placeholder-->

## v1.87.2 (2021-01-21)
### Fix
* **advisor-listener:** Use partitioning during update ([`354b974`](https://github.com/RedHatInsights/vulnerability-engine/commit/354b974daf4f1e628362923517ac3462392cd92a))

## v1.87.1 (2021-01-19)
### Fix
* **manager:** Rules severity is in range 1-4 not 0-3 ([`49284c0`](https://github.com/RedHatInsights/vulnerability-engine/commit/49284c04c253e5c64c49a29a334a16541547ae6b))

## v1.87.0 (2021-01-18)
### Feature
* **manager:** Add API for Patch -> Vulnerability integration ([`94a0ce2`](https://github.com/RedHatInsights/vulnerability-engine/commit/94a0ce2251943936ab58c865d2b2b11c61aaf86f))

## v1.86.5 (2021-01-18)
### Fix
* Add missing show_advisories parameter to manager.spec.yaml ([`8144de6`](https://github.com/RedHatInsights/vulnerability-engine/commit/8144de6c2ce6240c74ac6919e8bfedf4a907d3cb))

## v1.86.4 (2021-01-18)
### Fix
* **manager:** Optimize partitioned select ([`c778904`](https://github.com/RedHatInsights/vulnerability-engine/commit/c77890458303b7da08ace38b65be60aaab46913d))
* **manager:** Remove usage of SystemPlatform.cve_count_cache ([`cae0c13`](https://github.com/RedHatInsights/vulnerability-engine/commit/cae0c137a3e9c6b1dab446e15fc7f6f0fca38923))

## v1.86.3 (2021-01-15)
### Fix
* **manager:** Add missing filters for systems/{inventory_id}/cves and .../ids and fix advisory filter for affected_systems/ids ([`4860c32`](https://github.com/RedHatInsights/vulnerability-engine/commit/4860c320364ae6bd09e34f0df972f4244ad0f6ba))

## v1.86.2 (2021-01-14)
### Fix
* **manager:** Remove usage of cached systems_status_divergent count ([`cab1edd`](https://github.com/RedHatInsights/vulnerability-engine/commit/cab1edde47588473e8e0e3fdaaf031af0df2f209))

## v1.86.1 (2021-01-14)
### Fix
* **manager:** Don't use caches in report handler ([`9c349f6`](https://github.com/RedHatInsights/vulnerability-engine/commit/9c349f669c74207c8825fa3037568e5cfffb08d6))

## v1.86.0 (2021-01-14)
### Feature
* **manager:** Add dashboard API with tag/workload support ([`88cf420`](https://github.com/RedHatInsights/vulnerability-engine/commit/88cf420c6f65e632faaa12f6db2fa8d620e3d9ad))

## v1.85.1 (2021-01-12)
### Fix
* **manager:** Return 400 if advisory param passed without show_advisories parameter ([`ba2f5e1`](https://github.com/RedHatInsights/vulnerability-engine/commit/ba2f5e1a01a79a15c1278dbb9176042f5d043852))

## v1.85.0 (2021-01-12)
### Feature
* **manager:** Support tag/sap filtering in vulnerabilities API ([`4233efe`](https://github.com/RedHatInsights/vulnerability-engine/commit/4233efe7ca6ac5a0a3995fa5a75a2645fbdfe70e))

## v1.84.0 (2021-01-11)
### Feature
* **manager:** Display live counts in /vulnerabilities/cves API ([`e237cdb`](https://github.com/RedHatInsights/vulnerability-engine/commit/e237cdbc12e1a7a66315df8a4bfcad3f381ab14b))

## v1.83.0 (2021-01-07)
### Feature
* **manager:** Display rules in the executive report ([`831519d`](https://github.com/RedHatInsights/vulnerability-engine/commit/831519d12d98b4ada9fd1e8df4623d7f03c4f606))

## v1.82.3 (2021-01-05)
### Fix
* **manager:** Display rules with 0 systems affected ([`f6933cc`](https://github.com/RedHatInsights/vulnerability-engine/commit/f6933ccbc1e300404fa4371e6e33e63e3b8e0aea))

### Documentation
* Change advisory parameter description ([`6e633e6`](https://github.com/RedHatInsights/vulnerability-engine/commit/6e633e61a7b90b46b012b862f3ef6c6169c9b623))

## v1.82.2 (2020-12-18)
### Fix
* **manager:** Implicitly cast uuid to string ([`26d58a3`](https://github.com/RedHatInsights/vulnerability-engine/commit/26d58a3f94cf6043bb1eab41b9e32a10c84acdb2))

## v1.82.1 (2020-12-17)
### Fix
* **manager:** Do not include stale systems in counts ([`25a2f6a`](https://github.com/RedHatInsights/vulnerability-engine/commit/25a2f6ae46e43050523ca4b2b3746ac5c651b648))
* **manager:** Left outer join needed for 0 count rules ([`16048ed`](https://github.com/RedHatInsights/vulnerability-engine/commit/16048ed46ad4120dd63e099cb82fa06f1cc3a440))

## v1.82.0 (2020-12-17)
### Feature
* **manager:** Display number of systems affected for rules ([`5d05d8f`](https://github.com/RedHatInsights/vulnerability-engine/commit/5d05d8fae2226a39605ef643eb1735e9c1bc876b))

## v1.81.0 (2020-12-16)
### Feature
* **manager:** Remove casting inventory_id to uuid ([`b07eaba`](https://github.com/RedHatInsights/vulnerability-engine/commit/b07eaba524756dd540c36d39947613f81a5b640b))
* **database:** Change inventory_id from text to uuid ([`aaee5e0`](https://github.com/RedHatInsights/vulnerability-engine/commit/aaee5e0d4a9fb310e2186ac0603ae9a95814fdc1))

## v1.80.0 (2020-12-15)
### Feature
* **manager:** Add filter in rules titles for systems/{id}/cves endpoint ([`443b766`](https://github.com/RedHatInsights/vulnerability-engine/commit/443b7663a3d0c75ff4335e0d25f9672c71d84fb2))

## v1.79.1 (2020-12-10)
### Fix
* **manager:** Add join with rule table for id_query ([`1dae954`](https://github.com/RedHatInsights/vulnerability-engine/commit/1dae954ea80d16d1d3c11a21165a948de05e61cf))

## v1.79.0 (2020-12-07)
### Feature
* **manager:** Add filter by security rules title ([`6fed16d`](https://github.com/RedHatInsights/vulnerability-engine/commit/6fed16df12f265ece91b99e2f9fefc2362c2fca2))

## v1.78.0 (2020-12-07)
### Feature
* **taskomatic:** Try to import other rules when one fails ([`2b7cb63`](https://github.com/RedHatInsights/vulnerability-engine/commit/2b7cb632b58f9c034e0e053fd5a37ab25e716c68))

## v1.77.1 (2020-12-03)
### Fix
* Bump insights-core version for rules import to work ([`928013a`](https://github.com/RedHatInsights/vulnerability-engine/commit/928013a417e85a0582dc6b6a27f3c7981be69461))

## v1.77.0 (2020-12-02)
### Feature
* Split table with active vulnerabilities ([`573669a`](https://github.com/RedHatInsights/vulnerability-engine/commit/573669aeda4f066c27c09aca0878e9634f11b1c2))

### Fix
* Use rh_account_id in system_vulnerabilities ([`5c829c6`](https://github.com/RedHatInsights/vulnerability-engine/commit/5c829c6aa582be1c4ff60207f42179ddcde8fa6e))

## v1.76.0 (2020-12-02)
### Feature
* Add rule_impact column ([`911268a`](https://github.com/RedHatInsights/vulnerability-engine/commit/911268ae5dc55ef638d2e311c25d4951eeba4f1b))

### Fix
* Add rule impact to schema ([`ab7f77d`](https://github.com/RedHatInsights/vulnerability-engine/commit/ab7f77d477205838377ac7cc9b302101954a162a))

## v1.75.0 (2020-11-30)
### Feature
* Add opt_out info in systems/ids response ([`1deaf70`](https://github.com/RedHatInsights/vulnerability-engine/commit/1deaf701da56de5232fa908ecfb18472f3add523))

## v1.74.4 (2020-11-27)
### Fix
* Add enforcing of endpoint identification for metrics ([`3f10c7c`](https://github.com/RedHatInsights/vulnerability-engine/commit/3f10c7c82ea38b4c507844b45c73ef9eb8ba38b5))

## v1.74.3 (2020-11-26)
### Fix
* Fix total_items and advisory filter bugs ([`47e4a1a`](https://github.com/RedHatInsights/vulnerability-engine/commit/47e4a1a36bd0ae0d1d5f7973fa41c836f6cfd5a3))

## v1.74.2 (2020-11-26)
### Fix
* Correct behaviour for excluded systems filter ([`66e643e`](https://github.com/RedHatInsights/vulnerability-engine/commit/66e643e8f7b796d15bf57908196184bbef735746))

## v1.74.1 (2020-11-20)
### Fix
* Empty list of should be inserted instead of empty dict ([`da15f6c`](https://github.com/RedHatInsights/vulnerability-engine/commit/da15f6ceb69458bbbdd76f4777a812ec65c2d572))

## v1.74.0 (2020-11-19)
### Feature
* Support calling vmaas_sync API ([`586eba8`](https://github.com/RedHatInsights/vulnerability-engine/commit/586eba835ee9a26ed2d3a47b84da8bc444c47dd8))
* Support calling taskomatic API ([`59434b5`](https://github.com/RedHatInsights/vulnerability-engine/commit/59434b5077816b87c05bbbb129a014b7d9b3f8b5))
* Add API to trigger job run from outside ([`b193d54`](https://github.com/RedHatInsights/vulnerability-engine/commit/b193d5429953d5afee7c72e35a8a3d03b2ba2c61))

## v1.73.2 (2020-11-18)
### Fix
* Set cloudwatch in gunicorn and log query params ([`a4d47d4`](https://github.com/RedHatInsights/vulnerability-engine/commit/a4d47d467987c91dba496c0939a9745ff529b72e))

## v1.73.1 (2020-11-18)
### Fix
* Duplicate messages in kibana ([`9178e79`](https://github.com/RedHatInsights/vulnerability-engine/commit/9178e79069c46327762d3c519b7c38ed80233098))

## v1.73.0 (2020-11-13)
### Feature
* Delete systems not present in inventory (cyndi schema) ([`710c2b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/710c2b6c30dcda3eb5f7feaf9a595ead55d8275e))

## v1.72.4 (2020-11-12)
### Fix
* Return empty list instead of 404 if advisory does not exist ([`b557081`](https://github.com/RedHatInsights/vulnerability-engine/commit/b557081d6cedfc7c0b5a5e1d491e1527cbe68db4))

## v1.72.3 (2020-11-11)
### Fix
* Split admin functionality to separate container ([`9cfbd32`](https://github.com/RedHatInsights/vulnerability-engine/commit/9cfbd32d74f2a727e45a0114de0de298c6d9d62e))

## v1.72.2 (2020-11-10)
### Fix
* Fix overflow error in vulnerabilities/cves ([`a62aecd`](https://github.com/RedHatInsights/vulnerability-engine/commit/a62aecdc97fe63a56229926dd180bfba6fddc4b0))

## v1.72.1 (2020-11-05)
### Fix
* Store patch_access in object ([`38e2021`](https://github.com/RedHatInsights/vulnerability-engine/commit/38e20212b3ccec08b72986e0326296c53899918f))

## v1.72.0 (2020-11-04)
### Feature
* Add signal handling ([`e961f8a`](https://github.com/RedHatInsights/vulnerability-engine/commit/e961f8a61106f30823c7e210d7475afdf380211d))

## v1.71.0 (2020-10-30)
### Feature
* Sanitize nul values from parameters ([`39e0eab`](https://github.com/RedHatInsights/vulnerability-engine/commit/39e0eab320e634ad6eda276e36a8e36af6ae1007))

## v1.70.0 (2020-10-30)
### Feature
* Move current admin calls to path accessible using Turnpike ([`b03e3a3`](https://github.com/RedHatInsights/vulnerability-engine/commit/b03e3a3a2be7831273afdf69683ff99f166bc8ec))

## v1.69.2 (2020-10-29)
### Fix
* Remove previously added path ([`9cc4826`](https://github.com/RedHatInsights/vulnerability-engine/commit/9cc482673da17e9958a1dee0b291454817a376d0))

## v1.69.1 (2020-10-26)
### Fix
* Casting to TEXT on inventory.hosts may be very slow ([`2819436`](https://github.com/RedHatInsights/vulnerability-engine/commit/281943653462a9587d54218189c569b8dd3a14ff))

## v1.69.0 (2020-10-26)
### Feature
* Send request to patch in parallel way ([`7a25908`](https://github.com/RedHatInsights/vulnerability-engine/commit/7a259080530c92062f59b1b2e70044908275c9d8))

## v1.68.2 (2020-10-26)
### Fix
* Hostname env var shouldn't be configurable ([`f58677b`](https://github.com/RedHatInsights/vulnerability-engine/commit/f58677bceeed4810899c9f856bac49d2a5e48619))
* Use pod name for log-stream in CW config ([`c571162`](https://github.com/RedHatInsights/vulnerability-engine/commit/c571162cab93bb9ecc668211d3d53aed0b56b35d))

## v1.68.1 (2020-10-23)
### Fix
* Fix semantic-release issues ([`b3010df`](https://github.com/RedHatInsights/vulnerability-engine/commit/b3010df1bb8249f9b8826411d91cf07dd43b903e))

## v1.68.0 (2020-10-23)
### Feature
* Add filter for sap_sids ([`717e87b`](https://github.com/RedHatInsights/vulnerability-engine/commit/717e87b20100c29369d5a98c04ab59521857f4a0))

### Fix
* Adapt affecting filter for usage with UI checkboxes ([`41a3d09`](https://github.com/RedHatInsights/vulnerability-engine/commit/41a3d09aad56a308641ebb1e56b26f0a9d09516a))
* Iterating through view twice executes query twice ([`fe137b6`](https://github.com/RedHatInsights/vulnerability-engine/commit/fe137b67f937a8aa4989754f43b4a17e5bedf2f2))

## v1.67.2 (2020-10-22)
### Feature
* Provide advanced DB metrics ([`801bad9`](https://github.com/RedHatInsights/vulnerability-engine/commit/801bad9b008181a3b6855fa60f5e79fe485a5b80))

### Fix
* Make tag namespace nullable ([`9dc8ed3`](https://github.com/RedHatInsights/vulnerability-engine/commit/9dc8ed36d8f0f20e404e676d583212c045f07451))

## v1.67.1 (2020-10-22)
### Fix
* Potential deadlock sources ([`44ae8c9`](https://github.com/RedHatInsights/vulnerability-engine/commit/44ae8c9af01c51e634d8c98a7bb5c032eb151884))

## v1.67.0 (2020-10-22)
### Feature
* Use cyndi as single source of truth ([`cea4cc1`](https://github.com/RedHatInsights/vulnerability-engine/commit/cea4cc1647879aaa4a1f13c71053f852765eda54))

## v1.66.0 (2020-10-22)
### Feature
* Add advisory filtering ([`58164b0`](https://github.com/RedHatInsights/vulnerability-engine/commit/58164b08d2b5496ddbb5e6cb5ef7111900077f4b))

## v1.65.1 (2020-10-21)
### Fix
* Don't require insights_client_version as insights-engine or cyndi doesn't require it either ([`bac2781`](https://github.com/RedHatInsights/vulnerability-engine/commit/bac27811856964d90a9b8eda404b393173f76439))

## v1.65.0 (2020-10-14)
### Feature
* Add excluded filter for systems ([`c6c9873`](https://github.com/RedHatInsights/vulnerability-engine/commit/c6c9873ca7b7341f66b2a5479295883fc5055848))
* Add affecting filter for vulnerabilities/cves ([`905a050`](https://github.com/RedHatInsights/vulnerability-engine/commit/905a050d58be85cc5a5dbe53a82a76b0feb0cd01))

### Fix
* Mark old filtering options as deprecated ([`eae73e3`](https://github.com/RedHatInsights/vulnerability-engine/commit/eae73e307fdfc18ec6fafb11ebd1fb96df733bcf))

## v1.64.2 (2020-10-14)
### Fix
* Do not retry external requests returning HTTP 4xx ([`31ec7d1`](https://github.com/RedHatInsights/vulnerability-engine/commit/31ec7d104b5cf9a19679ef3041ed1494efe79dce))
* Make non-insights msgs skip stricter ([`b6b6b37`](https://github.com/RedHatInsights/vulnerability-engine/commit/b6b6b377de07c0d8f77c60ea7b432e8aaae6011c))

## v1.64.1 (2020-10-13)
### Fix
* Fix typo ([`3acc472`](https://github.com/RedHatInsights/vulnerability-engine/commit/3acc472e004014e4df306172378f6e2897b0e7fa))

## v1.64.0 (2020-10-13)
### Feature
* Add patchman empty mock ([`1eef453`](https://github.com/RedHatInsights/vulnerability-engine/commit/1eef4533b46d272655debb43b5cd1ec5bcbe66e7))
* Add advisories_show parameter and advisories data from patch to /affected_systems and /systems/{inventory_id}/cves ([`82f7042`](https://github.com/RedHatInsights/vulnerability-engine/commit/82f70425b9f55c198d7cb0e2a76b9457501e9d85))
* Add advisory_details query parameter ([`fb92dde`](https://github.com/RedHatInsights/vulnerability-engine/commit/fb92ddeb9640706e3c5aa4e68dc725ea4f9a76a5))

### Documentation
* Add descriptions for advisories ([`ee1c56a`](https://github.com/RedHatInsights/vulnerability-engine/commit/ee1c56a73de1499c2f0c4e9a8d1d446deb5a2431))

## v1.63.1 (2020-10-08)
### Fix
* Msg type logging in nested dicts ([`0c46dff`](https://github.com/RedHatInsights/vulnerability-engine/commit/0c46dff7c0ca1099eed0a1ed06d57b0bd433626f))

## v1.63.0 (2020-10-07)
### Feature
* Skip non-insights messages ([`7ac47a5`](https://github.com/RedHatInsights/vulnerability-engine/commit/7ac47a51ea5bcff7b8102e61239bc6f9eaa83a58))
* Skip non-insights messages ([`296f702`](https://github.com/RedHatInsights/vulnerability-engine/commit/296f7022e631b535797593ba5608e80e1a2e4e0d))

## v1.62.4 (2020-10-02)
### Fix
* Run prometheus before going to waiting loop so healthchecks won't go crazy ([`1f2f061`](https://github.com/RedHatInsights/vulnerability-engine/commit/1f2f061b63f814fd5cddf95221037c8d11b5850b))

## v1.62.3 (2020-10-01)
### Fix
* Add missing deps and update urllib3 only (CVE-2020-26137) ([`3e5584a`](https://github.com/RedHatInsights/vulnerability-engine/commit/3e5584a6ce6a7434861b00f274b33b0e732e2318))
